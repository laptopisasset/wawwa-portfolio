function X8(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();function mh(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Uk={exports:{}},c_={},zk={exports:{}},kt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xg=Symbol.for("react.element"),J8=Symbol.for("react.portal"),K8=Symbol.for("react.fragment"),Y8=Symbol.for("react.strict_mode"),Q8=Symbol.for("react.profiler"),q8=Symbol.for("react.provider"),Z8=Symbol.for("react.context"),e9=Symbol.for("react.forward_ref"),t9=Symbol.for("react.suspense"),n9=Symbol.for("react.memo"),r9=Symbol.for("react.lazy"),O3=Symbol.iterator;function i9(n){return n===null||typeof n!="object"?null:(n=O3&&n[O3]||n["@@iterator"],typeof n=="function"?n:null)}var Gk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Hk=Object.assign,Vk={};function gh(n,e,t){this.props=n,this.context=e,this.refs=Vk,this.updater=t||Gk}gh.prototype.isReactComponent={};gh.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};gh.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function Wk(){}Wk.prototype=gh.prototype;function h2(n,e,t){this.props=n,this.context=e,this.refs=Vk,this.updater=t||Gk}var p2=h2.prototype=new Wk;p2.constructor=h2;Hk(p2,gh.prototype);p2.isPureReactComponent=!0;var F3=Array.isArray,jk=Object.prototype.hasOwnProperty,m2={current:null},$k={key:!0,ref:!0,__self:!0,__source:!0};function Xk(n,e,t){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)jk.call(e,r)&&!$k.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:xg,type:n,key:s,ref:o,props:i,_owner:m2.current}}function s9(n,e){return{$$typeof:xg,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function g2(n){return typeof n=="object"&&n!==null&&n.$$typeof===xg}function o9(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var N3=/\/+/g;function lw(n,e){return typeof n=="object"&&n!==null&&n.key!=null?o9(""+n.key):e.toString(36)}function My(n,e,t,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case xg:case J8:o=!0}}if(o)return o=n,i=i(o),n=r===""?"."+lw(o,0):r,F3(i)?(t="",n!=null&&(t=n.replace(N3,"$&/")+"/"),My(i,e,t,"",function(c){return c})):i!=null&&(g2(i)&&(i=s9(i,t+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(N3,"$&/")+"/")+n)),e.push(i)),1;if(o=0,r=r===""?".":r+":",F3(n))for(var a=0;a<n.length;a++){s=n[a];var l=r+lw(s,a);o+=My(s,e,t,l,i)}else if(l=i9(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=r+lw(s,a++),o+=My(s,e,t,l,i);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Q0(n,e,t){if(n==null)return n;var r=[],i=0;return My(n,r,"","",function(s){return e.call(t,s,i++)}),r}function a9(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var gi={current:null},Cy={transition:null},l9={ReactCurrentDispatcher:gi,ReactCurrentBatchConfig:Cy,ReactCurrentOwner:m2};kt.Children={map:Q0,forEach:function(n,e,t){Q0(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Q0(n,function(){e++}),e},toArray:function(n){return Q0(n,function(e){return e})||[]},only:function(n){if(!g2(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};kt.Component=gh;kt.Fragment=K8;kt.Profiler=Q8;kt.PureComponent=h2;kt.StrictMode=Y8;kt.Suspense=t9;kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=l9;kt.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=Hk({},n.props),i=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=m2.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)jk.call(e,l)&&!$k.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:xg,type:n.type,key:i,ref:s,props:r,_owner:o}};kt.createContext=function(n){return n={$$typeof:Z8,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:q8,_context:n},n.Consumer=n};kt.createElement=Xk;kt.createFactory=function(n){var e=Xk.bind(null,n);return e.type=n,e};kt.createRef=function(){return{current:null}};kt.forwardRef=function(n){return{$$typeof:e9,render:n}};kt.isValidElement=g2;kt.lazy=function(n){return{$$typeof:r9,_payload:{_status:-1,_result:n},_init:a9}};kt.memo=function(n,e){return{$$typeof:n9,type:n,compare:e===void 0?null:e}};kt.startTransition=function(n){var e=Cy.transition;Cy.transition={};try{n()}finally{Cy.transition=e}};kt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};kt.useCallback=function(n,e){return gi.current.useCallback(n,e)};kt.useContext=function(n){return gi.current.useContext(n)};kt.useDebugValue=function(){};kt.useDeferredValue=function(n){return gi.current.useDeferredValue(n)};kt.useEffect=function(n,e){return gi.current.useEffect(n,e)};kt.useId=function(){return gi.current.useId()};kt.useImperativeHandle=function(n,e,t){return gi.current.useImperativeHandle(n,e,t)};kt.useInsertionEffect=function(n,e){return gi.current.useInsertionEffect(n,e)};kt.useLayoutEffect=function(n,e){return gi.current.useLayoutEffect(n,e)};kt.useMemo=function(n,e){return gi.current.useMemo(n,e)};kt.useReducer=function(n,e,t){return gi.current.useReducer(n,e,t)};kt.useRef=function(n){return gi.current.useRef(n)};kt.useState=function(n){return gi.current.useState(n)};kt.useSyncExternalStore=function(n,e,t){return gi.current.useSyncExternalStore(n,e,t)};kt.useTransition=function(){return gi.current.useTransition()};kt.version="18.2.0";zk.exports=kt;var B=zk.exports;const ee=mh(B),c9=X8({__proto__:null,default:ee},[B]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u9=B,f9=Symbol.for("react.element"),d9=Symbol.for("react.fragment"),h9=Object.prototype.hasOwnProperty,p9=u9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,m9={key:!0,ref:!0,__self:!0,__source:!0};function Jk(n,e,t){var r,i={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)h9.call(e,r)&&!m9.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:f9,type:n,key:s,ref:o,props:i,_owner:p9.current}}c_.Fragment=d9;c_.jsx=Jk;c_.jsxs=Jk;Uk.exports=c_;var ae=Uk.exports,bA={},Kk={exports:{}},fs={},Yk={exports:{}},Qk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(O,U){var H=O.length;O.push(U);e:for(;0<H;){var G=H-1>>>1,X=O[G];if(0<i(X,U))O[G]=U,O[H]=X,H=G;else break e}}function t(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var U=O[0],H=O.pop();if(H!==U){O[0]=H;e:for(var G=0,X=O.length,Z=X>>>1;G<Z;){var re=2*(G+1)-1,ie=O[re],Q=re+1,ue=O[Q];if(0>i(ie,H))Q<X&&0>i(ue,ie)?(O[G]=ue,O[Q]=H,G=Q):(O[G]=ie,O[re]=H,G=re);else if(Q<X&&0>i(ue,H))O[G]=ue,O[Q]=H,G=Q;else break e}}return U}function i(O,U){var H=O.sortIndex-U.sortIndex;return H!==0?H:O.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,f=null,d=3,m=!1,g=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(O){for(var U=t(c);U!==null;){if(U.callback===null)r(c);else if(U.startTime<=O)r(c),U.sortIndex=U.expirationTime,e(l,U);else break;U=t(c)}}function A(O){if(v=!1,w(O),!g)if(t(l)!==null)g=!0,W(C);else{var U=t(c);U!==null&&Y(A,U.startTime-O)}}function C(O,U){g=!1,v&&(v=!1,x(b),b=-1),m=!0;var H=d;try{for(w(U),f=t(l);f!==null&&(!(f.expirationTime>U)||O&&!L());){var G=f.callback;if(typeof G=="function"){f.callback=null,d=f.priorityLevel;var X=G(f.expirationTime<=U);U=n.unstable_now(),typeof X=="function"?f.callback=X:f===t(l)&&r(l),w(U)}else r(l);f=t(l)}if(f!==null)var Z=!0;else{var re=t(c);re!==null&&Y(A,re.startTime-U),Z=!1}return Z}finally{f=null,d=H,m=!1}}var E=!1,P=null,b=-1,R=5,D=-1;function L(){return!(n.unstable_now()-D<R)}function N(){if(P!==null){var O=n.unstable_now();D=O;var U=!0;try{U=P(!0,O)}finally{U?z():(E=!1,P=null)}}else E=!1}var z;if(typeof _=="function")z=function(){_(N)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,V=k.port2;k.port1.onmessage=N,z=function(){V.postMessage(null)}}else z=function(){y(N,0)};function W(O){P=O,E||(E=!0,z())}function Y(O,U){b=y(function(){O(n.unstable_now())},U)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(O){O.callback=null},n.unstable_continueExecution=function(){g||m||(g=!0,W(C))},n.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<O?Math.floor(1e3/O):5},n.unstable_getCurrentPriorityLevel=function(){return d},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(O){switch(d){case 1:case 2:case 3:var U=3;break;default:U=d}var H=d;d=U;try{return O()}finally{d=H}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(O,U){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var H=d;d=O;try{return U()}finally{d=H}},n.unstable_scheduleCallback=function(O,U,H){var G=n.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?G+H:G):H=G,O){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=H+X,O={id:u++,callback:U,priorityLevel:O,startTime:H,expirationTime:X,sortIndex:-1},H>G?(O.sortIndex=H,e(c,O),t(l)===null&&O===t(c)&&(v?(x(b),b=-1):v=!0,Y(A,H-G))):(O.sortIndex=X,e(l,O),g||m||(g=!0,W(C))),O},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(O){var U=d;return function(){var H=d;d=U;try{return O.apply(this,arguments)}finally{d=H}}}})(Qk);Yk.exports=Qk;var g9=Yk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qk=B,ls=g9;function Ge(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Zk=new Set,Cm={};function Zu(n,e){jd(n,e),jd(n+"Capture",e)}function jd(n,e){for(Cm[n]=e,n=0;n<e.length;n++)Zk.add(e[n])}var Oa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),MA=Object.prototype.hasOwnProperty,v9=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,U3={},z3={};function y9(n){return MA.call(z3,n)?!0:MA.call(U3,n)?!1:v9.test(n)?z3[n]=!0:(U3[n]=!0,!1)}function _9(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function x9(n,e,t,r){if(e===null||typeof e>"u"||_9(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function vi(n,e,t,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ir={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Ir[n]=new vi(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Ir[e]=new vi(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Ir[n]=new vi(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Ir[n]=new vi(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Ir[n]=new vi(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Ir[n]=new vi(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Ir[n]=new vi(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Ir[n]=new vi(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Ir[n]=new vi(n,5,!1,n.toLowerCase(),null,!1,!1)});var v2=/[\-:]([a-z])/g;function y2(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(v2,y2);Ir[e]=new vi(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(v2,y2);Ir[e]=new vi(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(v2,y2);Ir[e]=new vi(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Ir[n]=new vi(n,1,!1,n.toLowerCase(),null,!1,!1)});Ir.xlinkHref=new vi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Ir[n]=new vi(n,1,!1,n.toLowerCase(),null,!0,!0)});function _2(n,e,t,r){var i=Ir.hasOwnProperty(e)?Ir[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(x9(e,t,i,r)&&(t=null),r||i===null?y9(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var Ka=qk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,q0=Symbol.for("react.element"),ad=Symbol.for("react.portal"),ld=Symbol.for("react.fragment"),x2=Symbol.for("react.strict_mode"),CA=Symbol.for("react.profiler"),eO=Symbol.for("react.provider"),tO=Symbol.for("react.context"),w2=Symbol.for("react.forward_ref"),EA=Symbol.for("react.suspense"),TA=Symbol.for("react.suspense_list"),S2=Symbol.for("react.memo"),Tl=Symbol.for("react.lazy"),nO=Symbol.for("react.offscreen"),G3=Symbol.iterator;function op(n){return n===null||typeof n!="object"?null:(n=G3&&n[G3]||n["@@iterator"],typeof n=="function"?n:null)}var Dn=Object.assign,cw;function zp(n){if(cw===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);cw=e&&e[1]||""}return`
`+cw+n}var uw=!1;function fw(n,e){if(!n||uw)return"";uw=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){r=c}n.call(e.prototype)}else{try{throw Error()}catch(c){r=c}n()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{uw=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?zp(n):""}function w9(n){switch(n.tag){case 5:return zp(n.type);case 16:return zp("Lazy");case 13:return zp("Suspense");case 19:return zp("SuspenseList");case 0:case 2:case 15:return n=fw(n.type,!1),n;case 11:return n=fw(n.type.render,!1),n;case 1:return n=fw(n.type,!0),n;default:return""}}function PA(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case ld:return"Fragment";case ad:return"Portal";case CA:return"Profiler";case x2:return"StrictMode";case EA:return"Suspense";case TA:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case tO:return(n.displayName||"Context")+".Consumer";case eO:return(n._context.displayName||"Context")+".Provider";case w2:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case S2:return e=n.displayName||null,e!==null?e:PA(n.type)||"Memo";case Tl:e=n._payload,n=n._init;try{return PA(n(e))}catch{}}return null}function S9(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return PA(e);case 8:return e===x2?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function tc(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function rO(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function A9(n){var e=rO(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Z0(n){n._valueTracker||(n._valueTracker=A9(n))}function iO(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=rO(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function Zy(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function RA(n,e){var t=e.checked;return Dn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function H3(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=tc(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function sO(n,e){e=e.checked,e!=null&&_2(n,"checked",e,!1)}function DA(n,e){sO(n,e);var t=tc(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?BA(n,e.type,t):e.hasOwnProperty("defaultValue")&&BA(n,e.type,tc(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function V3(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function BA(n,e,t){(e!=="number"||Zy(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Gp=Array.isArray;function Dd(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+tc(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function IA(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ge(91));return Dn({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function W3(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Ge(92));if(Gp(t)){if(1<t.length)throw Error(Ge(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:tc(t)}}function oO(n,e){var t=tc(e.value),r=tc(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function j3(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function aO(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function LA(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?aO(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var ev,lO=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(ev=ev||document.createElement("div"),ev.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ev.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Em(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Kp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},b9=["Webkit","ms","Moz","O"];Object.keys(Kp).forEach(function(n){b9.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Kp[e]=Kp[n]})});function cO(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Kp.hasOwnProperty(n)&&Kp[n]?(""+e).trim():e+"px"}function uO(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=cO(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var M9=Dn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kA(n,e){if(e){if(M9[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ge(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ge(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ge(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ge(62))}}function OA(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var FA=null;function A2(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var NA=null,Bd=null,Id=null;function $3(n){if(n=Ag(n)){if(typeof NA!="function")throw Error(Ge(280));var e=n.stateNode;e&&(e=p_(e),NA(n.stateNode,n.type,e))}}function fO(n){Bd?Id?Id.push(n):Id=[n]:Bd=n}function dO(){if(Bd){var n=Bd,e=Id;if(Id=Bd=null,$3(n),e)for(n=0;n<e.length;n++)$3(e[n])}}function hO(n,e){return n(e)}function pO(){}var dw=!1;function mO(n,e,t){if(dw)return n(e,t);dw=!0;try{return hO(n,e,t)}finally{dw=!1,(Bd!==null||Id!==null)&&(pO(),dO())}}function Tm(n,e){var t=n.stateNode;if(t===null)return null;var r=p_(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(Ge(231,e,typeof t));return t}var UA=!1;if(Oa)try{var ap={};Object.defineProperty(ap,"passive",{get:function(){UA=!0}}),window.addEventListener("test",ap,ap),window.removeEventListener("test",ap,ap)}catch{UA=!1}function C9(n,e,t,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(u){this.onError(u)}}var Yp=!1,e1=null,t1=!1,zA=null,E9={onError:function(n){Yp=!0,e1=n}};function T9(n,e,t,r,i,s,o,a,l){Yp=!1,e1=null,C9.apply(E9,arguments)}function P9(n,e,t,r,i,s,o,a,l){if(T9.apply(this,arguments),Yp){if(Yp){var c=e1;Yp=!1,e1=null}else throw Error(Ge(198));t1||(t1=!0,zA=c)}}function ef(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function gO(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function X3(n){if(ef(n)!==n)throw Error(Ge(188))}function R9(n){var e=n.alternate;if(!e){if(e=ef(n),e===null)throw Error(Ge(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return X3(i),n;if(s===r)return X3(i),e;s=s.sibling}throw Error(Ge(188))}if(t.return!==r.return)t=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===t){o=!0,t=i,r=s;break}if(a===r){o=!0,r=i,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,r=i;break}if(a===r){o=!0,r=s,t=i;break}a=a.sibling}if(!o)throw Error(Ge(189))}}if(t.alternate!==r)throw Error(Ge(190))}if(t.tag!==3)throw Error(Ge(188));return t.stateNode.current===t?n:e}function vO(n){return n=R9(n),n!==null?yO(n):null}function yO(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=yO(n);if(e!==null)return e;n=n.sibling}return null}var _O=ls.unstable_scheduleCallback,J3=ls.unstable_cancelCallback,D9=ls.unstable_shouldYield,B9=ls.unstable_requestPaint,Kn=ls.unstable_now,I9=ls.unstable_getCurrentPriorityLevel,b2=ls.unstable_ImmediatePriority,xO=ls.unstable_UserBlockingPriority,n1=ls.unstable_NormalPriority,L9=ls.unstable_LowPriority,wO=ls.unstable_IdlePriority,u_=null,Vo=null;function k9(n){if(Vo&&typeof Vo.onCommitFiberRoot=="function")try{Vo.onCommitFiberRoot(u_,n,void 0,(n.current.flags&128)===128)}catch{}}var mo=Math.clz32?Math.clz32:N9,O9=Math.log,F9=Math.LN2;function N9(n){return n>>>=0,n===0?32:31-(O9(n)/F9|0)|0}var tv=64,nv=4194304;function Hp(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function r1(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~i;a!==0?r=Hp(a):(s&=o,s!==0&&(r=Hp(s)))}else o=t&~i,o!==0?r=Hp(o):s!==0&&(r=Hp(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-mo(e),i=1<<t,r|=n[t],e&=~i;return r}function U9(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function z9(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-mo(s),a=1<<o,l=i[o];l===-1?(!(a&t)||a&r)&&(i[o]=U9(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function GA(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function SO(){var n=tv;return tv<<=1,!(tv&4194240)&&(tv=64),n}function hw(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function wg(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-mo(e),n[e]=t}function G9(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-mo(t),s=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~s}}function M2(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-mo(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var Qt=0;function AO(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var bO,C2,MO,CO,EO,HA=!1,rv=[],Wl=null,jl=null,$l=null,Pm=new Map,Rm=new Map,Il=[],H9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function K3(n,e){switch(n){case"focusin":case"focusout":Wl=null;break;case"dragenter":case"dragleave":jl=null;break;case"mouseover":case"mouseout":$l=null;break;case"pointerover":case"pointerout":Pm.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rm.delete(e.pointerId)}}function lp(n,e,t,r,i,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ag(e),e!==null&&C2(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function V9(n,e,t,r,i){switch(e){case"focusin":return Wl=lp(Wl,n,e,t,r,i),!0;case"dragenter":return jl=lp(jl,n,e,t,r,i),!0;case"mouseover":return $l=lp($l,n,e,t,r,i),!0;case"pointerover":var s=i.pointerId;return Pm.set(s,lp(Pm.get(s)||null,n,e,t,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Rm.set(s,lp(Rm.get(s)||null,n,e,t,r,i)),!0}return!1}function TO(n){var e=cu(n.target);if(e!==null){var t=ef(e);if(t!==null){if(e=t.tag,e===13){if(e=gO(t),e!==null){n.blockedOn=e,EO(n.priority,function(){MO(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Ey(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=VA(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);FA=r,t.target.dispatchEvent(r),FA=null}else return e=Ag(t),e!==null&&C2(e),n.blockedOn=t,!1;e.shift()}return!0}function Y3(n,e,t){Ey(n)&&t.delete(e)}function W9(){HA=!1,Wl!==null&&Ey(Wl)&&(Wl=null),jl!==null&&Ey(jl)&&(jl=null),$l!==null&&Ey($l)&&($l=null),Pm.forEach(Y3),Rm.forEach(Y3)}function cp(n,e){n.blockedOn===e&&(n.blockedOn=null,HA||(HA=!0,ls.unstable_scheduleCallback(ls.unstable_NormalPriority,W9)))}function Dm(n){function e(i){return cp(i,n)}if(0<rv.length){cp(rv[0],n);for(var t=1;t<rv.length;t++){var r=rv[t];r.blockedOn===n&&(r.blockedOn=null)}}for(Wl!==null&&cp(Wl,n),jl!==null&&cp(jl,n),$l!==null&&cp($l,n),Pm.forEach(e),Rm.forEach(e),t=0;t<Il.length;t++)r=Il[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<Il.length&&(t=Il[0],t.blockedOn===null);)TO(t),t.blockedOn===null&&Il.shift()}var Ld=Ka.ReactCurrentBatchConfig,i1=!0;function j9(n,e,t,r){var i=Qt,s=Ld.transition;Ld.transition=null;try{Qt=1,E2(n,e,t,r)}finally{Qt=i,Ld.transition=s}}function $9(n,e,t,r){var i=Qt,s=Ld.transition;Ld.transition=null;try{Qt=4,E2(n,e,t,r)}finally{Qt=i,Ld.transition=s}}function E2(n,e,t,r){if(i1){var i=VA(n,e,t,r);if(i===null)Aw(n,e,r,s1,t),K3(n,r);else if(V9(i,n,e,t,r))r.stopPropagation();else if(K3(n,r),e&4&&-1<H9.indexOf(n)){for(;i!==null;){var s=Ag(i);if(s!==null&&bO(s),s=VA(n,e,t,r),s===null&&Aw(n,e,r,s1,t),s===i)break;i=s}i!==null&&r.stopPropagation()}else Aw(n,e,r,null,t)}}var s1=null;function VA(n,e,t,r){if(s1=null,n=A2(r),n=cu(n),n!==null)if(e=ef(n),e===null)n=null;else if(t=e.tag,t===13){if(n=gO(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return s1=n,null}function PO(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(I9()){case b2:return 1;case xO:return 4;case n1:case L9:return 16;case wO:return 536870912;default:return 16}default:return 16}}var Ol=null,T2=null,Ty=null;function RO(){if(Ty)return Ty;var n,e=T2,t=e.length,r,i="value"in Ol?Ol.value:Ol.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===i[s-r];r++);return Ty=i.slice(n,1<r?1-r:void 0)}function Py(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function iv(){return!0}function Q3(){return!1}function ds(n){function e(t,r,i,s,o){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?iv:Q3,this.isPropagationStopped=Q3,this}return Dn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=iv)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=iv)},persist:function(){},isPersistent:iv}),e}var vh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},P2=ds(vh),Sg=Dn({},vh,{view:0,detail:0}),X9=ds(Sg),pw,mw,up,f_=Dn({},Sg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:R2,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==up&&(up&&n.type==="mousemove"?(pw=n.screenX-up.screenX,mw=n.screenY-up.screenY):mw=pw=0,up=n),pw)},movementY:function(n){return"movementY"in n?n.movementY:mw}}),q3=ds(f_),J9=Dn({},f_,{dataTransfer:0}),K9=ds(J9),Y9=Dn({},Sg,{relatedTarget:0}),gw=ds(Y9),Q9=Dn({},vh,{animationName:0,elapsedTime:0,pseudoElement:0}),q9=ds(Q9),Z9=Dn({},vh,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),eH=ds(Z9),tH=Dn({},vh,{data:0}),Z3=ds(tH),nH={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rH={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iH={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sH(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=iH[n])?!!e[n]:!1}function R2(){return sH}var oH=Dn({},Sg,{key:function(n){if(n.key){var e=nH[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=Py(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?rH[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:R2,charCode:function(n){return n.type==="keypress"?Py(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Py(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),aH=ds(oH),lH=Dn({},f_,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),eP=ds(lH),cH=Dn({},Sg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:R2}),uH=ds(cH),fH=Dn({},vh,{propertyName:0,elapsedTime:0,pseudoElement:0}),dH=ds(fH),hH=Dn({},f_,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),pH=ds(hH),mH=[9,13,27,32],D2=Oa&&"CompositionEvent"in window,Qp=null;Oa&&"documentMode"in document&&(Qp=document.documentMode);var gH=Oa&&"TextEvent"in window&&!Qp,DO=Oa&&(!D2||Qp&&8<Qp&&11>=Qp),tP=String.fromCharCode(32),nP=!1;function BO(n,e){switch(n){case"keyup":return mH.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function IO(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var cd=!1;function vH(n,e){switch(n){case"compositionend":return IO(e);case"keypress":return e.which!==32?null:(nP=!0,tP);case"textInput":return n=e.data,n===tP&&nP?null:n;default:return null}}function yH(n,e){if(cd)return n==="compositionend"||!D2&&BO(n,e)?(n=RO(),Ty=T2=Ol=null,cd=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return DO&&e.locale!=="ko"?null:e.data;default:return null}}var _H={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rP(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!_H[n.type]:e==="textarea"}function LO(n,e,t,r){fO(r),e=o1(e,"onChange"),0<e.length&&(t=new P2("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var qp=null,Bm=null;function xH(n){jO(n,0)}function d_(n){var e=dd(n);if(iO(e))return n}function wH(n,e){if(n==="change")return e}var kO=!1;if(Oa){var vw;if(Oa){var yw="oninput"in document;if(!yw){var iP=document.createElement("div");iP.setAttribute("oninput","return;"),yw=typeof iP.oninput=="function"}vw=yw}else vw=!1;kO=vw&&(!document.documentMode||9<document.documentMode)}function sP(){qp&&(qp.detachEvent("onpropertychange",OO),Bm=qp=null)}function OO(n){if(n.propertyName==="value"&&d_(Bm)){var e=[];LO(e,Bm,n,A2(n)),mO(xH,e)}}function SH(n,e,t){n==="focusin"?(sP(),qp=e,Bm=t,qp.attachEvent("onpropertychange",OO)):n==="focusout"&&sP()}function AH(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return d_(Bm)}function bH(n,e){if(n==="click")return d_(e)}function MH(n,e){if(n==="input"||n==="change")return d_(e)}function CH(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var wo=typeof Object.is=="function"?Object.is:CH;function Im(n,e){if(wo(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!MA.call(e,i)||!wo(n[i],e[i]))return!1}return!0}function oP(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function aP(n,e){var t=oP(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=oP(t)}}function FO(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?FO(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function NO(){for(var n=window,e=Zy();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Zy(n.document)}return e}function B2(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function EH(n){var e=NO(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&FO(t.ownerDocument.documentElement,t)){if(r!==null&&B2(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=aP(t,s);var o=aP(t,r);i&&o&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var TH=Oa&&"documentMode"in document&&11>=document.documentMode,ud=null,WA=null,Zp=null,jA=!1;function lP(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;jA||ud==null||ud!==Zy(r)||(r=ud,"selectionStart"in r&&B2(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Zp&&Im(Zp,r)||(Zp=r,r=o1(WA,"onSelect"),0<r.length&&(e=new P2("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=ud)))}function sv(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var fd={animationend:sv("Animation","AnimationEnd"),animationiteration:sv("Animation","AnimationIteration"),animationstart:sv("Animation","AnimationStart"),transitionend:sv("Transition","TransitionEnd")},_w={},UO={};Oa&&(UO=document.createElement("div").style,"AnimationEvent"in window||(delete fd.animationend.animation,delete fd.animationiteration.animation,delete fd.animationstart.animation),"TransitionEvent"in window||delete fd.transitionend.transition);function h_(n){if(_w[n])return _w[n];if(!fd[n])return n;var e=fd[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in UO)return _w[n]=e[t];return n}var zO=h_("animationend"),GO=h_("animationiteration"),HO=h_("animationstart"),VO=h_("transitionend"),WO=new Map,cP="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gc(n,e){WO.set(n,e),Zu(e,[n])}for(var xw=0;xw<cP.length;xw++){var ww=cP[xw],PH=ww.toLowerCase(),RH=ww[0].toUpperCase()+ww.slice(1);gc(PH,"on"+RH)}gc(zO,"onAnimationEnd");gc(GO,"onAnimationIteration");gc(HO,"onAnimationStart");gc("dblclick","onDoubleClick");gc("focusin","onFocus");gc("focusout","onBlur");gc(VO,"onTransitionEnd");jd("onMouseEnter",["mouseout","mouseover"]);jd("onMouseLeave",["mouseout","mouseover"]);jd("onPointerEnter",["pointerout","pointerover"]);jd("onPointerLeave",["pointerout","pointerover"]);Zu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Zu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Zu("onBeforeInput",["compositionend","keypress","textInput","paste"]);Zu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Zu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Zu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DH=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vp));function uP(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,P9(r,e,void 0,n),n.currentTarget=null}function jO(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;uP(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;uP(i,a,c),s=l}}}if(t1)throw n=zA,t1=!1,zA=null,n}function cn(n,e){var t=e[YA];t===void 0&&(t=e[YA]=new Set);var r=n+"__bubble";t.has(r)||($O(e,n,2,!1),t.add(r))}function Sw(n,e,t){var r=0;e&&(r|=4),$O(t,n,r,e)}var ov="_reactListening"+Math.random().toString(36).slice(2);function Lm(n){if(!n[ov]){n[ov]=!0,Zk.forEach(function(t){t!=="selectionchange"&&(DH.has(t)||Sw(t,!1,n),Sw(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[ov]||(e[ov]=!0,Sw("selectionchange",!1,e))}}function $O(n,e,t,r){switch(PO(e)){case 1:var i=j9;break;case 4:i=$9;break;default:i=E2}t=i.bind(null,e,t,n),i=void 0,!UA||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function Aw(n,e,t,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=cu(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}mO(function(){var c=s,u=A2(t),f=[];e:{var d=WO.get(n);if(d!==void 0){var m=P2,g=n;switch(n){case"keypress":if(Py(t)===0)break e;case"keydown":case"keyup":m=aH;break;case"focusin":g="focus",m=gw;break;case"focusout":g="blur",m=gw;break;case"beforeblur":case"afterblur":m=gw;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=q3;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=K9;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=uH;break;case zO:case GO:case HO:m=q9;break;case VO:m=dH;break;case"scroll":m=X9;break;case"wheel":m=pH;break;case"copy":case"cut":case"paste":m=eH;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=eP}var v=(e&4)!==0,y=!v&&n==="scroll",x=v?d!==null?d+"Capture":null:d;v=[];for(var _=c,w;_!==null;){w=_;var A=w.stateNode;if(w.tag===5&&A!==null&&(w=A,x!==null&&(A=Tm(_,x),A!=null&&v.push(km(_,A,w)))),y)break;_=_.return}0<v.length&&(d=new m(d,g,null,t,u),f.push({event:d,listeners:v}))}}if(!(e&7)){e:{if(d=n==="mouseover"||n==="pointerover",m=n==="mouseout"||n==="pointerout",d&&t!==FA&&(g=t.relatedTarget||t.fromElement)&&(cu(g)||g[Fa]))break e;if((m||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,m?(g=t.relatedTarget||t.toElement,m=c,g=g?cu(g):null,g!==null&&(y=ef(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=c),m!==g)){if(v=q3,A="onMouseLeave",x="onMouseEnter",_="mouse",(n==="pointerout"||n==="pointerover")&&(v=eP,A="onPointerLeave",x="onPointerEnter",_="pointer"),y=m==null?d:dd(m),w=g==null?d:dd(g),d=new v(A,_+"leave",m,t,u),d.target=y,d.relatedTarget=w,A=null,cu(u)===c&&(v=new v(x,_+"enter",g,t,u),v.target=w,v.relatedTarget=y,A=v),y=A,m&&g)t:{for(v=m,x=g,_=0,w=v;w;w=Pf(w))_++;for(w=0,A=x;A;A=Pf(A))w++;for(;0<_-w;)v=Pf(v),_--;for(;0<w-_;)x=Pf(x),w--;for(;_--;){if(v===x||x!==null&&v===x.alternate)break t;v=Pf(v),x=Pf(x)}v=null}else v=null;m!==null&&fP(f,d,m,v,!1),g!==null&&y!==null&&fP(f,y,g,v,!0)}}e:{if(d=c?dd(c):window,m=d.nodeName&&d.nodeName.toLowerCase(),m==="select"||m==="input"&&d.type==="file")var C=wH;else if(rP(d))if(kO)C=MH;else{C=AH;var E=SH}else(m=d.nodeName)&&m.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(C=bH);if(C&&(C=C(n,c))){LO(f,C,t,u);break e}E&&E(n,d,c),n==="focusout"&&(E=d._wrapperState)&&E.controlled&&d.type==="number"&&BA(d,"number",d.value)}switch(E=c?dd(c):window,n){case"focusin":(rP(E)||E.contentEditable==="true")&&(ud=E,WA=c,Zp=null);break;case"focusout":Zp=WA=ud=null;break;case"mousedown":jA=!0;break;case"contextmenu":case"mouseup":case"dragend":jA=!1,lP(f,t,u);break;case"selectionchange":if(TH)break;case"keydown":case"keyup":lP(f,t,u)}var P;if(D2)e:{switch(n){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else cd?BO(n,t)&&(b="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(b="onCompositionStart");b&&(DO&&t.locale!=="ko"&&(cd||b!=="onCompositionStart"?b==="onCompositionEnd"&&cd&&(P=RO()):(Ol=u,T2="value"in Ol?Ol.value:Ol.textContent,cd=!0)),E=o1(c,b),0<E.length&&(b=new Z3(b,n,null,t,u),f.push({event:b,listeners:E}),P?b.data=P:(P=IO(t),P!==null&&(b.data=P)))),(P=gH?vH(n,t):yH(n,t))&&(c=o1(c,"onBeforeInput"),0<c.length&&(u=new Z3("onBeforeInput","beforeinput",null,t,u),f.push({event:u,listeners:c}),u.data=P))}jO(f,e)})}function km(n,e,t){return{instance:n,listener:e,currentTarget:t}}function o1(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Tm(n,t),s!=null&&r.unshift(km(n,s,i)),s=Tm(n,e),s!=null&&r.push(km(n,s,i))),n=n.return}return r}function Pf(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function fP(n,e,t,r,i){for(var s=e._reactName,o=[];t!==null&&t!==r;){var a=t,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Tm(t,s),l!=null&&o.unshift(km(t,l,a))):i||(l=Tm(t,s),l!=null&&o.push(km(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var BH=/\r\n?/g,IH=/\u0000|\uFFFD/g;function dP(n){return(typeof n=="string"?n:""+n).replace(BH,`
`).replace(IH,"")}function av(n,e,t){if(e=dP(e),dP(n)!==e&&t)throw Error(Ge(425))}function a1(){}var $A=null,XA=null;function JA(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var KA=typeof setTimeout=="function"?setTimeout:void 0,LH=typeof clearTimeout=="function"?clearTimeout:void 0,hP=typeof Promise=="function"?Promise:void 0,kH=typeof queueMicrotask=="function"?queueMicrotask:typeof hP<"u"?function(n){return hP.resolve(null).then(n).catch(OH)}:KA;function OH(n){setTimeout(function(){throw n})}function bw(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),Dm(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);Dm(e)}function Xl(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function pP(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var yh=Math.random().toString(36).slice(2),zo="__reactFiber$"+yh,Om="__reactProps$"+yh,Fa="__reactContainer$"+yh,YA="__reactEvents$"+yh,FH="__reactListeners$"+yh,NH="__reactHandles$"+yh;function cu(n){var e=n[zo];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Fa]||t[zo]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=pP(n);n!==null;){if(t=n[zo])return t;n=pP(n)}return e}n=t,t=n.parentNode}return null}function Ag(n){return n=n[zo]||n[Fa],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function dd(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Ge(33))}function p_(n){return n[Om]||null}var QA=[],hd=-1;function vc(n){return{current:n}}function hn(n){0>hd||(n.current=QA[hd],QA[hd]=null,hd--)}function an(n,e){hd++,QA[hd]=n.current,n.current=e}var nc={},Yr=vc(nc),Bi=vc(!1),Ou=nc;function $d(n,e){var t=n.type.contextTypes;if(!t)return nc;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function Ii(n){return n=n.childContextTypes,n!=null}function l1(){hn(Bi),hn(Yr)}function mP(n,e,t){if(Yr.current!==nc)throw Error(Ge(168));an(Yr,e),an(Bi,t)}function XO(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Ge(108,S9(n)||"Unknown",i));return Dn({},t,r)}function c1(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||nc,Ou=Yr.current,an(Yr,n),an(Bi,Bi.current),!0}function gP(n,e,t){var r=n.stateNode;if(!r)throw Error(Ge(169));t?(n=XO(n,e,Ou),r.__reactInternalMemoizedMergedChildContext=n,hn(Bi),hn(Yr),an(Yr,n)):hn(Bi),an(Bi,t)}var wa=null,m_=!1,Mw=!1;function JO(n){wa===null?wa=[n]:wa.push(n)}function UH(n){m_=!0,JO(n)}function yc(){if(!Mw&&wa!==null){Mw=!0;var n=0,e=Qt;try{var t=wa;for(Qt=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}wa=null,m_=!1}catch(i){throw wa!==null&&(wa=wa.slice(n+1)),_O(b2,yc),i}finally{Qt=e,Mw=!1}}return null}var pd=[],md=0,u1=null,f1=0,ks=[],Os=0,Fu=null,Ca=1,Ea="";function tu(n,e){pd[md++]=f1,pd[md++]=u1,u1=n,f1=e}function KO(n,e,t){ks[Os++]=Ca,ks[Os++]=Ea,ks[Os++]=Fu,Fu=n;var r=Ca;n=Ea;var i=32-mo(r)-1;r&=~(1<<i),t+=1;var s=32-mo(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ca=1<<32-mo(e)+i|t<<i|r,Ea=s+n}else Ca=1<<s|t<<i|r,Ea=n}function I2(n){n.return!==null&&(tu(n,1),KO(n,1,0))}function L2(n){for(;n===u1;)u1=pd[--md],pd[md]=null,f1=pd[--md],pd[md]=null;for(;n===Fu;)Fu=ks[--Os],ks[Os]=null,Ea=ks[--Os],ks[Os]=null,Ca=ks[--Os],ks[Os]=null}var rs=null,ts=null,yn=!1,fo=null;function YO(n,e){var t=zs(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function vP(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,rs=n,ts=Xl(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,rs=n,ts=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Fu!==null?{id:Ca,overflow:Ea}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=zs(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,rs=n,ts=null,!0):!1;default:return!1}}function qA(n){return(n.mode&1)!==0&&(n.flags&128)===0}function ZA(n){if(yn){var e=ts;if(e){var t=e;if(!vP(n,e)){if(qA(n))throw Error(Ge(418));e=Xl(t.nextSibling);var r=rs;e&&vP(n,e)?YO(r,t):(n.flags=n.flags&-4097|2,yn=!1,rs=n)}}else{if(qA(n))throw Error(Ge(418));n.flags=n.flags&-4097|2,yn=!1,rs=n}}}function yP(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;rs=n}function lv(n){if(n!==rs)return!1;if(!yn)return yP(n),yn=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!JA(n.type,n.memoizedProps)),e&&(e=ts)){if(qA(n))throw QO(),Error(Ge(418));for(;e;)YO(n,e),e=Xl(e.nextSibling)}if(yP(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Ge(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){ts=Xl(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}ts=null}}else ts=rs?Xl(n.stateNode.nextSibling):null;return!0}function QO(){for(var n=ts;n;)n=Xl(n.nextSibling)}function Xd(){ts=rs=null,yn=!1}function k2(n){fo===null?fo=[n]:fo.push(n)}var zH=Ka.ReactCurrentBatchConfig;function co(n,e){if(n&&n.defaultProps){e=Dn({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}var d1=vc(null),h1=null,gd=null,O2=null;function F2(){O2=gd=h1=null}function N2(n){var e=d1.current;hn(d1),n._currentValue=e}function eb(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function kd(n,e){h1=n,O2=gd=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Pi=!0),n.firstContext=null)}function Xs(n){var e=n._currentValue;if(O2!==n)if(n={context:n,memoizedValue:e,next:null},gd===null){if(h1===null)throw Error(Ge(308));gd=n,h1.dependencies={lanes:0,firstContext:n}}else gd=gd.next=n;return e}var uu=null;function U2(n){uu===null?uu=[n]:uu.push(n)}function qO(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,U2(e)):(t.next=i.next,i.next=t),e.interleaved=t,Na(n,r)}function Na(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var Pl=!1;function z2(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ZO(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Da(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Jl(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,Vt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Na(n,t)}return i=r.interleaved,i===null?(e.next=e,U2(r)):(e.next=i.next,i.next=e),r.interleaved=e,Na(n,t)}function Ry(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,M2(n,t)}}function _P(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function p1(n,e,t,r){var i=n.updateQueue;Pl=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=n.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,u=c=l=null,a=s;do{var d=a.lane,m=a.eventTime;if((r&d)===d){u!==null&&(u=u.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=n,v=a;switch(d=e,m=t,v.tag){case 1:if(g=v.payload,typeof g=="function"){f=g.call(m,f,d);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,d=typeof g=="function"?g.call(m,f,d):g,d==null)break e;f=Dn({},f,d);break e;case 2:Pl=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else m={eventTime:m,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=m,l=f):u=u.next=m,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Uu|=o,n.lanes=o,n.memoizedState=f}}function xP(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(Ge(191,i));i.call(r)}}}var eF=new qk.Component().refs;function tb(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:Dn({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var g_={isMounted:function(n){return(n=n._reactInternals)?ef(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=pi(),i=Yl(n),s=Da(r,i);s.payload=e,t!=null&&(s.callback=t),e=Jl(n,s,i),e!==null&&(go(e,n,i,r),Ry(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=pi(),i=Yl(n),s=Da(r,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=Jl(n,s,i),e!==null&&(go(e,n,i,r),Ry(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=pi(),r=Yl(n),i=Da(t,r);i.tag=2,e!=null&&(i.callback=e),e=Jl(n,i,r),e!==null&&(go(e,n,r,t),Ry(e,n,r))}};function wP(n,e,t,r,i,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Im(t,r)||!Im(i,s):!0}function tF(n,e,t){var r=!1,i=nc,s=e.contextType;return typeof s=="object"&&s!==null?s=Xs(s):(i=Ii(e)?Ou:Yr.current,r=e.contextTypes,s=(r=r!=null)?$d(n,i):nc),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=g_,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function SP(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&g_.enqueueReplaceState(e,e.state,null)}function nb(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs=eF,z2(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Xs(s):(s=Ii(e)?Ou:Yr.current,i.context=$d(n,s)),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(tb(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&g_.enqueueReplaceState(i,i.state,null),p1(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function fp(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Ge(309));var r=t.stateNode}if(!r)throw Error(Ge(147,n));var i=r,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===eF&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(Ge(284));if(!t._owner)throw Error(Ge(290,n))}return n}function cv(n,e){throw n=Object.prototype.toString.call(e),Error(Ge(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function AP(n){var e=n._init;return e(n._payload)}function nF(n){function e(x,_){if(n){var w=x.deletions;w===null?(x.deletions=[_],x.flags|=16):w.push(_)}}function t(x,_){if(!n)return null;for(;_!==null;)e(x,_),_=_.sibling;return null}function r(x,_){for(x=new Map;_!==null;)_.key!==null?x.set(_.key,_):x.set(_.index,_),_=_.sibling;return x}function i(x,_){return x=Ql(x,_),x.index=0,x.sibling=null,x}function s(x,_,w){return x.index=w,n?(w=x.alternate,w!==null?(w=w.index,w<_?(x.flags|=2,_):w):(x.flags|=2,_)):(x.flags|=1048576,_)}function o(x){return n&&x.alternate===null&&(x.flags|=2),x}function a(x,_,w,A){return _===null||_.tag!==6?(_=Bw(w,x.mode,A),_.return=x,_):(_=i(_,w),_.return=x,_)}function l(x,_,w,A){var C=w.type;return C===ld?u(x,_,w.props.children,A,w.key):_!==null&&(_.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Tl&&AP(C)===_.type)?(A=i(_,w.props),A.ref=fp(x,_,w),A.return=x,A):(A=Oy(w.type,w.key,w.props,null,x.mode,A),A.ref=fp(x,_,w),A.return=x,A)}function c(x,_,w,A){return _===null||_.tag!==4||_.stateNode.containerInfo!==w.containerInfo||_.stateNode.implementation!==w.implementation?(_=Iw(w,x.mode,A),_.return=x,_):(_=i(_,w.children||[]),_.return=x,_)}function u(x,_,w,A,C){return _===null||_.tag!==7?(_=Su(w,x.mode,A,C),_.return=x,_):(_=i(_,w),_.return=x,_)}function f(x,_,w){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Bw(""+_,x.mode,w),_.return=x,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case q0:return w=Oy(_.type,_.key,_.props,null,x.mode,w),w.ref=fp(x,null,_),w.return=x,w;case ad:return _=Iw(_,x.mode,w),_.return=x,_;case Tl:var A=_._init;return f(x,A(_._payload),w)}if(Gp(_)||op(_))return _=Su(_,x.mode,w,null),_.return=x,_;cv(x,_)}return null}function d(x,_,w,A){var C=_!==null?_.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return C!==null?null:a(x,_,""+w,A);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case q0:return w.key===C?l(x,_,w,A):null;case ad:return w.key===C?c(x,_,w,A):null;case Tl:return C=w._init,d(x,_,C(w._payload),A)}if(Gp(w)||op(w))return C!==null?null:u(x,_,w,A,null);cv(x,w)}return null}function m(x,_,w,A,C){if(typeof A=="string"&&A!==""||typeof A=="number")return x=x.get(w)||null,a(_,x,""+A,C);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case q0:return x=x.get(A.key===null?w:A.key)||null,l(_,x,A,C);case ad:return x=x.get(A.key===null?w:A.key)||null,c(_,x,A,C);case Tl:var E=A._init;return m(x,_,w,E(A._payload),C)}if(Gp(A)||op(A))return x=x.get(w)||null,u(_,x,A,C,null);cv(_,A)}return null}function g(x,_,w,A){for(var C=null,E=null,P=_,b=_=0,R=null;P!==null&&b<w.length;b++){P.index>b?(R=P,P=null):R=P.sibling;var D=d(x,P,w[b],A);if(D===null){P===null&&(P=R);break}n&&P&&D.alternate===null&&e(x,P),_=s(D,_,b),E===null?C=D:E.sibling=D,E=D,P=R}if(b===w.length)return t(x,P),yn&&tu(x,b),C;if(P===null){for(;b<w.length;b++)P=f(x,w[b],A),P!==null&&(_=s(P,_,b),E===null?C=P:E.sibling=P,E=P);return yn&&tu(x,b),C}for(P=r(x,P);b<w.length;b++)R=m(P,x,b,w[b],A),R!==null&&(n&&R.alternate!==null&&P.delete(R.key===null?b:R.key),_=s(R,_,b),E===null?C=R:E.sibling=R,E=R);return n&&P.forEach(function(L){return e(x,L)}),yn&&tu(x,b),C}function v(x,_,w,A){var C=op(w);if(typeof C!="function")throw Error(Ge(150));if(w=C.call(w),w==null)throw Error(Ge(151));for(var E=C=null,P=_,b=_=0,R=null,D=w.next();P!==null&&!D.done;b++,D=w.next()){P.index>b?(R=P,P=null):R=P.sibling;var L=d(x,P,D.value,A);if(L===null){P===null&&(P=R);break}n&&P&&L.alternate===null&&e(x,P),_=s(L,_,b),E===null?C=L:E.sibling=L,E=L,P=R}if(D.done)return t(x,P),yn&&tu(x,b),C;if(P===null){for(;!D.done;b++,D=w.next())D=f(x,D.value,A),D!==null&&(_=s(D,_,b),E===null?C=D:E.sibling=D,E=D);return yn&&tu(x,b),C}for(P=r(x,P);!D.done;b++,D=w.next())D=m(P,x,b,D.value,A),D!==null&&(n&&D.alternate!==null&&P.delete(D.key===null?b:D.key),_=s(D,_,b),E===null?C=D:E.sibling=D,E=D);return n&&P.forEach(function(N){return e(x,N)}),yn&&tu(x,b),C}function y(x,_,w,A){if(typeof w=="object"&&w!==null&&w.type===ld&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case q0:e:{for(var C=w.key,E=_;E!==null;){if(E.key===C){if(C=w.type,C===ld){if(E.tag===7){t(x,E.sibling),_=i(E,w.props.children),_.return=x,x=_;break e}}else if(E.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Tl&&AP(C)===E.type){t(x,E.sibling),_=i(E,w.props),_.ref=fp(x,E,w),_.return=x,x=_;break e}t(x,E);break}else e(x,E);E=E.sibling}w.type===ld?(_=Su(w.props.children,x.mode,A,w.key),_.return=x,x=_):(A=Oy(w.type,w.key,w.props,null,x.mode,A),A.ref=fp(x,_,w),A.return=x,x=A)}return o(x);case ad:e:{for(E=w.key;_!==null;){if(_.key===E)if(_.tag===4&&_.stateNode.containerInfo===w.containerInfo&&_.stateNode.implementation===w.implementation){t(x,_.sibling),_=i(_,w.children||[]),_.return=x,x=_;break e}else{t(x,_);break}else e(x,_);_=_.sibling}_=Iw(w,x.mode,A),_.return=x,x=_}return o(x);case Tl:return E=w._init,y(x,_,E(w._payload),A)}if(Gp(w))return g(x,_,w,A);if(op(w))return v(x,_,w,A);cv(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,_!==null&&_.tag===6?(t(x,_.sibling),_=i(_,w),_.return=x,x=_):(t(x,_),_=Bw(w,x.mode,A),_.return=x,x=_),o(x)):t(x,_)}return y}var Jd=nF(!0),rF=nF(!1),bg={},Wo=vc(bg),Fm=vc(bg),Nm=vc(bg);function fu(n){if(n===bg)throw Error(Ge(174));return n}function G2(n,e){switch(an(Nm,e),an(Fm,n),an(Wo,bg),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:LA(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=LA(e,n)}hn(Wo),an(Wo,e)}function Kd(){hn(Wo),hn(Fm),hn(Nm)}function iF(n){fu(Nm.current);var e=fu(Wo.current),t=LA(e,n.type);e!==t&&(an(Fm,n),an(Wo,t))}function H2(n){Fm.current===n&&(hn(Wo),hn(Fm))}var Mn=vc(0);function m1(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Cw=[];function V2(){for(var n=0;n<Cw.length;n++)Cw[n]._workInProgressVersionPrimary=null;Cw.length=0}var Dy=Ka.ReactCurrentDispatcher,Ew=Ka.ReactCurrentBatchConfig,Nu=0,Rn=null,lr=null,wr=null,g1=!1,em=!1,Um=0,GH=0;function Gr(){throw Error(Ge(321))}function W2(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!wo(n[t],e[t]))return!1;return!0}function j2(n,e,t,r,i,s){if(Nu=s,Rn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Dy.current=n===null||n.memoizedState===null?jH:$H,n=t(r,i),em){s=0;do{if(em=!1,Um=0,25<=s)throw Error(Ge(301));s+=1,wr=lr=null,e.updateQueue=null,Dy.current=XH,n=t(r,i)}while(em)}if(Dy.current=v1,e=lr!==null&&lr.next!==null,Nu=0,wr=lr=Rn=null,g1=!1,e)throw Error(Ge(300));return n}function $2(){var n=Um!==0;return Um=0,n}function Fo(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wr===null?Rn.memoizedState=wr=n:wr=wr.next=n,wr}function Js(){if(lr===null){var n=Rn.alternate;n=n!==null?n.memoizedState:null}else n=lr.next;var e=wr===null?Rn.memoizedState:wr.next;if(e!==null)wr=e,lr=n;else{if(n===null)throw Error(Ge(310));lr=n,n={memoizedState:lr.memoizedState,baseState:lr.baseState,baseQueue:lr.baseQueue,queue:lr.queue,next:null},wr===null?Rn.memoizedState=wr=n:wr=wr.next=n}return wr}function zm(n,e){return typeof e=="function"?e(n):e}function Tw(n){var e=Js(),t=e.queue;if(t===null)throw Error(Ge(311));t.lastRenderedReducer=n;var r=lr,i=r.baseQueue,s=t.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((Nu&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:n(r,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,Rn.lanes|=u,Uu|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,wo(r,e.memoizedState)||(Pi=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do s=i.lane,Rn.lanes|=s,Uu|=s,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function Pw(n){var e=Js(),t=e.queue;if(t===null)throw Error(Ge(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var o=i=i.next;do s=n(s,o.action),o=o.next;while(o!==i);wo(s,e.memoizedState)||(Pi=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function sF(){}function oF(n,e){var t=Rn,r=Js(),i=e(),s=!wo(r.memoizedState,i);if(s&&(r.memoizedState=i,Pi=!0),r=r.queue,X2(cF.bind(null,t,r,n),[n]),r.getSnapshot!==e||s||wr!==null&&wr.memoizedState.tag&1){if(t.flags|=2048,Gm(9,lF.bind(null,t,r,i,e),void 0,null),Ar===null)throw Error(Ge(349));Nu&30||aF(t,e,i)}return i}function aF(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=Rn.updateQueue,e===null?(e={lastEffect:null,stores:null},Rn.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function lF(n,e,t,r){e.value=t,e.getSnapshot=r,uF(e)&&fF(n)}function cF(n,e,t){return t(function(){uF(e)&&fF(n)})}function uF(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!wo(n,t)}catch{return!0}}function fF(n){var e=Na(n,1);e!==null&&go(e,n,1,-1)}function bP(n){var e=Fo();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zm,lastRenderedState:n},e.queue=n,n=n.dispatch=WH.bind(null,Rn,n),[e.memoizedState,n]}function Gm(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=Rn.updateQueue,e===null?(e={lastEffect:null,stores:null},Rn.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function dF(){return Js().memoizedState}function By(n,e,t,r){var i=Fo();Rn.flags|=n,i.memoizedState=Gm(1|e,t,void 0,r===void 0?null:r)}function v_(n,e,t,r){var i=Js();r=r===void 0?null:r;var s=void 0;if(lr!==null){var o=lr.memoizedState;if(s=o.destroy,r!==null&&W2(r,o.deps)){i.memoizedState=Gm(e,t,s,r);return}}Rn.flags|=n,i.memoizedState=Gm(1|e,t,s,r)}function MP(n,e){return By(8390656,8,n,e)}function X2(n,e){return v_(2048,8,n,e)}function hF(n,e){return v_(4,2,n,e)}function pF(n,e){return v_(4,4,n,e)}function mF(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function gF(n,e,t){return t=t!=null?t.concat([n]):null,v_(4,4,mF.bind(null,e,n),t)}function J2(){}function vF(n,e){var t=Js();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&W2(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function yF(n,e){var t=Js();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&W2(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function _F(n,e,t){return Nu&21?(wo(t,e)||(t=SO(),Rn.lanes|=t,Uu|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Pi=!0),n.memoizedState=t)}function HH(n,e){var t=Qt;Qt=t!==0&&4>t?t:4,n(!0);var r=Ew.transition;Ew.transition={};try{n(!1),e()}finally{Qt=t,Ew.transition=r}}function xF(){return Js().memoizedState}function VH(n,e,t){var r=Yl(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},wF(n))SF(e,t);else if(t=qO(n,e,t,r),t!==null){var i=pi();go(t,n,r,i),AF(t,e,r)}}function WH(n,e,t){var r=Yl(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(wF(n))SF(e,i);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(i.hasEagerState=!0,i.eagerState=a,wo(a,o)){var l=e.interleaved;l===null?(i.next=i,U2(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}t=qO(n,e,i,r),t!==null&&(i=pi(),go(t,n,r,i),AF(t,e,r))}}function wF(n){var e=n.alternate;return n===Rn||e!==null&&e===Rn}function SF(n,e){em=g1=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function AF(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,M2(n,t)}}var v1={readContext:Xs,useCallback:Gr,useContext:Gr,useEffect:Gr,useImperativeHandle:Gr,useInsertionEffect:Gr,useLayoutEffect:Gr,useMemo:Gr,useReducer:Gr,useRef:Gr,useState:Gr,useDebugValue:Gr,useDeferredValue:Gr,useTransition:Gr,useMutableSource:Gr,useSyncExternalStore:Gr,useId:Gr,unstable_isNewReconciler:!1},jH={readContext:Xs,useCallback:function(n,e){return Fo().memoizedState=[n,e===void 0?null:e],n},useContext:Xs,useEffect:MP,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,By(4194308,4,mF.bind(null,e,n),t)},useLayoutEffect:function(n,e){return By(4194308,4,n,e)},useInsertionEffect:function(n,e){return By(4,2,n,e)},useMemo:function(n,e){var t=Fo();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=Fo();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=VH.bind(null,Rn,n),[r.memoizedState,n]},useRef:function(n){var e=Fo();return n={current:n},e.memoizedState=n},useState:bP,useDebugValue:J2,useDeferredValue:function(n){return Fo().memoizedState=n},useTransition:function(){var n=bP(!1),e=n[0];return n=HH.bind(null,n[1]),Fo().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=Rn,i=Fo();if(yn){if(t===void 0)throw Error(Ge(407));t=t()}else{if(t=e(),Ar===null)throw Error(Ge(349));Nu&30||aF(r,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,MP(cF.bind(null,r,s,n),[n]),r.flags|=2048,Gm(9,lF.bind(null,r,s,t,e),void 0,null),t},useId:function(){var n=Fo(),e=Ar.identifierPrefix;if(yn){var t=Ea,r=Ca;t=(r&~(1<<32-mo(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=Um++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=GH++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},$H={readContext:Xs,useCallback:vF,useContext:Xs,useEffect:X2,useImperativeHandle:gF,useInsertionEffect:hF,useLayoutEffect:pF,useMemo:yF,useReducer:Tw,useRef:dF,useState:function(){return Tw(zm)},useDebugValue:J2,useDeferredValue:function(n){var e=Js();return _F(e,lr.memoizedState,n)},useTransition:function(){var n=Tw(zm)[0],e=Js().memoizedState;return[n,e]},useMutableSource:sF,useSyncExternalStore:oF,useId:xF,unstable_isNewReconciler:!1},XH={readContext:Xs,useCallback:vF,useContext:Xs,useEffect:X2,useImperativeHandle:gF,useInsertionEffect:hF,useLayoutEffect:pF,useMemo:yF,useReducer:Pw,useRef:dF,useState:function(){return Pw(zm)},useDebugValue:J2,useDeferredValue:function(n){var e=Js();return lr===null?e.memoizedState=n:_F(e,lr.memoizedState,n)},useTransition:function(){var n=Pw(zm)[0],e=Js().memoizedState;return[n,e]},useMutableSource:sF,useSyncExternalStore:oF,useId:xF,unstable_isNewReconciler:!1};function Yd(n,e){try{var t="",r=e;do t+=w9(r),r=r.return;while(r);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i,digest:null}}function Rw(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function rb(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var JH=typeof WeakMap=="function"?WeakMap:Map;function bF(n,e,t){t=Da(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){_1||(_1=!0,hb=r),rb(n,e)},t}function MF(n,e,t){t=Da(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){rb(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){rb(n,e),typeof r!="function"&&(Kl===null?Kl=new Set([this]):Kl.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function CP(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new JH;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=lV.bind(null,n,e,t),e.then(n,n))}function EP(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function TP(n,e,t,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Da(-1,1),e.tag=2,Jl(t,e,1))),t.lanes|=1),n)}var KH=Ka.ReactCurrentOwner,Pi=!1;function fi(n,e,t,r){e.child=n===null?rF(e,null,t,r):Jd(e,n.child,t,r)}function PP(n,e,t,r,i){t=t.render;var s=e.ref;return kd(e,i),r=j2(n,e,t,r,s,i),t=$2(),n!==null&&!Pi?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Ua(n,e,i)):(yn&&t&&I2(e),e.flags|=1,fi(n,e,r,i),e.child)}function RP(n,e,t,r,i){if(n===null){var s=t.type;return typeof s=="function"&&!nC(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,CF(n,e,s,r,i)):(n=Oy(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&i)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:Im,t(o,r)&&n.ref===e.ref)return Ua(n,e,i)}return e.flags|=1,n=Ql(s,r),n.ref=e.ref,n.return=e,e.child=n}function CF(n,e,t,r,i){if(n!==null){var s=n.memoizedProps;if(Im(s,r)&&n.ref===e.ref)if(Pi=!1,e.pendingProps=r=s,(n.lanes&i)!==0)n.flags&131072&&(Pi=!0);else return e.lanes=n.lanes,Ua(n,e,i)}return ib(n,e,t,r,i)}function EF(n,e,t){var r=e.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},an(yd,Qi),Qi|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,an(yd,Qi),Qi|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:t,an(yd,Qi),Qi|=r}else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,an(yd,Qi),Qi|=r;return fi(n,e,i,t),e.child}function TF(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function ib(n,e,t,r,i){var s=Ii(t)?Ou:Yr.current;return s=$d(e,s),kd(e,i),t=j2(n,e,t,r,s,i),r=$2(),n!==null&&!Pi?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Ua(n,e,i)):(yn&&r&&I2(e),e.flags|=1,fi(n,e,t,i),e.child)}function DP(n,e,t,r,i){if(Ii(t)){var s=!0;c1(e)}else s=!1;if(kd(e,i),e.stateNode===null)Iy(n,e),tF(e,t,r),nb(e,t,r,i),r=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=Xs(c):(c=Ii(t)?Ou:Yr.current,c=$d(e,c));var u=t.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&SP(e,o,r,c),Pl=!1;var d=e.memoizedState;o.state=d,p1(e,r,o,i),l=e.memoizedState,a!==r||d!==l||Bi.current||Pl?(typeof u=="function"&&(tb(e,t,u,r),l=e.memoizedState),(a=Pl||wP(e,t,a,r,d,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,ZO(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:co(e.type,a),o.props=c,f=e.pendingProps,d=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=Xs(l):(l=Ii(t)?Ou:Yr.current,l=$d(e,l));var m=t.getDerivedStateFromProps;(u=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||d!==l)&&SP(e,o,r,l),Pl=!1,d=e.memoizedState,o.state=d,p1(e,r,o,i);var g=e.memoizedState;a!==f||d!==g||Bi.current||Pl?(typeof m=="function"&&(tb(e,t,m,r),g=e.memoizedState),(c=Pl||wP(e,t,c,r,d,g,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(e.flags|=1024),r=!1)}return sb(n,e,t,r,s,i)}function sb(n,e,t,r,i,s){TF(n,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&gP(e,t,!1),Ua(n,e,s);r=e.stateNode,KH.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=Jd(e,n.child,null,s),e.child=Jd(e,null,a,s)):fi(n,e,a,s),e.memoizedState=r.state,i&&gP(e,t,!0),e.child}function PF(n){var e=n.stateNode;e.pendingContext?mP(n,e.pendingContext,e.pendingContext!==e.context):e.context&&mP(n,e.context,!1),G2(n,e.containerInfo)}function BP(n,e,t,r,i){return Xd(),k2(i),e.flags|=256,fi(n,e,t,r),e.child}var ob={dehydrated:null,treeContext:null,retryLane:0};function ab(n){return{baseLanes:n,cachePool:null,transitions:null}}function RF(n,e,t){var r=e.pendingProps,i=Mn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),an(Mn,i&1),n===null)return ZA(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,n=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=x_(o,r,0,null),n=Su(n,r,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=ab(t),e.memoizedState=ob,n):K2(e,o));if(i=n.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return YH(n,e,o,r,a,i,t);if(s){s=r.fallback,o=e.mode,i=n.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ql(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ql(a,s):(s=Su(s,o,t,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=n.child.memoizedState,o=o===null?ab(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=ob,r}return s=n.child,n=s.sibling,r=Ql(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function K2(n,e){return e=x_({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function uv(n,e,t,r){return r!==null&&k2(r),Jd(e,n.child,null,t),n=K2(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function YH(n,e,t,r,i,s,o){if(t)return e.flags&256?(e.flags&=-257,r=Rw(Error(Ge(422))),uv(n,e,o,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=x_({mode:"visible",children:r.children},i,0,null),s=Su(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Jd(e,n.child,null,o),e.child.memoizedState=ab(o),e.memoizedState=ob,s);if(!(e.mode&1))return uv(n,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Ge(419)),r=Rw(s,r,void 0),uv(n,e,o,r)}if(a=(o&n.childLanes)!==0,Pi||a){if(r=Ar,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Na(n,i),go(r,n,i,-1))}return tC(),r=Rw(Error(Ge(421))),uv(n,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=cV.bind(null,n),i._reactRetry=e,null):(n=s.treeContext,ts=Xl(i.nextSibling),rs=e,yn=!0,fo=null,n!==null&&(ks[Os++]=Ca,ks[Os++]=Ea,ks[Os++]=Fu,Ca=n.id,Ea=n.overflow,Fu=e),e=K2(e,r.children),e.flags|=4096,e)}function IP(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),eb(n.return,e,t)}function Dw(n,e,t,r,i){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailMode=i)}function DF(n,e,t){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(fi(n,e,r.children,t),r=Mn.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&IP(n,t,e);else if(n.tag===19)IP(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(an(Mn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&m1(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),Dw(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&m1(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}Dw(e,!0,t,null,s);break;case"together":Dw(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Iy(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Ua(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Uu|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(Ge(153));if(e.child!==null){for(n=e.child,t=Ql(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Ql(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function QH(n,e,t){switch(e.tag){case 3:PF(e),Xd();break;case 5:iF(e);break;case 1:Ii(e.type)&&c1(e);break;case 4:G2(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;an(d1,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(an(Mn,Mn.current&1),e.flags|=128,null):t&e.child.childLanes?RF(n,e,t):(an(Mn,Mn.current&1),n=Ua(n,e,t),n!==null?n.sibling:null);an(Mn,Mn.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return DF(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),an(Mn,Mn.current),r)break;return null;case 22:case 23:return e.lanes=0,EF(n,e,t)}return Ua(n,e,t)}var BF,lb,IF,LF;BF=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};lb=function(){};IF=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,fu(Wo.current);var s=null;switch(t){case"input":i=RA(n,i),r=RA(n,r),s=[];break;case"select":i=Dn({},i,{value:void 0}),r=Dn({},r,{value:void 0}),s=[];break;case"textarea":i=IA(n,i),r=IA(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=a1)}kA(t,r);var o;t=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Cm.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Cm.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&cn("scroll",n),s||a===l||(s=[])):(s=s||[]).push(c,l))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};LF=function(n,e,t,r){t!==r&&(e.flags|=4)};function dp(n,e){if(!yn)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function Hr(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function qH(n,e,t){var r=e.pendingProps;switch(L2(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hr(e),null;case 1:return Ii(e.type)&&l1(),Hr(e),null;case 3:return r=e.stateNode,Kd(),hn(Bi),hn(Yr),V2(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(lv(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,fo!==null&&(gb(fo),fo=null))),lb(n,e),Hr(e),null;case 5:H2(e);var i=fu(Nm.current);if(t=e.type,n!==null&&e.stateNode!=null)IF(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Ge(166));return Hr(e),null}if(n=fu(Wo.current),lv(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[zo]=e,r[Om]=s,n=(e.mode&1)!==0,t){case"dialog":cn("cancel",r),cn("close",r);break;case"iframe":case"object":case"embed":cn("load",r);break;case"video":case"audio":for(i=0;i<Vp.length;i++)cn(Vp[i],r);break;case"source":cn("error",r);break;case"img":case"image":case"link":cn("error",r),cn("load",r);break;case"details":cn("toggle",r);break;case"input":H3(r,s),cn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},cn("invalid",r);break;case"textarea":W3(r,s),cn("invalid",r)}kA(t,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&av(r.textContent,a,n),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&av(r.textContent,a,n),i=["children",""+a]):Cm.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&cn("scroll",r)}switch(t){case"input":Z0(r),V3(r,s,!0);break;case"textarea":Z0(r),j3(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=a1)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=aO(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[zo]=e,n[Om]=r,BF(n,e,!1,!1),e.stateNode=n;e:{switch(o=OA(t,r),t){case"dialog":cn("cancel",n),cn("close",n),i=r;break;case"iframe":case"object":case"embed":cn("load",n),i=r;break;case"video":case"audio":for(i=0;i<Vp.length;i++)cn(Vp[i],n);i=r;break;case"source":cn("error",n),i=r;break;case"img":case"image":case"link":cn("error",n),cn("load",n),i=r;break;case"details":cn("toggle",n),i=r;break;case"input":H3(n,r),i=RA(n,r),cn("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=Dn({},r,{value:void 0}),cn("invalid",n);break;case"textarea":W3(n,r),i=IA(n,r),cn("invalid",n);break;default:i=r}kA(t,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?uO(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&lO(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&Em(n,l):typeof l=="number"&&Em(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Cm.hasOwnProperty(s)?l!=null&&s==="onScroll"&&cn("scroll",n):l!=null&&_2(n,s,l,o))}switch(t){case"input":Z0(n),V3(n,r,!1);break;case"textarea":Z0(n),j3(n);break;case"option":r.value!=null&&n.setAttribute("value",""+tc(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?Dd(n,!!r.multiple,s,!1):r.defaultValue!=null&&Dd(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=a1)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Hr(e),null;case 6:if(n&&e.stateNode!=null)LF(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Ge(166));if(t=fu(Nm.current),fu(Wo.current),lv(e)){if(r=e.stateNode,t=e.memoizedProps,r[zo]=e,(s=r.nodeValue!==t)&&(n=rs,n!==null))switch(n.tag){case 3:av(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&av(r.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[zo]=e,e.stateNode=r}return Hr(e),null;case 13:if(hn(Mn),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(yn&&ts!==null&&e.mode&1&&!(e.flags&128))QO(),Xd(),e.flags|=98560,s=!1;else if(s=lv(e),r!==null&&r.dehydrated!==null){if(n===null){if(!s)throw Error(Ge(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ge(317));s[zo]=e}else Xd(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Hr(e),s=!1}else fo!==null&&(gb(fo),fo=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||Mn.current&1?ur===0&&(ur=3):tC())),e.updateQueue!==null&&(e.flags|=4),Hr(e),null);case 4:return Kd(),lb(n,e),n===null&&Lm(e.stateNode.containerInfo),Hr(e),null;case 10:return N2(e.type._context),Hr(e),null;case 17:return Ii(e.type)&&l1(),Hr(e),null;case 19:if(hn(Mn),s=e.memoizedState,s===null)return Hr(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)dp(s,!1);else{if(ur!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=m1(n),o!==null){for(e.flags|=128,dp(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return an(Mn,Mn.current&1|2),e.child}n=n.sibling}s.tail!==null&&Kn()>Qd&&(e.flags|=128,r=!0,dp(s,!1),e.lanes=4194304)}else{if(!r)if(n=m1(o),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),dp(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!yn)return Hr(e),null}else 2*Kn()-s.renderingStartTime>Qd&&t!==1073741824&&(e.flags|=128,r=!0,dp(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Kn(),e.sibling=null,t=Mn.current,an(Mn,r?t&1|2:t&1),e):(Hr(e),null);case 22:case 23:return eC(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Qi&1073741824&&(Hr(e),e.subtreeFlags&6&&(e.flags|=8192)):Hr(e),null;case 24:return null;case 25:return null}throw Error(Ge(156,e.tag))}function ZH(n,e){switch(L2(e),e.tag){case 1:return Ii(e.type)&&l1(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Kd(),hn(Bi),hn(Yr),V2(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return H2(e),null;case 13:if(hn(Mn),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(Ge(340));Xd()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return hn(Mn),null;case 4:return Kd(),null;case 10:return N2(e.type._context),null;case 22:case 23:return eC(),null;case 24:return null;default:return null}}var fv=!1,Wr=!1,eV=typeof WeakSet=="function"?WeakSet:Set,et=null;function vd(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){kn(n,e,r)}else t.current=null}function cb(n,e,t){try{t()}catch(r){kn(n,e,r)}}var LP=!1;function tV(n,e){if($A=i1,n=NO(),B2(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,c=0,u=0,f=n,d=null;t:for(;;){for(var m;f!==t||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)d=f,f=m;for(;;){if(f===n)break t;if(d===t&&++c===i&&(a=o),d===s&&++u===r&&(l=o),(m=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=m}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(XA={focusedElem:n,selectionRange:t},i1=!1,et=e;et!==null;)if(e=et,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,et=n;else for(;et!==null;){e=et;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,y=g.memoizedState,x=e.stateNode,_=x.getSnapshotBeforeUpdate(e.elementType===e.type?v:co(e.type,v),y);x.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ge(163))}}catch(A){kn(e,e.return,A)}if(n=e.sibling,n!==null){n.return=e.return,et=n;break}et=e.return}return g=LP,LP=!1,g}function tm(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var s=i.destroy;i.destroy=void 0,s!==void 0&&cb(e,t,s)}i=i.next}while(i!==r)}}function y_(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function ub(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function kF(n){var e=n.alternate;e!==null&&(n.alternate=null,kF(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[zo],delete e[Om],delete e[YA],delete e[FH],delete e[NH])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function OF(n){return n.tag===5||n.tag===3||n.tag===4}function kP(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||OF(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function fb(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=a1));else if(r!==4&&(n=n.child,n!==null))for(fb(n,e,t),n=n.sibling;n!==null;)fb(n,e,t),n=n.sibling}function db(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(db(n,e,t),n=n.sibling;n!==null;)db(n,e,t),n=n.sibling}var Rr=null,uo=!1;function ml(n,e,t){for(t=t.child;t!==null;)FF(n,e,t),t=t.sibling}function FF(n,e,t){if(Vo&&typeof Vo.onCommitFiberUnmount=="function")try{Vo.onCommitFiberUnmount(u_,t)}catch{}switch(t.tag){case 5:Wr||vd(t,e);case 6:var r=Rr,i=uo;Rr=null,ml(n,e,t),Rr=r,uo=i,Rr!==null&&(uo?(n=Rr,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Rr.removeChild(t.stateNode));break;case 18:Rr!==null&&(uo?(n=Rr,t=t.stateNode,n.nodeType===8?bw(n.parentNode,t):n.nodeType===1&&bw(n,t),Dm(n)):bw(Rr,t.stateNode));break;case 4:r=Rr,i=uo,Rr=t.stateNode.containerInfo,uo=!0,ml(n,e,t),Rr=r,uo=i;break;case 0:case 11:case 14:case 15:if(!Wr&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&cb(t,e,o),i=i.next}while(i!==r)}ml(n,e,t);break;case 1:if(!Wr&&(vd(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(a){kn(t,e,a)}ml(n,e,t);break;case 21:ml(n,e,t);break;case 22:t.mode&1?(Wr=(r=Wr)||t.memoizedState!==null,ml(n,e,t),Wr=r):ml(n,e,t);break;default:ml(n,e,t)}}function OP(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new eV),e.forEach(function(r){var i=uV.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function ro(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Rr=a.stateNode,uo=!1;break e;case 3:Rr=a.stateNode.containerInfo,uo=!0;break e;case 4:Rr=a.stateNode.containerInfo,uo=!0;break e}a=a.return}if(Rr===null)throw Error(Ge(160));FF(s,o,i),Rr=null,uo=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){kn(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)NF(e,n),e=e.sibling}function NF(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(ro(e,n),ko(n),r&4){try{tm(3,n,n.return),y_(3,n)}catch(v){kn(n,n.return,v)}try{tm(5,n,n.return)}catch(v){kn(n,n.return,v)}}break;case 1:ro(e,n),ko(n),r&512&&t!==null&&vd(t,t.return);break;case 5:if(ro(e,n),ko(n),r&512&&t!==null&&vd(t,t.return),n.flags&32){var i=n.stateNode;try{Em(i,"")}catch(v){kn(n,n.return,v)}}if(r&4&&(i=n.stateNode,i!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&sO(i,s),OA(a,o);var c=OA(a,s);for(o=0;o<l.length;o+=2){var u=l[o],f=l[o+1];u==="style"?uO(i,f):u==="dangerouslySetInnerHTML"?lO(i,f):u==="children"?Em(i,f):_2(i,u,f,c)}switch(a){case"input":DA(i,s);break;case"textarea":oO(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Dd(i,!!s.multiple,m,!1):d!==!!s.multiple&&(s.defaultValue!=null?Dd(i,!!s.multiple,s.defaultValue,!0):Dd(i,!!s.multiple,s.multiple?[]:"",!1))}i[Om]=s}catch(v){kn(n,n.return,v)}}break;case 6:if(ro(e,n),ko(n),r&4){if(n.stateNode===null)throw Error(Ge(162));i=n.stateNode,s=n.memoizedProps;try{i.nodeValue=s}catch(v){kn(n,n.return,v)}}break;case 3:if(ro(e,n),ko(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{Dm(e.containerInfo)}catch(v){kn(n,n.return,v)}break;case 4:ro(e,n),ko(n);break;case 13:ro(e,n),ko(n),i=n.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(q2=Kn())),r&4&&OP(n);break;case 22:if(u=t!==null&&t.memoizedState!==null,n.mode&1?(Wr=(c=Wr)||u,ro(e,n),Wr=c):ro(e,n),ko(n),r&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!u&&n.mode&1)for(et=n,u=n.child;u!==null;){for(f=et=u;et!==null;){switch(d=et,m=d.child,d.tag){case 0:case 11:case 14:case 15:tm(4,d,d.return);break;case 1:vd(d,d.return);var g=d.stateNode;if(typeof g.componentWillUnmount=="function"){r=d,t=d.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(v){kn(r,t,v)}}break;case 5:vd(d,d.return);break;case 22:if(d.memoizedState!==null){NP(f);continue}}m!==null?(m.return=d,et=m):NP(f)}u=u.sibling}e:for(u=null,f=n;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=cO("display",o))}catch(v){kn(n,n.return,v)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(v){kn(n,n.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===n)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===n)break e;for(;f.sibling===null;){if(f.return===null||f.return===n)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ro(e,n),ko(n),r&4&&OP(n);break;case 21:break;default:ro(e,n),ko(n)}}function ko(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(OF(t)){var r=t;break e}t=t.return}throw Error(Ge(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Em(i,""),r.flags&=-33);var s=kP(n);db(n,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=kP(n);fb(n,a,o);break;default:throw Error(Ge(161))}}catch(l){kn(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function nV(n,e,t){et=n,UF(n)}function UF(n,e,t){for(var r=(n.mode&1)!==0;et!==null;){var i=et,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||fv;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Wr;a=fv;var c=Wr;if(fv=o,(Wr=l)&&!c)for(et=i;et!==null;)o=et,l=o.child,o.tag===22&&o.memoizedState!==null?UP(i):l!==null?(l.return=o,et=l):UP(i);for(;s!==null;)et=s,UF(s),s=s.sibling;et=i,fv=a,Wr=c}FP(n)}else i.subtreeFlags&8772&&s!==null?(s.return=i,et=s):FP(n)}}function FP(n){for(;et!==null;){var e=et;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Wr||y_(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Wr)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:co(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&xP(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}xP(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Dm(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ge(163))}Wr||e.flags&512&&ub(e)}catch(d){kn(e,e.return,d)}}if(e===n){et=null;break}if(t=e.sibling,t!==null){t.return=e.return,et=t;break}et=e.return}}function NP(n){for(;et!==null;){var e=et;if(e===n){et=null;break}var t=e.sibling;if(t!==null){t.return=e.return,et=t;break}et=e.return}}function UP(n){for(;et!==null;){var e=et;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{y_(4,e)}catch(l){kn(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){kn(e,i,l)}}var s=e.return;try{ub(e)}catch(l){kn(e,s,l)}break;case 5:var o=e.return;try{ub(e)}catch(l){kn(e,o,l)}}}catch(l){kn(e,e.return,l)}if(e===n){et=null;break}var a=e.sibling;if(a!==null){a.return=e.return,et=a;break}et=e.return}}var rV=Math.ceil,y1=Ka.ReactCurrentDispatcher,Y2=Ka.ReactCurrentOwner,$s=Ka.ReactCurrentBatchConfig,Vt=0,Ar=null,rr=null,Br=0,Qi=0,yd=vc(0),ur=0,Hm=null,Uu=0,__=0,Q2=0,nm=null,Mi=null,q2=0,Qd=1/0,_a=null,_1=!1,hb=null,Kl=null,dv=!1,Fl=null,x1=0,rm=0,pb=null,Ly=-1,ky=0;function pi(){return Vt&6?Kn():Ly!==-1?Ly:Ly=Kn()}function Yl(n){return n.mode&1?Vt&2&&Br!==0?Br&-Br:zH.transition!==null?(ky===0&&(ky=SO()),ky):(n=Qt,n!==0||(n=window.event,n=n===void 0?16:PO(n.type)),n):1}function go(n,e,t,r){if(50<rm)throw rm=0,pb=null,Error(Ge(185));wg(n,t,r),(!(Vt&2)||n!==Ar)&&(n===Ar&&(!(Vt&2)&&(__|=t),ur===4&&Ll(n,Br)),Li(n,r),t===1&&Vt===0&&!(e.mode&1)&&(Qd=Kn()+500,m_&&yc()))}function Li(n,e){var t=n.callbackNode;z9(n,e);var r=r1(n,n===Ar?Br:0);if(r===0)t!==null&&J3(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&J3(t),e===1)n.tag===0?UH(zP.bind(null,n)):JO(zP.bind(null,n)),kH(function(){!(Vt&6)&&yc()}),t=null;else{switch(AO(r)){case 1:t=b2;break;case 4:t=xO;break;case 16:t=n1;break;case 536870912:t=wO;break;default:t=n1}t=XF(t,zF.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function zF(n,e){if(Ly=-1,ky=0,Vt&6)throw Error(Ge(327));var t=n.callbackNode;if(Od()&&n.callbackNode!==t)return null;var r=r1(n,n===Ar?Br:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=w1(n,r);else{e=r;var i=Vt;Vt|=2;var s=HF();(Ar!==n||Br!==e)&&(_a=null,Qd=Kn()+500,wu(n,e));do try{oV();break}catch(a){GF(n,a)}while(1);F2(),y1.current=s,Vt=i,rr!==null?e=0:(Ar=null,Br=0,e=ur)}if(e!==0){if(e===2&&(i=GA(n),i!==0&&(r=i,e=mb(n,i))),e===1)throw t=Hm,wu(n,0),Ll(n,r),Li(n,Kn()),t;if(e===6)Ll(n,r);else{if(i=n.current.alternate,!(r&30)&&!iV(i)&&(e=w1(n,r),e===2&&(s=GA(n),s!==0&&(r=s,e=mb(n,s))),e===1))throw t=Hm,wu(n,0),Ll(n,r),Li(n,Kn()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(Ge(345));case 2:nu(n,Mi,_a);break;case 3:if(Ll(n,r),(r&130023424)===r&&(e=q2+500-Kn(),10<e)){if(r1(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){pi(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=KA(nu.bind(null,n,Mi,_a),e);break}nu(n,Mi,_a);break;case 4:if(Ll(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var o=31-mo(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Kn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*rV(r/1960))-r,10<r){n.timeoutHandle=KA(nu.bind(null,n,Mi,_a),r);break}nu(n,Mi,_a);break;case 5:nu(n,Mi,_a);break;default:throw Error(Ge(329))}}}return Li(n,Kn()),n.callbackNode===t?zF.bind(null,n):null}function mb(n,e){var t=nm;return n.current.memoizedState.isDehydrated&&(wu(n,e).flags|=256),n=w1(n,e),n!==2&&(e=Mi,Mi=t,e!==null&&gb(e)),n}function gb(n){Mi===null?Mi=n:Mi.push.apply(Mi,n)}function iV(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],s=i.getSnapshot;i=i.value;try{if(!wo(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ll(n,e){for(e&=~Q2,e&=~__,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-mo(e),r=1<<t;n[t]=-1,e&=~r}}function zP(n){if(Vt&6)throw Error(Ge(327));Od();var e=r1(n,0);if(!(e&1))return Li(n,Kn()),null;var t=w1(n,e);if(n.tag!==0&&t===2){var r=GA(n);r!==0&&(e=r,t=mb(n,r))}if(t===1)throw t=Hm,wu(n,0),Ll(n,e),Li(n,Kn()),t;if(t===6)throw Error(Ge(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,nu(n,Mi,_a),Li(n,Kn()),null}function Z2(n,e){var t=Vt;Vt|=1;try{return n(e)}finally{Vt=t,Vt===0&&(Qd=Kn()+500,m_&&yc())}}function zu(n){Fl!==null&&Fl.tag===0&&!(Vt&6)&&Od();var e=Vt;Vt|=1;var t=$s.transition,r=Qt;try{if($s.transition=null,Qt=1,n)return n()}finally{Qt=r,$s.transition=t,Vt=e,!(Vt&6)&&yc()}}function eC(){Qi=yd.current,hn(yd)}function wu(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,LH(t)),rr!==null)for(t=rr.return;t!==null;){var r=t;switch(L2(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&l1();break;case 3:Kd(),hn(Bi),hn(Yr),V2();break;case 5:H2(r);break;case 4:Kd();break;case 13:hn(Mn);break;case 19:hn(Mn);break;case 10:N2(r.type._context);break;case 22:case 23:eC()}t=t.return}if(Ar=n,rr=n=Ql(n.current,null),Br=Qi=e,ur=0,Hm=null,Q2=__=Uu=0,Mi=nm=null,uu!==null){for(e=0;e<uu.length;e++)if(t=uu[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,s=t.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}t.pending=r}uu=null}return n}function GF(n,e){do{var t=rr;try{if(F2(),Dy.current=v1,g1){for(var r=Rn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}g1=!1}if(Nu=0,wr=lr=Rn=null,em=!1,Um=0,Y2.current=null,t===null||t.return===null){ur=1,Hm=e,rr=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=Br,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=EP(o);if(m!==null){m.flags&=-257,TP(m,o,a,s,e),m.mode&1&&CP(s,c,e),e=m,l=c;var g=e.updateQueue;if(g===null){var v=new Set;v.add(l),e.updateQueue=v}else g.add(l);break e}else{if(!(e&1)){CP(s,c,e),tC();break e}l=Error(Ge(426))}}else if(yn&&a.mode&1){var y=EP(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),TP(y,o,a,s,e),k2(Yd(l,a));break e}}s=l=Yd(l,a),ur!==4&&(ur=2),nm===null?nm=[s]:nm.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=bF(s,l,e);_P(s,x);break e;case 1:a=l;var _=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Kl===null||!Kl.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var A=MF(s,a,e);_P(s,A);break e}}s=s.return}while(s!==null)}WF(t)}catch(C){e=C,rr===t&&t!==null&&(rr=t=t.return);continue}break}while(1)}function HF(){var n=y1.current;return y1.current=v1,n===null?v1:n}function tC(){(ur===0||ur===3||ur===2)&&(ur=4),Ar===null||!(Uu&268435455)&&!(__&268435455)||Ll(Ar,Br)}function w1(n,e){var t=Vt;Vt|=2;var r=HF();(Ar!==n||Br!==e)&&(_a=null,wu(n,e));do try{sV();break}catch(i){GF(n,i)}while(1);if(F2(),Vt=t,y1.current=r,rr!==null)throw Error(Ge(261));return Ar=null,Br=0,ur}function sV(){for(;rr!==null;)VF(rr)}function oV(){for(;rr!==null&&!D9();)VF(rr)}function VF(n){var e=$F(n.alternate,n,Qi);n.memoizedProps=n.pendingProps,e===null?WF(n):rr=e,Y2.current=null}function WF(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=ZH(t,e),t!==null){t.flags&=32767,rr=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{ur=6,rr=null;return}}else if(t=qH(t,e,Qi),t!==null){rr=t;return}if(e=e.sibling,e!==null){rr=e;return}rr=e=n}while(e!==null);ur===0&&(ur=5)}function nu(n,e,t){var r=Qt,i=$s.transition;try{$s.transition=null,Qt=1,aV(n,e,t,r)}finally{$s.transition=i,Qt=r}return null}function aV(n,e,t,r){do Od();while(Fl!==null);if(Vt&6)throw Error(Ge(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(Ge(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(G9(n,s),n===Ar&&(rr=Ar=null,Br=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||dv||(dv=!0,XF(n1,function(){return Od(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=$s.transition,$s.transition=null;var o=Qt;Qt=1;var a=Vt;Vt|=4,Y2.current=null,tV(n,t),NF(t,n),EH(XA),i1=!!$A,XA=$A=null,n.current=t,nV(t),B9(),Vt=a,Qt=o,$s.transition=s}else n.current=t;if(dv&&(dv=!1,Fl=n,x1=i),s=n.pendingLanes,s===0&&(Kl=null),k9(t.stateNode),Li(n,Kn()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(_1)throw _1=!1,n=hb,hb=null,n;return x1&1&&n.tag!==0&&Od(),s=n.pendingLanes,s&1?n===pb?rm++:(rm=0,pb=n):rm=0,yc(),null}function Od(){if(Fl!==null){var n=AO(x1),e=$s.transition,t=Qt;try{if($s.transition=null,Qt=16>n?16:n,Fl===null)var r=!1;else{if(n=Fl,Fl=null,x1=0,Vt&6)throw Error(Ge(331));var i=Vt;for(Vt|=4,et=n.current;et!==null;){var s=et,o=s.child;if(et.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(et=c;et!==null;){var u=et;switch(u.tag){case 0:case 11:case 15:tm(8,u,s)}var f=u.child;if(f!==null)f.return=u,et=f;else for(;et!==null;){u=et;var d=u.sibling,m=u.return;if(kF(u),u===c){et=null;break}if(d!==null){d.return=m,et=d;break}et=m}}}var g=s.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var y=v.sibling;v.sibling=null,v=y}while(v!==null)}}et=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,et=o;else e:for(;et!==null;){if(s=et,s.flags&2048)switch(s.tag){case 0:case 11:case 15:tm(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,et=x;break e}et=s.return}}var _=n.current;for(et=_;et!==null;){o=et;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,et=w;else e:for(o=_;et!==null;){if(a=et,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:y_(9,a)}}catch(C){kn(a,a.return,C)}if(a===o){et=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,et=A;break e}et=a.return}}if(Vt=i,yc(),Vo&&typeof Vo.onPostCommitFiberRoot=="function")try{Vo.onPostCommitFiberRoot(u_,n)}catch{}r=!0}return r}finally{Qt=t,$s.transition=e}}return!1}function GP(n,e,t){e=Yd(t,e),e=bF(n,e,1),n=Jl(n,e,1),e=pi(),n!==null&&(wg(n,1,e),Li(n,e))}function kn(n,e,t){if(n.tag===3)GP(n,n,t);else for(;e!==null;){if(e.tag===3){GP(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Kl===null||!Kl.has(r))){n=Yd(t,n),n=MF(e,n,1),e=Jl(e,n,1),n=pi(),e!==null&&(wg(e,1,n),Li(e,n));break}}e=e.return}}function lV(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=pi(),n.pingedLanes|=n.suspendedLanes&t,Ar===n&&(Br&t)===t&&(ur===4||ur===3&&(Br&130023424)===Br&&500>Kn()-q2?wu(n,0):Q2|=t),Li(n,e)}function jF(n,e){e===0&&(n.mode&1?(e=nv,nv<<=1,!(nv&130023424)&&(nv=4194304)):e=1);var t=pi();n=Na(n,e),n!==null&&(wg(n,e,t),Li(n,t))}function cV(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),jF(n,t)}function uV(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(Ge(314))}r!==null&&r.delete(e),jF(n,t)}var $F;$F=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Bi.current)Pi=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Pi=!1,QH(n,e,t);Pi=!!(n.flags&131072)}else Pi=!1,yn&&e.flags&1048576&&KO(e,f1,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Iy(n,e),n=e.pendingProps;var i=$d(e,Yr.current);kd(e,t),i=j2(null,e,r,n,i,t);var s=$2();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ii(r)?(s=!0,c1(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,z2(e),i.updater=g_,e.stateNode=i,i._reactInternals=e,nb(e,r,n,t),e=sb(null,e,r,!0,s,t)):(e.tag=0,yn&&s&&I2(e),fi(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(Iy(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=dV(r),n=co(r,n),i){case 0:e=ib(null,e,r,n,t);break e;case 1:e=DP(null,e,r,n,t);break e;case 11:e=PP(null,e,r,n,t);break e;case 14:e=RP(null,e,r,co(r.type,n),t);break e}throw Error(Ge(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:co(r,i),ib(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:co(r,i),DP(n,e,r,i,t);case 3:e:{if(PF(e),n===null)throw Error(Ge(387));r=e.pendingProps,s=e.memoizedState,i=s.element,ZO(n,e),p1(e,r,null,t);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Yd(Error(Ge(423)),e),e=BP(n,e,r,t,i);break e}else if(r!==i){i=Yd(Error(Ge(424)),e),e=BP(n,e,r,t,i);break e}else for(ts=Xl(e.stateNode.containerInfo.firstChild),rs=e,yn=!0,fo=null,t=rF(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Xd(),r===i){e=Ua(n,e,t);break e}fi(n,e,r,t)}e=e.child}return e;case 5:return iF(e),n===null&&ZA(e),r=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,o=i.children,JA(r,i)?o=null:s!==null&&JA(r,s)&&(e.flags|=32),TF(n,e),fi(n,e,o,t),e.child;case 6:return n===null&&ZA(e),null;case 13:return RF(n,e,t);case 4:return G2(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=Jd(e,null,r,t):fi(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:co(r,i),PP(n,e,r,i,t);case 7:return fi(n,e,e.pendingProps,t),e.child;case 8:return fi(n,e,e.pendingProps.children,t),e.child;case 12:return fi(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,an(d1,r._currentValue),r._currentValue=o,s!==null)if(wo(s.value,o)){if(s.children===i.children&&!Bi.current){e=Ua(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Da(-1,t&-t),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),eb(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Ge(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),eb(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}fi(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,kd(e,t),i=Xs(i),r=r(i),e.flags|=1,fi(n,e,r,t),e.child;case 14:return r=e.type,i=co(r,e.pendingProps),i=co(r.type,i),RP(n,e,r,i,t);case 15:return CF(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:co(r,i),Iy(n,e),e.tag=1,Ii(r)?(n=!0,c1(e)):n=!1,kd(e,t),tF(e,r,i),nb(e,r,i,t),sb(null,e,r,!0,n,t);case 19:return DF(n,e,t);case 22:return EF(n,e,t)}throw Error(Ge(156,e.tag))};function XF(n,e){return _O(n,e)}function fV(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zs(n,e,t,r){return new fV(n,e,t,r)}function nC(n){return n=n.prototype,!(!n||!n.isReactComponent)}function dV(n){if(typeof n=="function")return nC(n)?1:0;if(n!=null){if(n=n.$$typeof,n===w2)return 11;if(n===S2)return 14}return 2}function Ql(n,e){var t=n.alternate;return t===null?(t=zs(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function Oy(n,e,t,r,i,s){var o=2;if(r=n,typeof n=="function")nC(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case ld:return Su(t.children,i,s,e);case x2:o=8,i|=8;break;case CA:return n=zs(12,t,e,i|2),n.elementType=CA,n.lanes=s,n;case EA:return n=zs(13,t,e,i),n.elementType=EA,n.lanes=s,n;case TA:return n=zs(19,t,e,i),n.elementType=TA,n.lanes=s,n;case nO:return x_(t,i,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case eO:o=10;break e;case tO:o=9;break e;case w2:o=11;break e;case S2:o=14;break e;case Tl:o=16,r=null;break e}throw Error(Ge(130,n==null?n:typeof n,""))}return e=zs(o,t,e,i),e.elementType=n,e.type=r,e.lanes=s,e}function Su(n,e,t,r){return n=zs(7,n,r,e),n.lanes=t,n}function x_(n,e,t,r){return n=zs(22,n,r,e),n.elementType=nO,n.lanes=t,n.stateNode={isHidden:!1},n}function Bw(n,e,t){return n=zs(6,n,null,e),n.lanes=t,n}function Iw(n,e,t){return e=zs(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function hV(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hw(0),this.expirationTimes=hw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hw(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function rC(n,e,t,r,i,s,o,a,l){return n=new hV(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=zs(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},z2(s),n}function pV(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ad,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function JF(n){if(!n)return nc;n=n._reactInternals;e:{if(ef(n)!==n||n.tag!==1)throw Error(Ge(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ii(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ge(171))}if(n.tag===1){var t=n.type;if(Ii(t))return XO(n,t,e)}return e}function KF(n,e,t,r,i,s,o,a,l){return n=rC(t,r,!0,n,i,s,o,a,l),n.context=JF(null),t=n.current,r=pi(),i=Yl(t),s=Da(r,i),s.callback=e??null,Jl(t,s,i),n.current.lanes=i,wg(n,i,r),Li(n,r),n}function w_(n,e,t,r){var i=e.current,s=pi(),o=Yl(i);return t=JF(t),e.context===null?e.context=t:e.pendingContext=t,e=Da(s,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=Jl(i,e,o),n!==null&&(go(n,i,o,s),Ry(n,i,o)),o}function S1(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function HP(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function iC(n,e){HP(n,e),(n=n.alternate)&&HP(n,e)}function mV(){return null}var YF=typeof reportError=="function"?reportError:function(n){console.error(n)};function sC(n){this._internalRoot=n}S_.prototype.render=sC.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(Ge(409));w_(n,e,null,null)};S_.prototype.unmount=sC.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;zu(function(){w_(null,n,null,null)}),e[Fa]=null}};function S_(n){this._internalRoot=n}S_.prototype.unstable_scheduleHydration=function(n){if(n){var e=CO();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Il.length&&e!==0&&e<Il[t].priority;t++);Il.splice(t,0,n),t===0&&TO(n)}};function oC(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function A_(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function VP(){}function gV(n,e,t,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=S1(o);s.call(c)}}var o=KF(e,r,n,0,null,!1,!1,"",VP);return n._reactRootContainer=o,n[Fa]=o.current,Lm(n.nodeType===8?n.parentNode:n),zu(),o}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=S1(l);a.call(c)}}var l=rC(n,0,!1,null,null,!1,!1,"",VP);return n._reactRootContainer=l,n[Fa]=l.current,Lm(n.nodeType===8?n.parentNode:n),zu(function(){w_(e,l,t,r)}),l}function b_(n,e,t,r,i){var s=t._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=S1(o);a.call(l)}}w_(e,o,n,i)}else o=gV(t,e,n,i,r);return S1(o)}bO=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Hp(e.pendingLanes);t!==0&&(M2(e,t|1),Li(e,Kn()),!(Vt&6)&&(Qd=Kn()+500,yc()))}break;case 13:zu(function(){var r=Na(n,1);if(r!==null){var i=pi();go(r,n,1,i)}}),iC(n,1)}};C2=function(n){if(n.tag===13){var e=Na(n,134217728);if(e!==null){var t=pi();go(e,n,134217728,t)}iC(n,134217728)}};MO=function(n){if(n.tag===13){var e=Yl(n),t=Na(n,e);if(t!==null){var r=pi();go(t,n,e,r)}iC(n,e)}};CO=function(){return Qt};EO=function(n,e){var t=Qt;try{return Qt=n,e()}finally{Qt=t}};NA=function(n,e,t){switch(e){case"input":if(DA(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=p_(r);if(!i)throw Error(Ge(90));iO(r),DA(r,i)}}}break;case"textarea":oO(n,t);break;case"select":e=t.value,e!=null&&Dd(n,!!t.multiple,e,!1)}};hO=Z2;pO=zu;var vV={usingClientEntryPoint:!1,Events:[Ag,dd,p_,fO,dO,Z2]},hp={findFiberByHostInstance:cu,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},yV={bundleType:hp.bundleType,version:hp.version,rendererPackageName:hp.rendererPackageName,rendererConfig:hp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ka.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=vO(n),n===null?null:n.stateNode},findFiberByHostInstance:hp.findFiberByHostInstance||mV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hv.isDisabled&&hv.supportsFiber)try{u_=hv.inject(yV),Vo=hv}catch{}}fs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vV;fs.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!oC(e))throw Error(Ge(200));return pV(n,e,null,t)};fs.createRoot=function(n,e){if(!oC(n))throw Error(Ge(299));var t=!1,r="",i=YF;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=rC(n,1,!1,null,null,t,!1,r,i),n[Fa]=e.current,Lm(n.nodeType===8?n.parentNode:n),new sC(e)};fs.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(Ge(188)):(n=Object.keys(n).join(","),Error(Ge(268,n)));return n=vO(e),n=n===null?null:n.stateNode,n};fs.flushSync=function(n){return zu(n)};fs.hydrate=function(n,e,t){if(!A_(e))throw Error(Ge(200));return b_(null,n,e,!0,t)};fs.hydrateRoot=function(n,e,t){if(!oC(n))throw Error(Ge(405));var r=t!=null&&t.hydratedSources||null,i=!1,s="",o=YF;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=KF(e,null,n,1,t??null,i,!1,s,o),n[Fa]=e.current,Lm(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new S_(e)};fs.render=function(n,e,t){if(!A_(e))throw Error(Ge(200));return b_(null,n,e,!1,t)};fs.unmountComponentAtNode=function(n){if(!A_(n))throw Error(Ge(40));return n._reactRootContainer?(zu(function(){b_(null,null,n,!1,function(){n._reactRootContainer=null,n[Fa]=null})}),!0):!1};fs.unstable_batchedUpdates=Z2;fs.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!A_(t))throw Error(Ge(200));if(n==null||n._reactInternals===void 0)throw Error(Ge(38));return b_(n,e,t,!1,r)};fs.version="18.2.0-next-9e3b772b8-20220608";function QF(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(QF)}catch(n){console.error(n)}}QF(),Kk.exports=fs;var Mg=Kk.exports;const qF=mh(Mg);var ZF,WP=Mg;ZF=bA.createRoot=WP.createRoot,bA.hydrateRoot=WP.hydrateRoot;function Kt(){return Kt=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Kt.apply(this,arguments)}/**
 * @license
 * Copyright 2010-2022 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const _h="146",_V={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},xV={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},e4=0,vb=1,t4=2,wV=3,n4=0,M_=1,im=2,du=3,za=0,mi=1,Gs=2,Ba=0,Au=1,yb=2,_b=3,xb=4,r4=5,au=100,i4=101,s4=102,wb=103,Sb=104,o4=200,a4=201,l4=202,c4=203,aC=204,lC=205,u4=206,f4=207,d4=208,h4=209,p4=210,m4=0,g4=1,v4=2,A1=3,y4=4,_4=5,x4=6,w4=7,Cg=0,S4=1,A4=2,vo=0,b4=1,M4=2,C4=3,cC=4,E4=5,C_=300,rc=301,ic=302,qd=303,Vm=304,xh=306,Ko=1e3,cr=1001,Zd=1002,Yn=1003,Wm=1004,SV=1004,jm=1005,AV=1005,fn=1006,E_=1007,bV=1007,Ya=1008,MV=1008,Ga=1009,T4=1010,P4=1011,uC=1012,R4=1013,Nl=1014,Ta=1015,eh=1016,D4=1017,B4=1018,bu=1020,I4=1021,L4=1022,Ci=1023,k4=1024,O4=1025,ql=1026,Gu=1027,F4=1028,N4=1029,U4=1030,z4=1031,G4=1033,Fy=33776,Ny=33777,Uy=33778,zy=33779,Ab=35840,bb=35841,Mb=35842,Cb=35843,H4=36196,Eb=37492,Tb=37496,Pb=37808,Rb=37809,Db=37810,Bb=37811,Ib=37812,Lb=37813,kb=37814,Ob=37815,Fb=37816,Nb=37817,Ub=37818,zb=37819,Gb=37820,Hb=37821,Vb=36492,V4=2200,W4=2201,j4=2202,th=2300,Hu=2301,Gy=2302,hu=2400,pu=2401,$m=2402,T_=2500,fC=2501,$4=0,dC=1,b1=2,sc=3e3,vn=3001,X4=3200,hC=3201,_c=0,J4=1,CV="",Uo="srgb",Ul="srgb-linear",EV=0,Hy=7680,TV=7681,PV=7682,RV=7683,DV=34055,BV=34056,IV=5386,LV=512,kV=513,OV=514,FV=515,NV=516,UV=517,zV=518,K4=519,Xm=35044,GV=35048,HV=35040,VV=35045,WV=35049,jV=35041,$V=35046,XV=35050,JV=35042,KV="100",Wb="300 es",M1=1035;class Qa{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}const Vr=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let jP=1234567;const Mu=Math.PI/180,Jm=180/Math.PI;function is(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Vr[n&255]+Vr[n>>8&255]+Vr[n>>16&255]+Vr[n>>24&255]+"-"+Vr[e&255]+Vr[e>>8&255]+"-"+Vr[e>>16&15|64]+Vr[e>>24&255]+"-"+Vr[t&63|128]+Vr[t>>8&255]+"-"+Vr[t>>16&255]+Vr[t>>24&255]+Vr[r&255]+Vr[r>>8&255]+Vr[r>>16&255]+Vr[r>>24&255]).toLowerCase()}function Qn(n,e,t){return Math.max(e,Math.min(t,n))}function pC(n,e){return(n%e+e)%e}function YV(n,e,t,r,i){return r+(n-e)*(i-r)/(t-e)}function QV(n,e,t){return n!==e?(t-n)/(e-n):0}function sm(n,e,t){return(1-t)*n+t*e}function qV(n,e,t,r){return sm(n,e,1-Math.exp(-t*r))}function ZV(n,e=1){return e-Math.abs(pC(n,e*2)-e)}function eW(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function tW(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function nW(n,e){return n+Math.floor(Math.random()*(e-n+1))}function rW(n,e){return n+Math.random()*(e-n)}function iW(n){return n*(.5-Math.random())}function sW(n){n!==void 0&&(jP=n);let e=jP+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function oW(n){return n*Mu}function aW(n){return n*Jm}function jb(n){return(n&n-1)===0&&n!==0}function Y4(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function C1(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function lW(n,e,t,r,i){const s=Math.cos,o=Math.sin,a=s(t/2),l=o(t/2),c=s((e+r)/2),u=o((e+r)/2),f=s((e-r)/2),d=o((e-r)/2),m=s((r-e)/2),g=o((r-e)/2);switch(i){case"XYX":n.set(a*u,l*f,l*d,a*c);break;case"YZY":n.set(l*d,a*u,l*f,a*c);break;case"ZXZ":n.set(l*f,l*d,a*u,a*c);break;case"XZX":n.set(a*u,l*g,l*m,a*c);break;case"YXY":n.set(l*m,a*u,l*g,a*c);break;case"ZYZ":n.set(l*g,l*m,a*u,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function Pa(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function rn(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}var Ei=Object.freeze({__proto__:null,DEG2RAD:Mu,RAD2DEG:Jm,generateUUID:is,clamp:Qn,euclideanModulo:pC,mapLinear:YV,inverseLerp:QV,lerp:sm,damp:qV,pingpong:ZV,smoothstep:eW,smootherstep:tW,randInt:nW,randFloat:rW,randFloatSpread:iW,seededRandom:sW,degToRad:oW,radToDeg:aW,isPowerOfTwo:jb,ceilPowerOfTwo:Y4,floorPowerOfTwo:C1,setQuaternionFromProperEuler:lW,normalize:rn,denormalize:Pa});class De{constructor(e=0,t=0){De.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),i=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class $r{constructor(){$r.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,t,r,i,s,o,a,l,c){const u=this.elements;return u[0]=e,u[1]=i,u[2]=a,u[3]=t,u[4]=s,u[5]=l,u[6]=r,u[7]=o,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[3],l=r[6],c=r[1],u=r[4],f=r[7],d=r[2],m=r[5],g=r[8],v=i[0],y=i[3],x=i[6],_=i[1],w=i[4],A=i[7],C=i[2],E=i[5],P=i[8];return s[0]=o*v+a*_+l*C,s[3]=o*y+a*w+l*E,s[6]=o*x+a*A+l*P,s[1]=c*v+u*_+f*C,s[4]=c*y+u*w+f*E,s[7]=c*x+u*A+f*P,s[2]=d*v+m*_+g*C,s[5]=d*y+m*w+g*E,s[8]=d*x+m*A+g*P,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return t*o*u-t*a*c-r*s*u+r*a*l+i*s*c-i*o*l}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],f=u*o-a*c,d=a*l-u*s,m=c*s-o*l,g=t*f+r*d+i*m;if(g===0)return this.set(0,0,0,0,0,0,0,0,0);const v=1/g;return e[0]=f*v,e[1]=(i*c-u*r)*v,e[2]=(a*r-i*o)*v,e[3]=d*v,e[4]=(u*t-i*l)*v,e[5]=(i*s-a*t)*v,e[6]=m*v,e[7]=(r*l-c*t)*v,e[8]=(o*t-r*s)*v,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(r*l,r*c,-r*(l*o+c*a)+o+e,-i*c,i*l,-i*(-c*o+l*a)+a+t,0,0,1),this}scale(e,t){const r=this.elements;return r[0]*=e,r[3]*=e,r[6]*=e,r[1]*=t,r[4]*=t,r[7]*=t,this}rotate(e){const t=Math.cos(e),r=Math.sin(e),i=this.elements,s=i[0],o=i[3],a=i[6],l=i[1],c=i[4],u=i[7];return i[0]=t*s+r*l,i[3]=t*o+r*c,i[6]=t*a+r*u,i[1]=-r*s+t*l,i[4]=-r*o+t*c,i[7]=-r*a+t*u,this}translate(e,t){const r=this.elements;return r[0]+=e*r[2],r[3]+=e*r[5],r[6]+=e*r[8],r[1]+=t*r[2],r[4]+=t*r[5],r[7]+=t*r[8],this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}function Q4(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const cW={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function _d(n,e){return new cW[n](e)}function Km(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function Cu(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function Vy(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}const Lw={[Uo]:{[Ul]:Cu},[Ul]:{[Uo]:Vy}},Ps={legacyMode:!0,get workingColorSpace(){return Ul},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,e,t){if(this.legacyMode||e===t||!e||!t)return n;if(Lw[e]&&Lw[e][t]!==void 0){const r=Lw[e][t];return n.r=r(n.r),n.g=r(n.g),n.b=r(n.b),n}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(n,e){return this.convert(n,this.workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this.workingColorSpace)}},q4={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},ar={r:0,g:0,b:0},io={h:0,s:0,l:0},pv={h:0,s:0,l:0};function kw(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}function mv(n,e){return e.r=n.r,e.g=n.g,e.b=n.b,e}let He=class{constructor(e,t,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,t===void 0&&r===void 0?this.set(e):this.setRGB(e,t,r)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Uo){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Ps.toWorkingColorSpace(this,t),this}setRGB(e,t,r,i=Ul){return this.r=e,this.g=t,this.b=r,Ps.toWorkingColorSpace(this,i),this}setHSL(e,t,r,i=Ul){if(e=pC(e,1),t=Qn(t,0,1),r=Qn(r,0,1),t===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+t):r+t-r*t,o=2*r-s;this.r=kw(o,s,e+1/3),this.g=kw(o,s,e),this.b=kw(o,s,e-1/3)}return Ps.toWorkingColorSpace(this,i),this}setStyle(e,t=Uo){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(s[1],10))/255,this.g=Math.min(255,parseInt(s[2],10))/255,this.b=Math.min(255,parseInt(s[3],10))/255,Ps.toWorkingColorSpace(this,t),r(s[4]),this;if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(s[1],10))/100,this.g=Math.min(100,parseInt(s[2],10))/100,this.b=Math.min(100,parseInt(s[3],10))/100,Ps.toWorkingColorSpace(this,t),r(s[4]),this;break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){const l=parseFloat(s[1])/360,c=parseFloat(s[2])/100,u=parseFloat(s[3])/100;return r(s[4]),this.setHSL(l,c,u,t)}break}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.r=parseInt(s.charAt(0)+s.charAt(0),16)/255,this.g=parseInt(s.charAt(1)+s.charAt(1),16)/255,this.b=parseInt(s.charAt(2)+s.charAt(2),16)/255,Ps.toWorkingColorSpace(this,t),this;if(o===6)return this.r=parseInt(s.charAt(0)+s.charAt(1),16)/255,this.g=parseInt(s.charAt(2)+s.charAt(3),16)/255,this.b=parseInt(s.charAt(4)+s.charAt(5),16)/255,Ps.toWorkingColorSpace(this,t),this}return e&&e.length>0?this.setColorName(e,t):this}setColorName(e,t=Uo){const r=q4[e.toLowerCase()];return r!==void 0?this.setHex(r,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Cu(e.r),this.g=Cu(e.g),this.b=Cu(e.b),this}copyLinearToSRGB(e){return this.r=Vy(e.r),this.g=Vy(e.g),this.b=Vy(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Uo){return Ps.fromWorkingColorSpace(mv(this,ar),e),Qn(ar.r*255,0,255)<<16^Qn(ar.g*255,0,255)<<8^Qn(ar.b*255,0,255)<<0}getHexString(e=Uo){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Ul){Ps.fromWorkingColorSpace(mv(this,ar),t);const r=ar.r,i=ar.g,s=ar.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,c;const u=(a+o)/2;if(a===o)l=0,c=0;else{const f=o-a;switch(c=u<=.5?f/(o+a):f/(2-o-a),o){case r:l=(i-s)/f+(i<s?6:0);break;case i:l=(s-r)/f+2;break;case s:l=(r-i)/f+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,t=Ul){return Ps.fromWorkingColorSpace(mv(this,ar),t),e.r=ar.r,e.g=ar.g,e.b=ar.b,e}getStyle(e=Uo){return Ps.fromWorkingColorSpace(mv(this,ar),e),e!==Uo?`color(${e} ${ar.r} ${ar.g} ${ar.b})`:`rgb(${ar.r*255|0},${ar.g*255|0},${ar.b*255|0})`}offsetHSL(e,t,r){return this.getHSL(io),io.h+=e,io.s+=t,io.l+=r,this.setHSL(io.h,io.s,io.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(io),e.getHSL(pv);const r=sm(io.h,pv.h,t),i=sm(io.s,pv.s,t),s=sm(io.l,pv.l,t);return this.setHSL(r,i,s),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};He.NAMES=q4;let Rf;class mC{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{Rf===void 0&&(Rf=Km("canvas")),Rf.width=e.width,Rf.height=e.height;const r=Rf.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=Rf}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=Km("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=Cu(s[o]/255)*255;return r.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[r]=Math.floor(Cu(t[r]/255)*255):t[r]=Cu(t[r]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class mu{constructor(e=null){this.isSource=!0,this.uuid=is(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(Ow(i[o].image)):s.push(Ow(i[o]))}else s=Ow(i);r.url=s}return t||(e.images[this.uuid]=r),r}}function Ow(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?mC.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let uW=0;class mn extends Qa{constructor(e=mn.DEFAULT_IMAGE,t=mn.DEFAULT_MAPPING,r=cr,i=cr,s=fn,o=Ya,a=Ci,l=Ga,c=1,u=sc){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:uW++}),this.uuid=is(),this.name="",this.source=new mu(e),this.mipmaps=[],this.mapping=t,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new De(0,0),this.repeat=new De(1,1),this.center=new De(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new $r,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=u,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==C_)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Ko:e.x=e.x-Math.floor(e.x);break;case cr:e.x=e.x<0?0:1;break;case Zd:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Ko:e.y=e.y-Math.floor(e.y);break;case cr:e.y=e.y<0?0:1;break;case Zd:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}mn.DEFAULT_IMAGE=null;mn.DEFAULT_MAPPING=C_;class Ct{constructor(e=0,t=0,r=0,i=1){Ct.prototype.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*t+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*t+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*t+o[7]*r+o[11]*i+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,s;const l=e.elements,c=l[0],u=l[4],f=l[8],d=l[1],m=l[5],g=l[9],v=l[2],y=l[6],x=l[10];if(Math.abs(u-d)<.01&&Math.abs(f-v)<.01&&Math.abs(g-y)<.01){if(Math.abs(u+d)<.1&&Math.abs(f+v)<.1&&Math.abs(g+y)<.1&&Math.abs(c+m+x-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const w=(c+1)/2,A=(m+1)/2,C=(x+1)/2,E=(u+d)/4,P=(f+v)/4,b=(g+y)/4;return w>A&&w>C?w<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(w),i=E/r,s=P/r):A>C?A<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(A),r=E/i,s=b/i):C<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(C),r=P/s,i=b/s),this.set(r,i,s,t),this}let _=Math.sqrt((y-g)*(y-g)+(f-v)*(f-v)+(d-u)*(d-u));return Math.abs(_)<.001&&(_=1),this.x=(y-g)/_,this.y=(f-v)/_,this.z=(d-u)/_,this.w=Math.acos((c+m+x-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Ks extends Qa{constructor(e=1,t=1,r={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new Ct(0,0,e,t),this.scissorTest=!1,this.viewport=new Ct(0,0,e,t);const i={width:e,height:t,depth:1};this.texture=new mn(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.internalFormat=r.internalFormat!==void 0?r.internalFormat:null,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:fn,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!1,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null,this.samples=r.samples!==void 0?r.samples:0}setSize(e,t,r=1){(this.width!==e||this.height!==t||this.depth!==r)&&(this.width=e,this.height=t,this.depth=r,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new mu(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Eg extends mn{constructor(e=null,t=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=Yn,this.minFilter=Yn,this.wrapR=cr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class fW extends Ks{constructor(e=1,t=1,r=1){super(e,t),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new Eg(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class P_ extends mn{constructor(e=null,t=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=Yn,this.minFilter=Yn,this.wrapR=cr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class dW extends Ks{constructor(e=1,t=1,r=1){super(e,t),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new P_(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class hW extends Ks{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<r;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let i=0,s=this.texture.length;i<s;i++)this.texture[i].image.width=e,this.texture[i].image.height=t,this.texture[i].image.depth=r;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,r=e.texture.length;t<r;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class pn{constructor(e=0,t=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=i}static slerpFlat(e,t,r,i,s,o,a){let l=r[i+0],c=r[i+1],u=r[i+2],f=r[i+3];const d=s[o+0],m=s[o+1],g=s[o+2],v=s[o+3];if(a===0){e[t+0]=l,e[t+1]=c,e[t+2]=u,e[t+3]=f;return}if(a===1){e[t+0]=d,e[t+1]=m,e[t+2]=g,e[t+3]=v;return}if(f!==v||l!==d||c!==m||u!==g){let y=1-a;const x=l*d+c*m+u*g+f*v,_=x>=0?1:-1,w=1-x*x;if(w>Number.EPSILON){const C=Math.sqrt(w),E=Math.atan2(C,x*_);y=Math.sin(y*E)/C,a=Math.sin(a*E)/C}const A=a*_;if(l=l*y+d*A,c=c*y+m*A,u=u*y+g*A,f=f*y+v*A,y===1-a){const C=1/Math.sqrt(l*l+c*c+u*u+f*f);l*=C,c*=C,u*=C,f*=C}}e[t]=l,e[t+1]=c,e[t+2]=u,e[t+3]=f}static multiplyQuaternionsFlat(e,t,r,i,s,o){const a=r[i],l=r[i+1],c=r[i+2],u=r[i+3],f=s[o],d=s[o+1],m=s[o+2],g=s[o+3];return e[t]=a*g+u*f+l*m-c*d,e[t+1]=l*g+u*d+c*f-a*m,e[t+2]=c*g+u*m+a*d-l*f,e[t+3]=u*g-a*f-l*d-c*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(r/2),u=a(i/2),f=a(s/2),d=l(r/2),m=l(i/2),g=l(s/2);switch(o){case"XYZ":this._x=d*u*f+c*m*g,this._y=c*m*f-d*u*g,this._z=c*u*g+d*m*f,this._w=c*u*f-d*m*g;break;case"YXZ":this._x=d*u*f+c*m*g,this._y=c*m*f-d*u*g,this._z=c*u*g-d*m*f,this._w=c*u*f+d*m*g;break;case"ZXY":this._x=d*u*f-c*m*g,this._y=c*m*f+d*u*g,this._z=c*u*g+d*m*f,this._w=c*u*f-d*m*g;break;case"ZYX":this._x=d*u*f-c*m*g,this._y=c*m*f+d*u*g,this._z=c*u*g-d*m*f,this._w=c*u*f+d*m*g;break;case"YZX":this._x=d*u*f+c*m*g,this._y=c*m*f+d*u*g,this._z=c*u*g-d*m*f,this._w=c*u*f-d*m*g;break;case"XZY":this._x=d*u*f-c*m*g,this._y=c*m*f-d*u*g,this._z=c*u*g+d*m*f,this._w=c*u*f+d*m*g;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],i=t[4],s=t[8],o=t[1],a=t[5],l=t[9],c=t[2],u=t[6],f=t[10],d=r+a+f;if(d>0){const m=.5/Math.sqrt(d+1);this._w=.25/m,this._x=(u-l)*m,this._y=(s-c)*m,this._z=(o-i)*m}else if(r>a&&r>f){const m=2*Math.sqrt(1+r-a-f);this._w=(u-l)/m,this._x=.25*m,this._y=(i+o)/m,this._z=(s+c)/m}else if(a>f){const m=2*Math.sqrt(1+a-r-f);this._w=(s-c)/m,this._x=(i+o)/m,this._y=.25*m,this._z=(l+u)/m}else{const m=2*Math.sqrt(1+f-r-a);this._w=(o-i)/m,this._x=(s+c)/m,this._y=(l+u)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Qn(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,i=e._y,s=e._z,o=e._w,a=t._x,l=t._y,c=t._z,u=t._w;return this._x=r*u+o*a+i*c-s*l,this._y=i*u+o*l+s*a-r*c,this._z=s*u+o*c+r*l-i*a,this._w=o*u-r*a-i*l-s*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const m=1-t;return this._w=m*o+t*this._w,this._x=m*r+t*this._x,this._y=m*i+t*this._y,this._z=m*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),u=Math.atan2(c,a),f=Math.sin((1-t)*u)/c,d=Math.sin(t*u)/c;return this._w=o*f+this._w*d,this._x=r*f+this._x*d,this._y=i*f+this._y*d,this._z=s*f+this._z*d,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=Math.random(),t=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(i),r*Math.sin(s),r*Math.cos(s),t*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class ${constructor(e=0,t=0,r=0){$.prototype.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion($P.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion($P.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[3]*r+s[6]*i,this.y=s[1]*t+s[4]*r+s[7]*i,this.z=s[2]*t+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*t+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*t+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*t+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*t+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const t=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=l*t+o*i-a*r,u=l*r+a*t-s*i,f=l*i+s*r-o*t,d=-s*t-o*r-a*i;return this.x=c*l+d*-s+u*-a-f*-o,this.y=u*l+d*-o+f*-s-c*-a,this.z=f*l+d*-a+c*-o-u*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[4]*r+s[8]*i,this.y=s[1]*t+s[5]*r+s[9]*i,this.z=s[2]*t+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,i=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return Fw.copy(this).projectOnVector(e),this.sub(Fw)}reflect(e){return this.sub(Fw.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(Qn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(t),this.y=r*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Fw=new $,$P=new pn;class qa{constructor(e=new $(1/0,1/0,1/0),t=new $(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,r=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,c=e.length;l<c;l+=3){const u=e[l],f=e[l+1],d=e[l+2];u<t&&(t=u),f<r&&(r=f),d<i&&(i=d),u>s&&(s=u),f>o&&(o=f),d>a&&(a=d)}return this.min.set(t,r,i),this.max.set(s,o,a),this}setFromBufferAttribute(e){let t=1/0,r=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,c=e.count;l<c;l++){const u=e.getX(l),f=e.getY(l),d=e.getZ(l);u<t&&(t=u),f<r&&(r=f),d<i&&(i=d),u>s&&(s=u),f>o&&(o=f),d>a&&(a=d)}return this.min.set(t,r,i),this.max.set(s,o,a),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=Gc.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0)if(t&&r.attributes!=null&&r.attributes.position!==void 0){const s=r.attributes.position;for(let o=0,a=s.count;o<a;o++)Gc.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(Gc)}else r.boundingBox===null&&r.computeBoundingBox(),Nw.copy(r.boundingBox),Nw.applyMatrix4(e.matrixWorld),this.union(Nw);const i=e.children;for(let s=0,o=i.length;s<o;s++)this.expandByObject(i[s],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Gc),Gc.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(pp),gv.subVectors(this.max,pp),Df.subVectors(e.a,pp),Bf.subVectors(e.b,pp),If.subVectors(e.c,pp),gl.subVectors(Bf,Df),vl.subVectors(If,Bf),Hc.subVectors(Df,If);let t=[0,-gl.z,gl.y,0,-vl.z,vl.y,0,-Hc.z,Hc.y,gl.z,0,-gl.x,vl.z,0,-vl.x,Hc.z,0,-Hc.x,-gl.y,gl.x,0,-vl.y,vl.x,0,-Hc.y,Hc.x,0];return!Uw(t,Df,Bf,If,gv)||(t=[1,0,0,0,1,0,0,0,1],!Uw(t,Df,Bf,If,gv))?!1:(vv.crossVectors(gl,vl),t=[vv.x,vv.y,vv.z],Uw(t,Df,Bf,If,gv))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return Gc.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(Gc).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(fa[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),fa[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),fa[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),fa[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),fa[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),fa[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),fa[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),fa[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(fa),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const fa=[new $,new $,new $,new $,new $,new $,new $,new $],Gc=new $,Nw=new qa,Df=new $,Bf=new $,If=new $,gl=new $,vl=new $,Hc=new $,pp=new $,gv=new $,vv=new $,Vc=new $;function Uw(n,e,t,r,i){for(let s=0,o=n.length-3;s<=o;s+=3){Vc.fromArray(n,s);const a=i.x*Math.abs(Vc.x)+i.y*Math.abs(Vc.y)+i.z*Math.abs(Vc.z),l=e.dot(Vc),c=t.dot(Vc),u=r.dot(Vc);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const pW=new qa,mp=new $,zw=new $;let Za=class{constructor(e=new $,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;t!==void 0?r.copy(t):pW.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;mp.subVectors(e,this.center);const t=mp.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),i=(r-this.radius)*.5;this.center.addScaledVector(mp,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(zw.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(mp.copy(e.center).add(zw)),this.expandByPoint(mp.copy(e.center).sub(zw))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}};const da=new $,Gw=new $,yv=new $,yl=new $,Hw=new $,_v=new $,Vw=new $;class Tg{constructor(e=new $,t=new $(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,da)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(r).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=da.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(da.copy(this.direction).multiplyScalar(t).add(this.origin),da.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){Gw.copy(e).add(t).multiplyScalar(.5),yv.copy(t).sub(e).normalize(),yl.copy(this.origin).sub(Gw);const s=e.distanceTo(t)*.5,o=-this.direction.dot(yv),a=yl.dot(this.direction),l=-yl.dot(yv),c=yl.lengthSq(),u=Math.abs(1-o*o);let f,d,m,g;if(u>0)if(f=o*l-a,d=o*a-l,g=s*u,f>=0)if(d>=-g)if(d<=g){const v=1/u;f*=v,d*=v,m=f*(f+o*d+2*a)+d*(o*f+d+2*l)+c}else d=s,f=Math.max(0,-(o*d+a)),m=-f*f+d*(d+2*l)+c;else d=-s,f=Math.max(0,-(o*d+a)),m=-f*f+d*(d+2*l)+c;else d<=-g?(f=Math.max(0,-(-o*s+a)),d=f>0?-s:Math.min(Math.max(-s,-l),s),m=-f*f+d*(d+2*l)+c):d<=g?(f=0,d=Math.min(Math.max(-s,-l),s),m=d*(d+2*l)+c):(f=Math.max(0,-(o*s+a)),d=f>0?s:Math.min(Math.max(-s,-l),s),m=-f*f+d*(d+2*l)+c);else d=o>0?-s:s,f=Math.max(0,-(o*d+a)),m=-f*f+d*(d+2*l)+c;return r&&r.copy(this.direction).multiplyScalar(f).add(this.origin),i&&i.copy(yv).multiplyScalar(d).add(Gw),m}intersectSphere(e,t){da.subVectors(e.center,this.origin);const r=da.dot(this.direction),i=da.dot(da)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return a<0&&l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,s,o,a,l;const c=1/this.direction.x,u=1/this.direction.y,f=1/this.direction.z,d=this.origin;return c>=0?(r=(e.min.x-d.x)*c,i=(e.max.x-d.x)*c):(r=(e.max.x-d.x)*c,i=(e.min.x-d.x)*c),u>=0?(s=(e.min.y-d.y)*u,o=(e.max.y-d.y)*u):(s=(e.max.y-d.y)*u,o=(e.min.y-d.y)*u),r>o||s>i||((s>r||isNaN(r))&&(r=s),(o<i||isNaN(i))&&(i=o),f>=0?(a=(e.min.z-d.z)*f,l=(e.max.z-d.z)*f):(a=(e.max.z-d.z)*f,l=(e.min.z-d.z)*f),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return this.intersectBox(e,da)!==null}intersectTriangle(e,t,r,i,s){Hw.subVectors(t,e),_v.subVectors(r,e),Vw.crossVectors(Hw,_v);let o=this.direction.dot(Vw),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;yl.subVectors(this.origin,e);const l=a*this.direction.dot(_v.crossVectors(yl,_v));if(l<0)return null;const c=a*this.direction.dot(Hw.cross(yl));if(c<0||l+c>o)return null;const u=-a*yl.dot(Vw);return u<0?null:this.at(u/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class qe{constructor(){qe.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,t,r,i,s,o,a,l,c,u,f,d,m,g,v,y){const x=this.elements;return x[0]=e,x[4]=t,x[8]=r,x[12]=i,x[1]=s,x[5]=o,x[9]=a,x[13]=l,x[2]=c,x[6]=u,x[10]=f,x[14]=d,x[3]=m,x[7]=g,x[11]=v,x[15]=y,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new qe().fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,i=1/Lf.setFromMatrixColumn(e,0).length(),s=1/Lf.setFromMatrixColumn(e,1).length(),o=1/Lf.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*s,t[5]=r[5]*s,t[6]=r[6]*s,t[7]=0,t[8]=r[8]*o,t[9]=r[9]*o,t[10]=r[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),c=Math.sin(i),u=Math.cos(s),f=Math.sin(s);if(e.order==="XYZ"){const d=o*u,m=o*f,g=a*u,v=a*f;t[0]=l*u,t[4]=-l*f,t[8]=c,t[1]=m+g*c,t[5]=d-v*c,t[9]=-a*l,t[2]=v-d*c,t[6]=g+m*c,t[10]=o*l}else if(e.order==="YXZ"){const d=l*u,m=l*f,g=c*u,v=c*f;t[0]=d+v*a,t[4]=g*a-m,t[8]=o*c,t[1]=o*f,t[5]=o*u,t[9]=-a,t[2]=m*a-g,t[6]=v+d*a,t[10]=o*l}else if(e.order==="ZXY"){const d=l*u,m=l*f,g=c*u,v=c*f;t[0]=d-v*a,t[4]=-o*f,t[8]=g+m*a,t[1]=m+g*a,t[5]=o*u,t[9]=v-d*a,t[2]=-o*c,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){const d=o*u,m=o*f,g=a*u,v=a*f;t[0]=l*u,t[4]=g*c-m,t[8]=d*c+v,t[1]=l*f,t[5]=v*c+d,t[9]=m*c-g,t[2]=-c,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){const d=o*l,m=o*c,g=a*l,v=a*c;t[0]=l*u,t[4]=v-d*f,t[8]=g*f+m,t[1]=f,t[5]=o*u,t[9]=-a*u,t[2]=-c*u,t[6]=m*f+g,t[10]=d-v*f}else if(e.order==="XZY"){const d=o*l,m=o*c,g=a*l,v=a*c;t[0]=l*u,t[4]=-f,t[8]=c*u,t[1]=d*f+v,t[5]=o*u,t[9]=m*f-g,t[2]=g*f-m,t[6]=a*u,t[10]=v*f+d}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(mW,e,gW)}lookAt(e,t,r){const i=this.elements;return Ki.subVectors(e,t),Ki.lengthSq()===0&&(Ki.z=1),Ki.normalize(),_l.crossVectors(r,Ki),_l.lengthSq()===0&&(Math.abs(r.z)===1?Ki.x+=1e-4:Ki.z+=1e-4,Ki.normalize(),_l.crossVectors(r,Ki)),_l.normalize(),xv.crossVectors(Ki,_l),i[0]=_l.x,i[4]=xv.x,i[8]=Ki.x,i[1]=_l.y,i[5]=xv.y,i[9]=Ki.y,i[2]=_l.z,i[6]=xv.z,i[10]=Ki.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[4],l=r[8],c=r[12],u=r[1],f=r[5],d=r[9],m=r[13],g=r[2],v=r[6],y=r[10],x=r[14],_=r[3],w=r[7],A=r[11],C=r[15],E=i[0],P=i[4],b=i[8],R=i[12],D=i[1],L=i[5],N=i[9],z=i[13],k=i[2],V=i[6],W=i[10],Y=i[14],O=i[3],U=i[7],H=i[11],G=i[15];return s[0]=o*E+a*D+l*k+c*O,s[4]=o*P+a*L+l*V+c*U,s[8]=o*b+a*N+l*W+c*H,s[12]=o*R+a*z+l*Y+c*G,s[1]=u*E+f*D+d*k+m*O,s[5]=u*P+f*L+d*V+m*U,s[9]=u*b+f*N+d*W+m*H,s[13]=u*R+f*z+d*Y+m*G,s[2]=g*E+v*D+y*k+x*O,s[6]=g*P+v*L+y*V+x*U,s[10]=g*b+v*N+y*W+x*H,s[14]=g*R+v*z+y*Y+x*G,s[3]=_*E+w*D+A*k+C*O,s[7]=_*P+w*L+A*V+C*U,s[11]=_*b+w*N+A*W+C*H,s[15]=_*R+w*z+A*Y+C*G,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],u=e[2],f=e[6],d=e[10],m=e[14],g=e[3],v=e[7],y=e[11],x=e[15];return g*(+s*l*f-i*c*f-s*a*d+r*c*d+i*a*m-r*l*m)+v*(+t*l*m-t*c*d+s*o*d-i*o*m+i*c*u-s*l*u)+y*(+t*c*f-t*a*m-s*o*f+r*o*m+s*a*u-r*c*u)+x*(-i*a*u-t*l*f+t*a*d+i*o*f-r*o*d+r*l*u)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],f=e[9],d=e[10],m=e[11],g=e[12],v=e[13],y=e[14],x=e[15],_=f*y*c-v*d*c+v*l*m-a*y*m-f*l*x+a*d*x,w=g*d*c-u*y*c-g*l*m+o*y*m+u*l*x-o*d*x,A=u*v*c-g*f*c+g*a*m-o*v*m-u*a*x+o*f*x,C=g*f*l-u*v*l-g*a*d+o*v*d+u*a*y-o*f*y,E=t*_+r*w+i*A+s*C;if(E===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const P=1/E;return e[0]=_*P,e[1]=(v*d*s-f*y*s-v*i*m+r*y*m+f*i*x-r*d*x)*P,e[2]=(a*y*s-v*l*s+v*i*c-r*y*c-a*i*x+r*l*x)*P,e[3]=(f*l*s-a*d*s-f*i*c+r*d*c+a*i*m-r*l*m)*P,e[4]=w*P,e[5]=(u*y*s-g*d*s+g*i*m-t*y*m-u*i*x+t*d*x)*P,e[6]=(g*l*s-o*y*s-g*i*c+t*y*c+o*i*x-t*l*x)*P,e[7]=(o*d*s-u*l*s+u*i*c-t*d*c-o*i*m+t*l*m)*P,e[8]=A*P,e[9]=(g*f*s-u*v*s-g*r*m+t*v*m+u*r*x-t*f*x)*P,e[10]=(o*v*s-g*a*s+g*r*c-t*v*c-o*r*x+t*a*x)*P,e[11]=(u*a*s-o*f*s-u*r*c+t*f*c+o*r*m-t*a*m)*P,e[12]=C*P,e[13]=(u*v*i-g*f*i+g*r*d-t*v*d-u*r*y+t*f*y)*P,e[14]=(g*a*i-o*v*i-g*r*l+t*v*l+o*r*y-t*a*y)*P,e[15]=(o*f*i-u*a*i+u*r*l-t*f*l-o*r*d+t*a*d)*P,this}scale(e){const t=this.elements,r=e.x,i=e.y,s=e.z;return t[0]*=r,t[4]*=i,t[8]*=s,t[1]*=r,t[5]*=i,t[9]*=s,t[2]*=r,t[6]*=i,t[10]*=s,t[3]*=r,t[7]*=i,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,i))}makeTranslation(e,t,r){return this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),i=Math.sin(t),s=1-r,o=e.x,a=e.y,l=e.z,c=s*o,u=s*a;return this.set(c*o+r,c*a-i*l,c*l+i*a,0,c*a+i*l,u*a+r,u*l-i*o,0,c*l-i*a,u*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){const i=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,c=s+s,u=o+o,f=a+a,d=s*c,m=s*u,g=s*f,v=o*u,y=o*f,x=a*f,_=l*c,w=l*u,A=l*f,C=r.x,E=r.y,P=r.z;return i[0]=(1-(v+x))*C,i[1]=(m+A)*C,i[2]=(g-w)*C,i[3]=0,i[4]=(m-A)*E,i[5]=(1-(d+x))*E,i[6]=(y+_)*E,i[7]=0,i[8]=(g+w)*P,i[9]=(y-_)*P,i[10]=(1-(d+v))*P,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){const i=this.elements;let s=Lf.set(i[0],i[1],i[2]).length();const o=Lf.set(i[4],i[5],i[6]).length(),a=Lf.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],so.copy(this);const c=1/s,u=1/o,f=1/a;return so.elements[0]*=c,so.elements[1]*=c,so.elements[2]*=c,so.elements[4]*=u,so.elements[5]*=u,so.elements[6]*=u,so.elements[8]*=f,so.elements[9]*=f,so.elements[10]*=f,t.setFromRotationMatrix(so),r.x=s,r.y=o,r.z=a,this}makePerspective(e,t,r,i,s,o){const a=this.elements,l=2*s/(t-e),c=2*s/(r-i),u=(t+e)/(t-e),f=(r+i)/(r-i),d=-(o+s)/(o-s),m=-2*o*s/(o-s);return a[0]=l,a[4]=0,a[8]=u,a[12]=0,a[1]=0,a[5]=c,a[9]=f,a[13]=0,a[2]=0,a[6]=0,a[10]=d,a[14]=m,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,t,r,i,s,o){const a=this.elements,l=1/(t-e),c=1/(r-i),u=1/(o-s),f=(t+e)*l,d=(r+i)*c,m=(o+s)*u;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-f,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-d,a[2]=0,a[6]=0,a[10]=-2*u,a[14]=-m,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}const Lf=new $,so=new qe,mW=new $(0,0,0),gW=new $(1,1,1),_l=new $,xv=new $,Ki=new $,XP=new qe,JP=new pn;class ns{constructor(e=0,t=0,r=0,i=ns.DefaultOrder){this.isEuler=!0,this._x=e,this._y=t,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,i=this._order){return this._x=e,this._y=t,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],l=i[1],c=i[5],u=i[9],f=i[2],d=i[6],m=i[10];switch(t){case"XYZ":this._y=Math.asin(Qn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,m),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(d,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Qn(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-f,s),this._z=0);break;case"ZXY":this._x=Math.asin(Qn(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-f,m),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Qn(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(d,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(Qn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-f,s)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-Qn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(d,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-u,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return XP.makeRotationFromQuaternion(e),this.setFromRotationMatrix(XP,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return JP.setFromEuler(this),this.setFromQuaternion(JP,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}toVector3(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")}}ns.DefaultOrder="XYZ";ns.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class Eu{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let vW=0;const KP=new $,kf=new pn,ha=new qe,wv=new $,gp=new $,yW=new $,_W=new pn,YP=new $(1,0,0),QP=new $(0,1,0),qP=new $(0,0,1),xW={type:"added"},ZP={type:"removed"};class Et extends Qa{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:vW++}),this.uuid=is(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Et.DefaultUp.clone();const e=new $,t=new ns,r=new pn,i=new $(1,1,1);function s(){r.setFromEuler(t,!1)}function o(){t.setFromQuaternion(r,void 0,!1)}t._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new qe},normalMatrix:{value:new $r}}),this.matrix=new qe,this.matrixWorld=new qe,this.matrixAutoUpdate=Et.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=Et.DefaultMatrixWorldAutoUpdate,this.layers=new Eu,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return kf.setFromAxisAngle(e,t),this.quaternion.multiply(kf),this}rotateOnWorldAxis(e,t){return kf.setFromAxisAngle(e,t),this.quaternion.premultiply(kf),this}rotateX(e){return this.rotateOnAxis(YP,e)}rotateY(e){return this.rotateOnAxis(QP,e)}rotateZ(e){return this.rotateOnAxis(qP,e)}translateOnAxis(e,t){return KP.copy(e).applyQuaternion(this.quaternion),this.position.add(KP.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(YP,e)}translateY(e){return this.translateOnAxis(QP,e)}translateZ(e){return this.translateOnAxis(qP,e)}localToWorld(e){return e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return e.applyMatrix4(ha.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?wv.copy(e):wv.set(e,t,r);const i=this.parent;this.updateWorldMatrix(!0,!1),gp.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?ha.lookAt(gp,wv,this.up):ha.lookAt(wv,gp,this.up),this.quaternion.setFromRotationMatrix(ha),i&&(ha.extractRotation(i.matrixWorld),kf.setFromRotationMatrix(ha),this.quaternion.premultiply(kf.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(xW)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(ZP)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(ZP)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),ha.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),ha.multiply(e.parent.matrixWorld)),e.applyMatrix4(ha),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,t);if(o!==void 0)return o}}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(gp,e,yW),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(gp,_W,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let r=0,i=t.length;r<i;r++){const s=t[r];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++){const a=i[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const f=l[c];s(e.shapes,f)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(s(e.animations,l))}}if(t){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),u=o(e.images),f=o(e.shapes),d=o(e.skeletons),m=o(e.animations),g=o(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),u.length>0&&(r.images=u),f.length>0&&(r.shapes=f),d.length>0&&(r.skeletons=d),m.length>0&&(r.animations=m),g.length>0&&(r.nodes=g)}return r.object=i,r;function o(a){const l=[];for(const c in a){const u=a[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}Et.DefaultUp=new $(0,1,0);Et.DefaultMatrixAutoUpdate=!0;Et.DefaultMatrixWorldAutoUpdate=!0;const oo=new $,pa=new $,Ww=new $,ma=new $,Of=new $,Ff=new $,eR=new $,jw=new $,$w=new $,Xw=new $;class Ns{constructor(e=new $,t=new $,r=new $){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),oo.subVectors(e,t),i.cross(oo);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,t,r,i,s){oo.subVectors(i,t),pa.subVectors(r,t),Ww.subVectors(e,t);const o=oo.dot(oo),a=oo.dot(pa),l=oo.dot(Ww),c=pa.dot(pa),u=pa.dot(Ww),f=o*c-a*a;if(f===0)return s.set(-2,-1,-1);const d=1/f,m=(c*l-a*u)*d,g=(o*u-a*l)*d;return s.set(1-m-g,g,m)}static containsPoint(e,t,r,i){return this.getBarycoord(e,t,r,i,ma),ma.x>=0&&ma.y>=0&&ma.x+ma.y<=1}static getUV(e,t,r,i,s,o,a,l){return this.getBarycoord(e,t,r,i,ma),l.set(0,0),l.addScaledVector(s,ma.x),l.addScaledVector(o,ma.y),l.addScaledVector(a,ma.z),l}static isFrontFacing(e,t,r,i){return oo.subVectors(r,t),pa.subVectors(e,t),oo.cross(pa).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return oo.subVectors(this.c,this.b),pa.subVectors(this.a,this.b),oo.cross(pa).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Ns.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Ns.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,r,i,s){return Ns.getUV(e,this.a,this.b,this.c,t,r,i,s)}containsPoint(e){return Ns.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Ns.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,i=this.b,s=this.c;let o,a;Of.subVectors(i,r),Ff.subVectors(s,r),jw.subVectors(e,r);const l=Of.dot(jw),c=Ff.dot(jw);if(l<=0&&c<=0)return t.copy(r);$w.subVectors(e,i);const u=Of.dot($w),f=Ff.dot($w);if(u>=0&&f<=u)return t.copy(i);const d=l*f-u*c;if(d<=0&&l>=0&&u<=0)return o=l/(l-u),t.copy(r).addScaledVector(Of,o);Xw.subVectors(e,s);const m=Of.dot(Xw),g=Ff.dot(Xw);if(g>=0&&m<=g)return t.copy(s);const v=m*c-l*g;if(v<=0&&c>=0&&g<=0)return a=c/(c-g),t.copy(r).addScaledVector(Ff,a);const y=u*g-m*f;if(y<=0&&f-u>=0&&m-g>=0)return eR.subVectors(s,i),a=(f-u)/(f-u+(m-g)),t.copy(i).addScaledVector(eR,a);const x=1/(y+v+d);return o=v*x,a=d*x,t.copy(r).addScaledVector(Of,o).addScaledVector(Ff,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let wW=0;class ir extends Qa{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:wW++}),this.uuid=is(),this.name="",this.type="Material",this.blending=Au,this.side=za,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=aC,this.blendDst=lC,this.blendEquation=au,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=A1,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=K4,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Hy,this.stencilZFail=Hy,this.stencilZPass=Hy,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const r=e[t];if(r===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}const i=this[t];if(i===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Au&&(r.blending=this.blending),this.side!==za&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(r.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=this.flatShading),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData);function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(t){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(t!==null){const i=t.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=t[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Ri extends ir{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new He(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Cg,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const er=new $,Sv=new De;class Jt{constructor(e,t,r){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r===!0,this.usage=Xm,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)Sv.fromBufferAttribute(this,t),Sv.applyMatrix3(e),this.setXY(t,Sv.x,Sv.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)er.fromBufferAttribute(this,t),er.applyMatrix3(e),this.setXYZ(t,er.x,er.y,er.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)er.fromBufferAttribute(this,t),er.applyMatrix4(e),this.setXYZ(t,er.x,er.y,er.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)er.fromBufferAttribute(this,t),er.applyNormalMatrix(e),this.setXYZ(t,er.x,er.y,er.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)er.fromBufferAttribute(this,t),er.transformDirection(e),this.setXYZ(t,er.x,er.y,er.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Pa(t,this.array)),t}setX(e,t){return this.normalized&&(t=rn(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Pa(t,this.array)),t}setY(e,t){return this.normalized&&(t=rn(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Pa(t,this.array)),t}setZ(e,t){return this.normalized&&(t=rn(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Pa(t,this.array)),t}setW(e,t){return this.normalized&&(t=rn(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=rn(t,this.array),r=rn(r,this.array)),this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=rn(t,this.array),r=rn(r,this.array),i=rn(i,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e*=this.itemSize,this.normalized&&(t=rn(t,this.array),r=rn(r,this.array),i=rn(i,this.array),s=rn(s,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Xm&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class SW extends Jt{constructor(e,t,r){super(new Int8Array(e),t,r)}}class AW extends Jt{constructor(e,t,r){super(new Uint8Array(e),t,r)}}class bW extends Jt{constructor(e,t,r){super(new Uint8ClampedArray(e),t,r)}}class MW extends Jt{constructor(e,t,r){super(new Int16Array(e),t,r)}}class R_ extends Jt{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class CW extends Jt{constructor(e,t,r){super(new Int32Array(e),t,r)}}class gC extends Jt{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class EW extends Jt{constructor(e,t,r){super(new Uint16Array(e),t,r),this.isFloat16BufferAttribute=!0}}class Ze extends Jt{constructor(e,t,r){super(new Float32Array(e),t,r)}}class TW extends Jt{constructor(e,t,r){super(new Float64Array(e),t,r)}}let PW=0;const Cs=new qe,Jw=new Et,Nf=new $,Yi=new qa,vp=new qa,_r=new $;class ht extends Qa{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:PW++}),this.uuid=is(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(Q4(e)?gC:R_)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new $r().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Cs.makeRotationFromQuaternion(e),this.applyMatrix4(Cs),this}rotateX(e){return Cs.makeRotationX(e),this.applyMatrix4(Cs),this}rotateY(e){return Cs.makeRotationY(e),this.applyMatrix4(Cs),this}rotateZ(e){return Cs.makeRotationZ(e),this.applyMatrix4(Cs),this}translate(e,t,r){return Cs.makeTranslation(e,t,r),this.applyMatrix4(Cs),this}scale(e,t,r){return Cs.makeScale(e,t,r),this.applyMatrix4(Cs),this}lookAt(e){return Jw.lookAt(e),Jw.updateMatrix(),this.applyMatrix4(Jw.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Nf).negate(),this.translate(Nf.x,Nf.y,Nf.z),this}setFromPoints(e){const t=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new Ze(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new qa);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new $(-1/0,-1/0,-1/0),new $(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++){const s=t[r];Yi.setFromBufferAttribute(s),this.morphTargetsRelative?(_r.addVectors(this.boundingBox.min,Yi.min),this.boundingBox.expandByPoint(_r),_r.addVectors(this.boundingBox.max,Yi.max),this.boundingBox.expandByPoint(_r)):(this.boundingBox.expandByPoint(Yi.min),this.boundingBox.expandByPoint(Yi.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Za);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new $,1/0);return}if(e){const r=this.boundingSphere.center;if(Yi.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];vp.setFromBufferAttribute(a),this.morphTargetsRelative?(_r.addVectors(Yi.min,vp.min),Yi.expandByPoint(_r),_r.addVectors(Yi.max,vp.max),Yi.expandByPoint(_r)):(Yi.expandByPoint(vp.min),Yi.expandByPoint(vp.max))}Yi.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)_r.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(_r));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)_r.fromBufferAttribute(a,c),l&&(Nf.fromBufferAttribute(e,c),_r.add(Nf)),i=Math.max(i,r.distanceToSquared(_r))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=t.position.array,s=t.normal.array,o=t.uv.array,a=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Jt(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,c=[],u=[];for(let D=0;D<a;D++)c[D]=new $,u[D]=new $;const f=new $,d=new $,m=new $,g=new De,v=new De,y=new De,x=new $,_=new $;function w(D,L,N){f.fromArray(i,D*3),d.fromArray(i,L*3),m.fromArray(i,N*3),g.fromArray(o,D*2),v.fromArray(o,L*2),y.fromArray(o,N*2),d.sub(f),m.sub(f),v.sub(g),y.sub(g);const z=1/(v.x*y.y-y.x*v.y);isFinite(z)&&(x.copy(d).multiplyScalar(y.y).addScaledVector(m,-v.y).multiplyScalar(z),_.copy(m).multiplyScalar(v.x).addScaledVector(d,-y.x).multiplyScalar(z),c[D].add(x),c[L].add(x),c[N].add(x),u[D].add(_),u[L].add(_),u[N].add(_))}let A=this.groups;A.length===0&&(A=[{start:0,count:r.length}]);for(let D=0,L=A.length;D<L;++D){const N=A[D],z=N.start,k=N.count;for(let V=z,W=z+k;V<W;V+=3)w(r[V+0],r[V+1],r[V+2])}const C=new $,E=new $,P=new $,b=new $;function R(D){P.fromArray(s,D*3),b.copy(P);const L=c[D];C.copy(L),C.sub(P.multiplyScalar(P.dot(L))).normalize(),E.crossVectors(b,L);const z=E.dot(u[D])<0?-1:1;l[D*4]=C.x,l[D*4+1]=C.y,l[D*4+2]=C.z,l[D*4+3]=z}for(let D=0,L=A.length;D<L;++D){const N=A[D],z=N.start,k=N.count;for(let V=z,W=z+k;V<W;V+=3)R(r[V+0]),R(r[V+1]),R(r[V+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Jt(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let d=0,m=r.count;d<m;d++)r.setXYZ(d,0,0,0);const i=new $,s=new $,o=new $,a=new $,l=new $,c=new $,u=new $,f=new $;if(e)for(let d=0,m=e.count;d<m;d+=3){const g=e.getX(d+0),v=e.getX(d+1),y=e.getX(d+2);i.fromBufferAttribute(t,g),s.fromBufferAttribute(t,v),o.fromBufferAttribute(t,y),u.subVectors(o,s),f.subVectors(i,s),u.cross(f),a.fromBufferAttribute(r,g),l.fromBufferAttribute(r,v),c.fromBufferAttribute(r,y),a.add(u),l.add(u),c.add(u),r.setXYZ(g,a.x,a.y,a.z),r.setXYZ(v,l.x,l.y,l.z),r.setXYZ(y,c.x,c.y,c.z)}else for(let d=0,m=t.count;d<m;d+=3)i.fromBufferAttribute(t,d+0),s.fromBufferAttribute(t,d+1),o.fromBufferAttribute(t,d+2),u.subVectors(o,s),f.subVectors(i,s),u.cross(f),r.setXYZ(d+0,u.x,u.y,u.z),r.setXYZ(d+1,u.x,u.y,u.z),r.setXYZ(d+2,u.x,u.y,u.z);this.normalizeNormals(),r.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)_r.fromBufferAttribute(e,t),_r.normalize(),e.setXYZ(t,_r.x,_r.y,_r.z)}toNonIndexed(){function e(a,l){const c=a.array,u=a.itemSize,f=a.normalized,d=new c.constructor(l.length*u);let m=0,g=0;for(let v=0,y=l.length;v<y;v++){a.isInterleavedBufferAttribute?m=l[v]*a.data.stride+a.offset:m=l[v]*u;for(let x=0;x<u;x++)d[g++]=c[m++]}return new Jt(d,u,f)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new ht,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],c=e(l,r);t.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let u=0,f=c.length;u<f;u++){const d=c[u],m=e(d,r);l.push(m)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let f=0,d=c.length;f<d;f++){const m=c[f];u.push(m.toJSON(e.data))}u.length>0&&(i[l]=u,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(t));const i=e.attributes;for(const c in i){const u=i[c];this.setAttribute(c,u.clone(t))}const s=e.morphAttributes;for(const c in s){const u=[],f=s[c];for(let d=0,m=f.length;d<m;d++)u.push(f[d].clone(t));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,u=o.length;c<u;c++){const f=o[c];this.addGroup(f.start,f.count,f.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const tR=new qe,Uf=new Tg,Kw=new Za,xl=new $,wl=new $,Sl=new $,Yw=new $,Qw=new $,qw=new $,Av=new $,bv=new $,Mv=new $,Cv=new De,Ev=new De,Tv=new De,Zw=new $,Pv=new $;class Nn extends Et{constructor(e=new ht,t=new Ri){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}raycast(e,t){const r=this.geometry,i=this.material,s=this.matrixWorld;if(i===void 0||(r.boundingSphere===null&&r.computeBoundingSphere(),Kw.copy(r.boundingSphere),Kw.applyMatrix4(s),e.ray.intersectsSphere(Kw)===!1)||(tR.copy(s).invert(),Uf.copy(e.ray).applyMatrix4(tR),r.boundingBox!==null&&Uf.intersectsBox(r.boundingBox)===!1))return;let o;const a=r.index,l=r.attributes.position,c=r.morphAttributes.position,u=r.morphTargetsRelative,f=r.attributes.uv,d=r.attributes.uv2,m=r.groups,g=r.drawRange;if(a!==null)if(Array.isArray(i))for(let v=0,y=m.length;v<y;v++){const x=m[v],_=i[x.materialIndex],w=Math.max(x.start,g.start),A=Math.min(a.count,Math.min(x.start+x.count,g.start+g.count));for(let C=w,E=A;C<E;C+=3){const P=a.getX(C),b=a.getX(C+1),R=a.getX(C+2);o=Rv(this,_,e,Uf,l,c,u,f,d,P,b,R),o&&(o.faceIndex=Math.floor(C/3),o.face.materialIndex=x.materialIndex,t.push(o))}}else{const v=Math.max(0,g.start),y=Math.min(a.count,g.start+g.count);for(let x=v,_=y;x<_;x+=3){const w=a.getX(x),A=a.getX(x+1),C=a.getX(x+2);o=Rv(this,i,e,Uf,l,c,u,f,d,w,A,C),o&&(o.faceIndex=Math.floor(x/3),t.push(o))}}else if(l!==void 0)if(Array.isArray(i))for(let v=0,y=m.length;v<y;v++){const x=m[v],_=i[x.materialIndex],w=Math.max(x.start,g.start),A=Math.min(l.count,Math.min(x.start+x.count,g.start+g.count));for(let C=w,E=A;C<E;C+=3){const P=C,b=C+1,R=C+2;o=Rv(this,_,e,Uf,l,c,u,f,d,P,b,R),o&&(o.faceIndex=Math.floor(C/3),o.face.materialIndex=x.materialIndex,t.push(o))}}else{const v=Math.max(0,g.start),y=Math.min(l.count,g.start+g.count);for(let x=v,_=y;x<_;x+=3){const w=x,A=x+1,C=x+2;o=Rv(this,i,e,Uf,l,c,u,f,d,w,A,C),o&&(o.faceIndex=Math.floor(x/3),t.push(o))}}}}function RW(n,e,t,r,i,s,o,a){let l;if(e.side===mi?l=r.intersectTriangle(o,s,i,!0,a):l=r.intersectTriangle(i,s,o,e.side!==Gs,a),l===null)return null;Pv.copy(a),Pv.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(Pv);return c<t.near||c>t.far?null:{distance:c,point:Pv.clone(),object:n}}function Rv(n,e,t,r,i,s,o,a,l,c,u,f){xl.fromBufferAttribute(i,c),wl.fromBufferAttribute(i,u),Sl.fromBufferAttribute(i,f);const d=n.morphTargetInfluences;if(s&&d){Av.set(0,0,0),bv.set(0,0,0),Mv.set(0,0,0);for(let g=0,v=s.length;g<v;g++){const y=d[g],x=s[g];y!==0&&(Yw.fromBufferAttribute(x,c),Qw.fromBufferAttribute(x,u),qw.fromBufferAttribute(x,f),o?(Av.addScaledVector(Yw,y),bv.addScaledVector(Qw,y),Mv.addScaledVector(qw,y)):(Av.addScaledVector(Yw.sub(xl),y),bv.addScaledVector(Qw.sub(wl),y),Mv.addScaledVector(qw.sub(Sl),y)))}xl.add(Av),wl.add(bv),Sl.add(Mv)}n.isSkinnedMesh&&(n.boneTransform(c,xl),n.boneTransform(u,wl),n.boneTransform(f,Sl));const m=RW(n,e,t,r,xl,wl,Sl,Zw);if(m){a&&(Cv.fromBufferAttribute(a,c),Ev.fromBufferAttribute(a,u),Tv.fromBufferAttribute(a,f),m.uv=Ns.getUV(Zw,xl,wl,Sl,Cv,Ev,Tv,new De)),l&&(Cv.fromBufferAttribute(l,c),Ev.fromBufferAttribute(l,u),Tv.fromBufferAttribute(l,f),m.uv2=Ns.getUV(Zw,xl,wl,Sl,Cv,Ev,Tv,new De));const g={a:c,b:u,c:f,normal:new $,materialIndex:0};Ns.getNormal(xl,wl,Sl,g.normal),m.face=g}return m}class xc extends ht{constructor(e=1,t=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],u=[],f=[];let d=0,m=0;g("z","y","x",-1,-1,r,t,e,o,s,0),g("z","y","x",1,-1,r,t,-e,o,s,1),g("x","z","y",1,1,e,r,t,i,o,2),g("x","z","y",1,-1,e,r,-t,i,o,3),g("x","y","z",1,-1,e,t,r,i,s,4),g("x","y","z",-1,-1,e,t,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new Ze(c,3)),this.setAttribute("normal",new Ze(u,3)),this.setAttribute("uv",new Ze(f,2));function g(v,y,x,_,w,A,C,E,P,b,R){const D=A/P,L=C/b,N=A/2,z=C/2,k=E/2,V=P+1,W=b+1;let Y=0,O=0;const U=new $;for(let H=0;H<W;H++){const G=H*L-z;for(let X=0;X<V;X++){const Z=X*D-N;U[v]=Z*_,U[y]=G*w,U[x]=k,c.push(U.x,U.y,U.z),U[v]=0,U[y]=0,U[x]=E>0?1:-1,u.push(U.x,U.y,U.z),f.push(X/P),f.push(1-H/b),Y+=1}}for(let H=0;H<b;H++)for(let G=0;G<P;G++){const X=d+G+V*H,Z=d+G+V*(H+1),re=d+(G+1)+V*(H+1),ie=d+(G+1)+V*H;l.push(X,Z,ie),l.push(Z,re,ie),O+=6}a.addGroup(m,O,R),m+=O,d+=Y}}static fromJSON(e){return new xc(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function nh(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const i=n[t][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?e[t][r]=i.clone():Array.isArray(i)?e[t][r]=i.slice():e[t][r]=i}}return e}function ci(n){const e={};for(let t=0;t<n.length;t++){const r=nh(n[t]);for(const i in r)e[i]=r[i]}return e}function DW(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}const D_={clone:nh,merge:ci};var BW=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,IW=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class So extends ir{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=BW,this.fragmentShader=IW,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=nh(e.uniforms),this.uniformsGroups=DW(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?t.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[i]={type:"m4",value:o.toArray()}:t.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}class Pg extends Et{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new qe,this.projectionMatrix=new qe,this.projectionMatrixInverse=new qe}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class nr extends Pg{constructor(e=50,t=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Jm*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Mu*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Jm*2*Math.atan(Math.tan(Mu*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,r,i,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Mu*.5*this.fov)/this.zoom,r=2*t,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*i/l,t-=o.offsetY*r/c,i*=o.width/l,r*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,t,t-r,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const zf=90,Gf=1;class Z4 extends Et{constructor(e,t,r){super(),this.type="CubeCamera",this.renderTarget=r;const i=new nr(zf,Gf,e,t);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new $(1,0,0)),this.add(i);const s=new nr(zf,Gf,e,t);s.layers=this.layers,s.up.set(0,-1,0),s.lookAt(new $(-1,0,0)),this.add(s);const o=new nr(zf,Gf,e,t);o.layers=this.layers,o.up.set(0,0,1),o.lookAt(new $(0,1,0)),this.add(o);const a=new nr(zf,Gf,e,t);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(new $(0,-1,0)),this.add(a);const l=new nr(zf,Gf,e,t);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new $(0,0,1)),this.add(l);const c=new nr(zf,Gf,e,t);c.layers=this.layers,c.up.set(0,-1,0),c.lookAt(new $(0,0,-1)),this.add(c)}update(e,t){this.parent===null&&this.updateMatrixWorld();const r=this.renderTarget,[i,s,o,a,l,c]=this.children,u=e.getRenderTarget(),f=e.toneMapping,d=e.xr.enabled;e.toneMapping=vo,e.xr.enabled=!1;const m=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(t,i),e.setRenderTarget(r,1),e.render(t,s),e.setRenderTarget(r,2),e.render(t,o),e.setRenderTarget(r,3),e.render(t,a),e.setRenderTarget(r,4),e.render(t,l),r.texture.generateMipmaps=m,e.setRenderTarget(r,5),e.render(t,c),e.setRenderTarget(u),e.toneMapping=f,e.xr.enabled=d,r.texture.needsPMREMUpdate=!0}}class Rg extends mn{constructor(e,t,r,i,s,o,a,l,c,u){e=e!==void 0?e:[],t=t!==void 0?t:rc,super(e,t,r,i,s,o,a,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class eN extends Ks{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new Rg(i,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:fn}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new xc(5,5,5),s=new So({name:"CubemapFromEquirect",uniforms:nh(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:mi,blending:Ba});s.uniforms.tEquirect.value=t;const o=new Nn(i,s),a=t.minFilter;return t.minFilter===Ya&&(t.minFilter=fn),new Z4(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,r,i){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,r,i);e.setRenderTarget(s)}}const eS=new $,LW=new $,kW=new $r;class Rl{constructor(e=new $(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const i=eS.subVectors(r,t).cross(LW.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){const r=e.delta(eS),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:t.copy(r).multiplyScalar(s).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||kW.getNormalMatrix(e),i=this.coplanarPoint(eS).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Hf=new Za,Dv=new $;class B_{constructor(e=new Rl,t=new Rl,r=new Rl,i=new Rl,s=new Rl,o=new Rl){this.planes=[e,t,r,i,s,o]}set(e,t,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e){const t=this.planes,r=e.elements,i=r[0],s=r[1],o=r[2],a=r[3],l=r[4],c=r[5],u=r[6],f=r[7],d=r[8],m=r[9],g=r[10],v=r[11],y=r[12],x=r[13],_=r[14],w=r[15];return t[0].setComponents(a-i,f-l,v-d,w-y).normalize(),t[1].setComponents(a+i,f+l,v+d,w+y).normalize(),t[2].setComponents(a+s,f+c,v+m,w+x).normalize(),t[3].setComponents(a-s,f-c,v-m,w-x).normalize(),t[4].setComponents(a-o,f-u,v-g,w-_).normalize(),t[5].setComponents(a+o,f+u,v+g,w+_).normalize(),this}intersectsObject(e){const t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),Hf.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Hf)}intersectsSprite(e){return Hf.center.set(0,0,0),Hf.radius=.7071067811865476,Hf.applyMatrix4(e.matrixWorld),this.intersectsSphere(Hf)}intersectsSphere(e){const t=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const i=t[r];if(Dv.x=i.normal.x>0?e.max.x:e.min.x,Dv.y=i.normal.y>0?e.max.y:e.min.y,Dv.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(Dv)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function tN(){let n=null,e=!1,t=null,r=null;function i(s,o){t(s,o),r=n.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(r=n.requestAnimationFrame(i),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function OW(n,e){const t=e.isWebGL2,r=new WeakMap;function i(c,u){const f=c.array,d=c.usage,m=n.createBuffer();n.bindBuffer(u,m),n.bufferData(u,f,d),c.onUploadCallback();let g;if(f instanceof Float32Array)g=5126;else if(f instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(t)g=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else g=5123;else if(f instanceof Int16Array)g=5122;else if(f instanceof Uint32Array)g=5125;else if(f instanceof Int32Array)g=5124;else if(f instanceof Int8Array)g=5120;else if(f instanceof Uint8Array)g=5121;else if(f instanceof Uint8ClampedArray)g=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+f);return{buffer:m,type:g,bytesPerElement:f.BYTES_PER_ELEMENT,version:c.version}}function s(c,u,f){const d=u.array,m=u.updateRange;n.bindBuffer(f,c),m.count===-1?n.bufferSubData(f,0,d):(t?n.bufferSubData(f,m.offset*d.BYTES_PER_ELEMENT,d,m.offset,m.count):n.bufferSubData(f,m.offset*d.BYTES_PER_ELEMENT,d.subarray(m.offset,m.offset+m.count)),m.count=-1)}function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),r.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const u=r.get(c);u&&(n.deleteBuffer(u.buffer),r.delete(c))}function l(c,u){if(c.isGLBufferAttribute){const d=r.get(c);(!d||d.version<c.version)&&r.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const f=r.get(c);f===void 0?r.set(c,i(c,u)):f.version<c.version&&(s(f.buffer,c,u),f.version=c.version)}return{get:o,remove:a,update:l}}class el extends ht{constructor(e=1,t=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};const s=e/2,o=t/2,a=Math.floor(r),l=Math.floor(i),c=a+1,u=l+1,f=e/a,d=t/l,m=[],g=[],v=[],y=[];for(let x=0;x<u;x++){const _=x*d-o;for(let w=0;w<c;w++){const A=w*f-s;g.push(A,-_,0),v.push(0,0,1),y.push(w/a),y.push(1-x/l)}}for(let x=0;x<l;x++)for(let _=0;_<a;_++){const w=_+c*x,A=_+c*(x+1),C=_+1+c*(x+1),E=_+1+c*x;m.push(w,A,E),m.push(A,C,E)}this.setIndex(m),this.setAttribute("position",new Ze(g,3)),this.setAttribute("normal",new Ze(v,3)),this.setAttribute("uv",new Ze(y,2))}static fromJSON(e){return new el(e.width,e.height,e.widthSegments,e.heightSegments)}}var FW=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,NW=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,UW=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,zW=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,GW=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,HW=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,VW="vec3 transformed = vec3( position );",WW=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,jW=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
	vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,$W=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,XW=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,JW=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,KW=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,YW=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,QW=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,qW=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,ZW=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,e7=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,t7=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,n7=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,r7=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,i7=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,s7=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,o7=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,a7=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,l7=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,c7="gl_FragColor = linearToOutputTexel( gl_FragColor );",u7=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,f7=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,d7=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,h7=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,p7=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,m7=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,g7=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,v7=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,y7=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,_7=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,x7=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,w7=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,S7=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,A7=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,b7=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert
#define Material_LightProbeLOD( material )	(0)`,M7=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,C7=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,E7=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,T7=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,P7=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,R7=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,D7=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,B7=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,I7=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,L7=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,k7=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,O7=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,F7=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,N7=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,U7=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,z7=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,G7=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,H7=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,V7=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,W7=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,j7=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,$7=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,X7=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,J7=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,K7=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,Y7=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,Q7=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,q7=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Z7=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,ej=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,tj=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,nj=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,rj=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,ij=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,sj=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,oj=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,aj=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,lj=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,cj=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,uj=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,fj=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,dj=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,hj=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,pj=`#if NUM_SPOT_LIGHT_COORDS > 0
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
  uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,mj=`#if NUM_SPOT_LIGHT_COORDS > 0
  uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,gj=`#if defined( USE_SHADOWMAP ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_COORDS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,vj=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,yj=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,_j=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,xj=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,wj=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Sj=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Aj=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,bj=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Mj=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Cj=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,Ej=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,Tj=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,Pj=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,Rj=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,Dj=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,Bj=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,Ij=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,Lj=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const kj=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Oj=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	gl_FragColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		gl_FragColor = vec4( mix( pow( gl_FragColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), gl_FragColor.rgb * 0.0773993808, vec3( lessThanEqual( gl_FragColor.rgb, vec3( 0.04045 ) ) ) ), gl_FragColor.w );
	#endif
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Fj=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Nj=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Uj=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,zj=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Gj=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Hj=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,Vj=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Wj=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,jj=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,$j=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Xj=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Jj=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Kj=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Yj=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Qj=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,qj=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Zj=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,e$=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,t$=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,n$=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,r$=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,i$=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,s$=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,o$=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,a$=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,l$=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,c$=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,u$=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,f$=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,d$=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,h$=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,p$=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,At={alphamap_fragment:FW,alphamap_pars_fragment:NW,alphatest_fragment:UW,alphatest_pars_fragment:zW,aomap_fragment:GW,aomap_pars_fragment:HW,begin_vertex:VW,beginnormal_vertex:WW,bsdfs:jW,iridescence_fragment:$W,bumpmap_pars_fragment:XW,clipping_planes_fragment:JW,clipping_planes_pars_fragment:KW,clipping_planes_pars_vertex:YW,clipping_planes_vertex:QW,color_fragment:qW,color_pars_fragment:ZW,color_pars_vertex:e7,color_vertex:t7,common:n7,cube_uv_reflection_fragment:r7,defaultnormal_vertex:i7,displacementmap_pars_vertex:s7,displacementmap_vertex:o7,emissivemap_fragment:a7,emissivemap_pars_fragment:l7,encodings_fragment:c7,encodings_pars_fragment:u7,envmap_fragment:f7,envmap_common_pars_fragment:d7,envmap_pars_fragment:h7,envmap_pars_vertex:p7,envmap_physical_pars_fragment:C7,envmap_vertex:m7,fog_vertex:g7,fog_pars_vertex:v7,fog_fragment:y7,fog_pars_fragment:_7,gradientmap_pars_fragment:x7,lightmap_fragment:w7,lightmap_pars_fragment:S7,lights_lambert_fragment:A7,lights_lambert_pars_fragment:b7,lights_pars_begin:M7,lights_toon_fragment:E7,lights_toon_pars_fragment:T7,lights_phong_fragment:P7,lights_phong_pars_fragment:R7,lights_physical_fragment:D7,lights_physical_pars_fragment:B7,lights_fragment_begin:I7,lights_fragment_maps:L7,lights_fragment_end:k7,logdepthbuf_fragment:O7,logdepthbuf_pars_fragment:F7,logdepthbuf_pars_vertex:N7,logdepthbuf_vertex:U7,map_fragment:z7,map_pars_fragment:G7,map_particle_fragment:H7,map_particle_pars_fragment:V7,metalnessmap_fragment:W7,metalnessmap_pars_fragment:j7,morphcolor_vertex:$7,morphnormal_vertex:X7,morphtarget_pars_vertex:J7,morphtarget_vertex:K7,normal_fragment_begin:Y7,normal_fragment_maps:Q7,normal_pars_fragment:q7,normal_pars_vertex:Z7,normal_vertex:ej,normalmap_pars_fragment:tj,clearcoat_normal_fragment_begin:nj,clearcoat_normal_fragment_maps:rj,clearcoat_pars_fragment:ij,iridescence_pars_fragment:sj,output_fragment:oj,packing:aj,premultiplied_alpha_fragment:lj,project_vertex:cj,dithering_fragment:uj,dithering_pars_fragment:fj,roughnessmap_fragment:dj,roughnessmap_pars_fragment:hj,shadowmap_pars_fragment:pj,shadowmap_pars_vertex:mj,shadowmap_vertex:gj,shadowmask_pars_fragment:vj,skinbase_vertex:yj,skinning_pars_vertex:_j,skinning_vertex:xj,skinnormal_vertex:wj,specularmap_fragment:Sj,specularmap_pars_fragment:Aj,tonemapping_fragment:bj,tonemapping_pars_fragment:Mj,transmission_fragment:Cj,transmission_pars_fragment:Ej,uv_pars_fragment:Tj,uv_pars_vertex:Pj,uv_vertex:Rj,uv2_pars_fragment:Dj,uv2_pars_vertex:Bj,uv2_vertex:Ij,worldpos_vertex:Lj,background_vert:kj,background_frag:Oj,backgroundCube_vert:Fj,backgroundCube_frag:Nj,cube_vert:Uj,cube_frag:zj,depth_vert:Gj,depth_frag:Hj,distanceRGBA_vert:Vj,distanceRGBA_frag:Wj,equirect_vert:jj,equirect_frag:$j,linedashed_vert:Xj,linedashed_frag:Jj,meshbasic_vert:Kj,meshbasic_frag:Yj,meshlambert_vert:Qj,meshlambert_frag:qj,meshmatcap_vert:Zj,meshmatcap_frag:e$,meshnormal_vert:t$,meshnormal_frag:n$,meshphong_vert:r$,meshphong_frag:i$,meshphysical_vert:s$,meshphysical_frag:o$,meshtoon_vert:a$,meshtoon_frag:l$,points_vert:c$,points_frag:u$,shadow_vert:f$,shadow_frag:d$,sprite_vert:h$,sprite_frag:p$},Je={common:{diffuse:{value:new He(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new $r},uv2Transform:{value:new $r},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new De(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new He(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new He(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new $r}},sprite:{diffuse:{value:new He(16777215)},opacity:{value:1},center:{value:new De(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new $r}}},ho={basic:{uniforms:ci([Je.common,Je.specularmap,Je.envmap,Je.aomap,Je.lightmap,Je.fog]),vertexShader:At.meshbasic_vert,fragmentShader:At.meshbasic_frag},lambert:{uniforms:ci([Je.common,Je.specularmap,Je.envmap,Je.aomap,Je.lightmap,Je.emissivemap,Je.bumpmap,Je.normalmap,Je.displacementmap,Je.fog,Je.lights,{emissive:{value:new He(0)}}]),vertexShader:At.meshlambert_vert,fragmentShader:At.meshlambert_frag},phong:{uniforms:ci([Je.common,Je.specularmap,Je.envmap,Je.aomap,Je.lightmap,Je.emissivemap,Je.bumpmap,Je.normalmap,Je.displacementmap,Je.fog,Je.lights,{emissive:{value:new He(0)},specular:{value:new He(1118481)},shininess:{value:30}}]),vertexShader:At.meshphong_vert,fragmentShader:At.meshphong_frag},standard:{uniforms:ci([Je.common,Je.envmap,Je.aomap,Je.lightmap,Je.emissivemap,Je.bumpmap,Je.normalmap,Je.displacementmap,Je.roughnessmap,Je.metalnessmap,Je.fog,Je.lights,{emissive:{value:new He(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:At.meshphysical_vert,fragmentShader:At.meshphysical_frag},toon:{uniforms:ci([Je.common,Je.aomap,Je.lightmap,Je.emissivemap,Je.bumpmap,Je.normalmap,Je.displacementmap,Je.gradientmap,Je.fog,Je.lights,{emissive:{value:new He(0)}}]),vertexShader:At.meshtoon_vert,fragmentShader:At.meshtoon_frag},matcap:{uniforms:ci([Je.common,Je.bumpmap,Je.normalmap,Je.displacementmap,Je.fog,{matcap:{value:null}}]),vertexShader:At.meshmatcap_vert,fragmentShader:At.meshmatcap_frag},points:{uniforms:ci([Je.points,Je.fog]),vertexShader:At.points_vert,fragmentShader:At.points_frag},dashed:{uniforms:ci([Je.common,Je.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:At.linedashed_vert,fragmentShader:At.linedashed_frag},depth:{uniforms:ci([Je.common,Je.displacementmap]),vertexShader:At.depth_vert,fragmentShader:At.depth_frag},normal:{uniforms:ci([Je.common,Je.bumpmap,Je.normalmap,Je.displacementmap,{opacity:{value:1}}]),vertexShader:At.meshnormal_vert,fragmentShader:At.meshnormal_frag},sprite:{uniforms:ci([Je.sprite,Je.fog]),vertexShader:At.sprite_vert,fragmentShader:At.sprite_frag},background:{uniforms:{uvTransform:{value:new $r},t2D:{value:null}},vertexShader:At.background_vert,fragmentShader:At.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0}},vertexShader:At.backgroundCube_vert,fragmentShader:At.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:At.cube_vert,fragmentShader:At.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:At.equirect_vert,fragmentShader:At.equirect_frag},distanceRGBA:{uniforms:ci([Je.common,Je.displacementmap,{referencePosition:{value:new $},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:At.distanceRGBA_vert,fragmentShader:At.distanceRGBA_frag},shadow:{uniforms:ci([Je.lights,Je.fog,{color:{value:new He(0)},opacity:{value:1}}]),vertexShader:At.shadow_vert,fragmentShader:At.shadow_frag}};ho.physical={uniforms:ci([ho.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new De(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new He(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new De},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new He(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new He(1,1,1)},specularColorMap:{value:null}}]),vertexShader:At.meshphysical_vert,fragmentShader:At.meshphysical_frag};function m$(n,e,t,r,i,s,o){const a=new He(0);let l=s===!0?0:1,c,u,f=null,d=0,m=null;function g(y,x){let _=!1,w=x.isScene===!0?x.background:null;w&&w.isTexture&&(w=(x.backgroundBlurriness>0?t:e).get(w));const A=n.xr,C=A.getSession&&A.getSession();C&&C.environmentBlendMode==="additive"&&(w=null),w===null?v(a,l):w&&w.isColor&&(v(w,1),_=!0),(n.autoClear||_)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),w&&(w.isCubeTexture||w.mapping===xh)?(u===void 0&&(u=new Nn(new xc(1,1,1),new So({name:"BackgroundCubeMaterial",uniforms:nh(ho.backgroundCube.uniforms),vertexShader:ho.backgroundCube.vertexShader,fragmentShader:ho.backgroundCube.fragmentShader,side:mi,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(E,P,b){this.matrixWorld.copyPosition(b.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(u)),u.material.uniforms.envMap.value=w,u.material.uniforms.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=x.backgroundBlurriness,(f!==w||d!==w.version||m!==n.toneMapping)&&(u.material.needsUpdate=!0,f=w,d=w.version,m=n.toneMapping),u.layers.enableAll(),y.unshift(u,u.geometry,u.material,0,0,null)):w&&w.isTexture&&(c===void 0&&(c=new Nn(new el(2,2),new So({name:"BackgroundMaterial",uniforms:nh(ho.background.uniforms),vertexShader:ho.background.vertexShader,fragmentShader:ho.background.fragmentShader,side:za,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=w,w.matrixAutoUpdate===!0&&w.updateMatrix(),c.material.uniforms.uvTransform.value.copy(w.matrix),(f!==w||d!==w.version||m!==n.toneMapping)&&(c.material.needsUpdate=!0,f=w,d=w.version,m=n.toneMapping),c.layers.enableAll(),y.unshift(c,c.geometry,c.material,0,0,null))}function v(y,x){r.buffers.color.setClear(y.r,y.g,y.b,x,o)}return{getClearColor:function(){return a},setClearColor:function(y,x=1){a.set(y),l=x,v(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(y){l=y,v(a,l)},render:g}}function g$(n,e,t,r){const i=n.getParameter(34921),s=r.isWebGL2?null:e.get("OES_vertex_array_object"),o=r.isWebGL2||s!==null,a={},l=y(null);let c=l,u=!1;function f(k,V,W,Y,O){let U=!1;if(o){const H=v(Y,W,V);c!==H&&(c=H,m(c.object)),U=x(k,Y,W,O),U&&_(k,Y,W,O)}else{const H=V.wireframe===!0;(c.geometry!==Y.id||c.program!==W.id||c.wireframe!==H)&&(c.geometry=Y.id,c.program=W.id,c.wireframe=H,U=!0)}O!==null&&t.update(O,34963),(U||u)&&(u=!1,b(k,V,W,Y),O!==null&&n.bindBuffer(34963,t.get(O).buffer))}function d(){return r.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function m(k){return r.isWebGL2?n.bindVertexArray(k):s.bindVertexArrayOES(k)}function g(k){return r.isWebGL2?n.deleteVertexArray(k):s.deleteVertexArrayOES(k)}function v(k,V,W){const Y=W.wireframe===!0;let O=a[k.id];O===void 0&&(O={},a[k.id]=O);let U=O[V.id];U===void 0&&(U={},O[V.id]=U);let H=U[Y];return H===void 0&&(H=y(d()),U[Y]=H),H}function y(k){const V=[],W=[],Y=[];for(let O=0;O<i;O++)V[O]=0,W[O]=0,Y[O]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:V,enabledAttributes:W,attributeDivisors:Y,object:k,attributes:{},index:null}}function x(k,V,W,Y){const O=c.attributes,U=V.attributes;let H=0;const G=W.getAttributes();for(const X in G)if(G[X].location>=0){const re=O[X];let ie=U[X];if(ie===void 0&&(X==="instanceMatrix"&&k.instanceMatrix&&(ie=k.instanceMatrix),X==="instanceColor"&&k.instanceColor&&(ie=k.instanceColor)),re===void 0||re.attribute!==ie||ie&&re.data!==ie.data)return!0;H++}return c.attributesNum!==H||c.index!==Y}function _(k,V,W,Y){const O={},U=V.attributes;let H=0;const G=W.getAttributes();for(const X in G)if(G[X].location>=0){let re=U[X];re===void 0&&(X==="instanceMatrix"&&k.instanceMatrix&&(re=k.instanceMatrix),X==="instanceColor"&&k.instanceColor&&(re=k.instanceColor));const ie={};ie.attribute=re,re&&re.data&&(ie.data=re.data),O[X]=ie,H++}c.attributes=O,c.attributesNum=H,c.index=Y}function w(){const k=c.newAttributes;for(let V=0,W=k.length;V<W;V++)k[V]=0}function A(k){C(k,0)}function C(k,V){const W=c.newAttributes,Y=c.enabledAttributes,O=c.attributeDivisors;W[k]=1,Y[k]===0&&(n.enableVertexAttribArray(k),Y[k]=1),O[k]!==V&&((r.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](k,V),O[k]=V)}function E(){const k=c.newAttributes,V=c.enabledAttributes;for(let W=0,Y=V.length;W<Y;W++)V[W]!==k[W]&&(n.disableVertexAttribArray(W),V[W]=0)}function P(k,V,W,Y,O,U){r.isWebGL2===!0&&(W===5124||W===5125)?n.vertexAttribIPointer(k,V,W,O,U):n.vertexAttribPointer(k,V,W,Y,O,U)}function b(k,V,W,Y){if(r.isWebGL2===!1&&(k.isInstancedMesh||Y.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;w();const O=Y.attributes,U=W.getAttributes(),H=V.defaultAttributeValues;for(const G in U){const X=U[G];if(X.location>=0){let Z=O[G];if(Z===void 0&&(G==="instanceMatrix"&&k.instanceMatrix&&(Z=k.instanceMatrix),G==="instanceColor"&&k.instanceColor&&(Z=k.instanceColor)),Z!==void 0){const re=Z.normalized,ie=Z.itemSize,Q=t.get(Z);if(Q===void 0)continue;const ue=Q.buffer,he=Q.type,be=Q.bytesPerElement;if(Z.isInterleavedBufferAttribute){const ye=Z.data,Se=ye.stride,ne=Z.offset;if(ye.isInstancedInterleavedBuffer){for(let le=0;le<X.locationSize;le++)C(X.location+le,ye.meshPerAttribute);k.isInstancedMesh!==!0&&Y._maxInstanceCount===void 0&&(Y._maxInstanceCount=ye.meshPerAttribute*ye.count)}else for(let le=0;le<X.locationSize;le++)A(X.location+le);n.bindBuffer(34962,ue);for(let le=0;le<X.locationSize;le++)P(X.location+le,ie/X.locationSize,he,re,Se*be,(ne+ie/X.locationSize*le)*be)}else{if(Z.isInstancedBufferAttribute){for(let ye=0;ye<X.locationSize;ye++)C(X.location+ye,Z.meshPerAttribute);k.isInstancedMesh!==!0&&Y._maxInstanceCount===void 0&&(Y._maxInstanceCount=Z.meshPerAttribute*Z.count)}else for(let ye=0;ye<X.locationSize;ye++)A(X.location+ye);n.bindBuffer(34962,ue);for(let ye=0;ye<X.locationSize;ye++)P(X.location+ye,ie/X.locationSize,he,re,ie*be,ie/X.locationSize*ye*be)}}else if(H!==void 0){const re=H[G];if(re!==void 0)switch(re.length){case 2:n.vertexAttrib2fv(X.location,re);break;case 3:n.vertexAttrib3fv(X.location,re);break;case 4:n.vertexAttrib4fv(X.location,re);break;default:n.vertexAttrib1fv(X.location,re)}}}}E()}function R(){N();for(const k in a){const V=a[k];for(const W in V){const Y=V[W];for(const O in Y)g(Y[O].object),delete Y[O];delete V[W]}delete a[k]}}function D(k){if(a[k.id]===void 0)return;const V=a[k.id];for(const W in V){const Y=V[W];for(const O in Y)g(Y[O].object),delete Y[O];delete V[W]}delete a[k.id]}function L(k){for(const V in a){const W=a[V];if(W[k.id]===void 0)continue;const Y=W[k.id];for(const O in Y)g(Y[O].object),delete Y[O];delete W[k.id]}}function N(){z(),u=!0,c!==l&&(c=l,m(c.object))}function z(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:f,reset:N,resetDefaultState:z,dispose:R,releaseStatesOfGeometry:D,releaseStatesOfProgram:L,initAttributes:w,enableAttribute:A,disableUnusedAttributes:E}}function v$(n,e,t,r){const i=r.isWebGL2;let s;function o(c){s=c}function a(c,u){n.drawArrays(s,c,u),t.update(u,s,1)}function l(c,u,f){if(f===0)return;let d,m;if(i)d=n,m="drawArraysInstanced";else if(d=e.get("ANGLE_instanced_arrays"),m="drawArraysInstancedANGLE",d===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}d[m](s,c,u,f),t.update(u,s,f)}this.setMode=o,this.render=a,this.renderInstances=l}function y$(n,e,t){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const P=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(P.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(P){if(P==="highp"){if(n.getShaderPrecisionFormat(35633,36338).precision>0&&n.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";P="mediump"}return P==="mediump"&&n.getShaderPrecisionFormat(35633,36337).precision>0&&n.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&n instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext<"u"&&n instanceof WebGL2ComputeRenderingContext;let a=t.precision!==void 0?t.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=o||e.has("WEBGL_draw_buffers"),u=t.logarithmicDepthBuffer===!0,f=n.getParameter(34930),d=n.getParameter(35660),m=n.getParameter(3379),g=n.getParameter(34076),v=n.getParameter(34921),y=n.getParameter(36347),x=n.getParameter(36348),_=n.getParameter(36349),w=d>0,A=o||e.has("OES_texture_float"),C=w&&A,E=o?n.getParameter(36183):0;return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:i,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:u,maxTextures:f,maxVertexTextures:d,maxTextureSize:m,maxCubemapSize:g,maxAttributes:v,maxVertexUniforms:y,maxVaryings:x,maxFragmentUniforms:_,vertexTextures:w,floatFragmentTextures:A,floatVertexTextures:C,maxSamples:E}}function _$(n){const e=this;let t=null,r=0,i=!1,s=!1;const o=new Rl,a=new $r,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(f,d,m){const g=f.length!==0||d||r!==0||i;return i=d,t=u(f,m,0),r=f.length,g},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1,c()},this.setState=function(f,d,m){const g=f.clippingPlanes,v=f.clipIntersection,y=f.clipShadows,x=n.get(f);if(!i||g===null||g.length===0||s&&!y)s?u(null):c();else{const _=s?0:r,w=_*4;let A=x.clippingState||null;l.value=A,A=u(g,d,w,m);for(let C=0;C!==w;++C)A[C]=t[C];x.clippingState=A,this.numIntersection=v?this.numPlanes:0,this.numPlanes+=_}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function u(f,d,m,g){const v=f!==null?f.length:0;let y=null;if(v!==0){if(y=l.value,g!==!0||y===null){const x=m+v*4,_=d.matrixWorldInverse;a.getNormalMatrix(_),(y===null||y.length<x)&&(y=new Float32Array(x));for(let w=0,A=m;w!==v;++w,A+=4)o.copy(f[w]).applyMatrix4(_,a),o.normal.toArray(y,A),y[A+3]=o.constant}l.value=y,l.needsUpdate=!0}return e.numPlanes=v,e.numIntersection=0,y}}function x$(n){let e=new WeakMap;function t(o,a){return a===qd?o.mapping=rc:a===Vm&&(o.mapping=ic),o}function r(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===qd||a===Vm)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new eN(l.height/2);return c.fromEquirectangularTexture(n,o),e.set(o,c),o.addEventListener("dispose",i),t(c.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class tf extends Pg{constructor(e=-1,t=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+t,l=i-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const xd=4,nR=[.125,.215,.35,.446,.526,.582],lu=20,tS=new tf,rR=new He;let nS=null;const ru=(1+Math.sqrt(5))/2,Vf=1/ru,iR=[new $(1,1,1),new $(-1,1,1),new $(1,1,-1),new $(-1,1,-1),new $(0,ru,Vf),new $(0,ru,-Vf),new $(Vf,0,ru),new $(-Vf,0,ru),new $(ru,Vf,0),new $(-ru,Vf,0)];class $b{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,i=100){nS=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=aR(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=oR(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(nS),e.scissorTest=!1,Bv(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===rc||e.mapping===ic?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),nS=this._renderer.getRenderTarget();const r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:fn,minFilter:fn,generateMipmaps:!1,type:eh,format:Ci,encoding:sc,depthBuffer:!1},i=sR(e,t,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=sR(e,t,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=w$(s)),this._blurMaterial=S$(s,e,t)}return i}_compileMaterial(e){const t=new Nn(this._lodPlanes[0],e);this._renderer.compile(t,tS)}_sceneToCubeUV(e,t,r,i){const a=new nr(90,1,t,r),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,f=u.autoClear,d=u.toneMapping;u.getClearColor(rR),u.toneMapping=vo,u.autoClear=!1;const m=new Ri({name:"PMREM.Background",side:mi,depthWrite:!1,depthTest:!1}),g=new Nn(new xc,m);let v=!1;const y=e.background;y?y.isColor&&(m.color.copy(y),e.background=null,v=!0):(m.color.copy(rR),v=!0);for(let x=0;x<6;x++){const _=x%3;_===0?(a.up.set(0,l[x],0),a.lookAt(c[x],0,0)):_===1?(a.up.set(0,0,l[x]),a.lookAt(0,c[x],0)):(a.up.set(0,l[x],0),a.lookAt(0,0,c[x]));const w=this._cubeSize;Bv(i,_*w,x>2?w:0,w,w),u.setRenderTarget(i),v&&u.render(g,a),u.render(e,a)}g.geometry.dispose(),g.material.dispose(),u.toneMapping=d,u.autoClear=f,e.background=y}_textureToCubeUV(e,t){const r=this._renderer,i=e.mapping===rc||e.mapping===ic;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=aR()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=oR());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new Nn(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;Bv(t,0,0,3*l,2*l),r.setRenderTarget(t),r.render(o,tS)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const s=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),o=iR[(i-1)%iR.length];this._blur(e,i-1,i,s,o)}t.autoClear=r}_blur(e,t,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,t,r,i,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,f=new Nn(this._lodPlanes[i],c),d=c.uniforms,m=this._sizeLods[r]-1,g=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*lu-1),v=s/g,y=isFinite(s)?1+Math.floor(u*v):lu;y>lu&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${y} samples when the maximum is set to ${lu}`);const x=[];let _=0;for(let P=0;P<lu;++P){const b=P/v,R=Math.exp(-b*b/2);x.push(R),P===0?_+=R:P<y&&(_+=2*R)}for(let P=0;P<x.length;P++)x[P]=x[P]/_;d.envMap.value=e.texture,d.samples.value=y,d.weights.value=x,d.latitudinal.value=o==="latitudinal",a&&(d.poleAxis.value=a);const{_lodMax:w}=this;d.dTheta.value=g,d.mipInt.value=w-r;const A=this._sizeLods[i],C=3*A*(i>w-xd?i-w+xd:0),E=4*(this._cubeSize-A);Bv(t,C,E,3*A,2*A),l.setRenderTarget(t),l.render(f,tS)}}function w$(n){const e=[],t=[],r=[];let i=n;const s=n-xd+1+nR.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);t.push(a);let l=1/a;o>n-xd?l=nR[o-n+xd-1]:o===0&&(l=0),r.push(l);const c=1/(a-2),u=-c,f=1+c,d=[u,u,f,u,f,f,u,u,f,f,u,f],m=6,g=6,v=3,y=2,x=1,_=new Float32Array(v*g*m),w=new Float32Array(y*g*m),A=new Float32Array(x*g*m);for(let E=0;E<m;E++){const P=E%3*2/3-1,b=E>2?0:-1,R=[P,b,0,P+2/3,b,0,P+2/3,b+1,0,P,b,0,P+2/3,b+1,0,P,b+1,0];_.set(R,v*g*E),w.set(d,y*g*E);const D=[E,E,E,E,E,E];A.set(D,x*g*E)}const C=new ht;C.setAttribute("position",new Jt(_,v)),C.setAttribute("uv",new Jt(w,y)),C.setAttribute("faceIndex",new Jt(A,x)),e.push(C),i>xd&&i--}return{lodPlanes:e,sizeLods:t,sigmas:r}}function sR(n,e,t){const r=new Ks(n,e,t);return r.texture.mapping=xh,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Bv(n,e,t,r,i){n.viewport.set(e,t,r,i),n.scissor.set(e,t,r,i)}function S$(n,e,t){const r=new Float32Array(lu),i=new $(0,1,0);return new So({name:"SphericalGaussianBlur",defines:{n:lu,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:vC(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Ba,depthTest:!1,depthWrite:!1})}function oR(){return new So({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:vC(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Ba,depthTest:!1,depthWrite:!1})}function aR(){return new So({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:vC(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Ba,depthTest:!1,depthWrite:!1})}function vC(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function A$(n){let e=new WeakMap,t=null;function r(a){if(a&&a.isTexture){const l=a.mapping,c=l===qd||l===Vm,u=l===rc||l===ic;if(c||u)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let f=e.get(a);return t===null&&(t=new $b(n)),f=c?t.fromEquirectangular(a,f):t.fromCubemap(a,f),e.set(a,f),f.texture}else{if(e.has(a))return e.get(a).texture;{const f=a.image;if(c&&f&&f.height>0||u&&f&&i(f)){t===null&&(t=new $b(n));const d=c?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,d),a.addEventListener("dispose",s),d.texture}else return null}}}return a}function i(a){let l=0;const c=6;for(let u=0;u<c;u++)a[u]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:r,dispose:o}}function b$(n){const e={};function t(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=n.getExtension(r)}return e[r]=i,i}return{has:function(r){return t(r)!==null},init:function(r){r.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(r){const i=t(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function M$(n,e,t,r){const i={},s=new WeakMap;function o(f){const d=f.target;d.index!==null&&e.remove(d.index);for(const g in d.attributes)e.remove(d.attributes[g]);d.removeEventListener("dispose",o),delete i[d.id];const m=s.get(d);m&&(e.remove(m),s.delete(d)),r.releaseStatesOfGeometry(d),d.isInstancedBufferGeometry===!0&&delete d._maxInstanceCount,t.memory.geometries--}function a(f,d){return i[d.id]===!0||(d.addEventListener("dispose",o),i[d.id]=!0,t.memory.geometries++),d}function l(f){const d=f.attributes;for(const g in d)e.update(d[g],34962);const m=f.morphAttributes;for(const g in m){const v=m[g];for(let y=0,x=v.length;y<x;y++)e.update(v[y],34962)}}function c(f){const d=[],m=f.index,g=f.attributes.position;let v=0;if(m!==null){const _=m.array;v=m.version;for(let w=0,A=_.length;w<A;w+=3){const C=_[w+0],E=_[w+1],P=_[w+2];d.push(C,E,E,P,P,C)}}else{const _=g.array;v=g.version;for(let w=0,A=_.length/3-1;w<A;w+=3){const C=w+0,E=w+1,P=w+2;d.push(C,E,E,P,P,C)}}const y=new(Q4(d)?gC:R_)(d,1);y.version=v;const x=s.get(f);x&&e.remove(x),s.set(f,y)}function u(f){const d=s.get(f);if(d){const m=f.index;m!==null&&d.version<m.version&&c(f)}else c(f);return s.get(f)}return{get:a,update:l,getWireframeAttribute:u}}function C$(n,e,t,r){const i=r.isWebGL2;let s;function o(d){s=d}let a,l;function c(d){a=d.type,l=d.bytesPerElement}function u(d,m){n.drawElements(s,m,a,d*l),t.update(m,s,1)}function f(d,m,g){if(g===0)return;let v,y;if(i)v=n,y="drawElementsInstanced";else if(v=e.get("ANGLE_instanced_arrays"),y="drawElementsInstancedANGLE",v===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}v[y](s,m,a,d*l,g),t.update(m,s,g)}this.setMode=o,this.setIndex=c,this.render=u,this.renderInstances=f}function E$(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,a){switch(t.calls++,o){case 4:t.triangles+=a*(s/3);break;case 1:t.lines+=a*(s/2);break;case 3:t.lines+=a*(s-1);break;case 2:t.lines+=a*s;break;case 0:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:r}}function T$(n,e){return n[0]-e[0]}function P$(n,e){return Math.abs(e[1])-Math.abs(n[1])}function R$(n,e,t){const r={},i=new Float32Array(8),s=new WeakMap,o=new Ct,a=[];for(let c=0;c<8;c++)a[c]=[c,0];function l(c,u,f,d){const m=c.morphTargetInfluences;if(e.isWebGL2===!0){const v=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,y=v!==void 0?v.length:0;let x=s.get(u);if(x===void 0||x.count!==y){let W=function(){k.dispose(),s.delete(u),u.removeEventListener("dispose",W)};var g=W;x!==void 0&&x.texture.dispose();const A=u.morphAttributes.position!==void 0,C=u.morphAttributes.normal!==void 0,E=u.morphAttributes.color!==void 0,P=u.morphAttributes.position||[],b=u.morphAttributes.normal||[],R=u.morphAttributes.color||[];let D=0;A===!0&&(D=1),C===!0&&(D=2),E===!0&&(D=3);let L=u.attributes.position.count*D,N=1;L>e.maxTextureSize&&(N=Math.ceil(L/e.maxTextureSize),L=e.maxTextureSize);const z=new Float32Array(L*N*4*y),k=new Eg(z,L,N,y);k.type=Ta,k.needsUpdate=!0;const V=D*4;for(let Y=0;Y<y;Y++){const O=P[Y],U=b[Y],H=R[Y],G=L*N*4*Y;for(let X=0;X<O.count;X++){const Z=X*V;A===!0&&(o.fromBufferAttribute(O,X),z[G+Z+0]=o.x,z[G+Z+1]=o.y,z[G+Z+2]=o.z,z[G+Z+3]=0),C===!0&&(o.fromBufferAttribute(U,X),z[G+Z+4]=o.x,z[G+Z+5]=o.y,z[G+Z+6]=o.z,z[G+Z+7]=0),E===!0&&(o.fromBufferAttribute(H,X),z[G+Z+8]=o.x,z[G+Z+9]=o.y,z[G+Z+10]=o.z,z[G+Z+11]=H.itemSize===4?o.w:1)}}x={count:y,texture:k,size:new De(L,N)},s.set(u,x),u.addEventListener("dispose",W)}let _=0;for(let A=0;A<m.length;A++)_+=m[A];const w=u.morphTargetsRelative?1:1-_;d.getUniforms().setValue(n,"morphTargetBaseInfluence",w),d.getUniforms().setValue(n,"morphTargetInfluences",m),d.getUniforms().setValue(n,"morphTargetsTexture",x.texture,t),d.getUniforms().setValue(n,"morphTargetsTextureSize",x.size)}else{const v=m===void 0?0:m.length;let y=r[u.id];if(y===void 0||y.length!==v){y=[];for(let C=0;C<v;C++)y[C]=[C,0];r[u.id]=y}for(let C=0;C<v;C++){const E=y[C];E[0]=C,E[1]=m[C]}y.sort(P$);for(let C=0;C<8;C++)C<v&&y[C][1]?(a[C][0]=y[C][0],a[C][1]=y[C][1]):(a[C][0]=Number.MAX_SAFE_INTEGER,a[C][1]=0);a.sort(T$);const x=u.morphAttributes.position,_=u.morphAttributes.normal;let w=0;for(let C=0;C<8;C++){const E=a[C],P=E[0],b=E[1];P!==Number.MAX_SAFE_INTEGER&&b?(x&&u.getAttribute("morphTarget"+C)!==x[P]&&u.setAttribute("morphTarget"+C,x[P]),_&&u.getAttribute("morphNormal"+C)!==_[P]&&u.setAttribute("morphNormal"+C,_[P]),i[C]=b,w+=b):(x&&u.hasAttribute("morphTarget"+C)===!0&&u.deleteAttribute("morphTarget"+C),_&&u.hasAttribute("morphNormal"+C)===!0&&u.deleteAttribute("morphNormal"+C),i[C]=0)}const A=u.morphTargetsRelative?1:1-w;d.getUniforms().setValue(n,"morphTargetBaseInfluence",A),d.getUniforms().setValue(n,"morphTargetInfluences",i)}}return{update:l}}function D$(n,e,t,r){let i=new WeakMap;function s(l){const c=r.render.frame,u=l.geometry,f=e.get(l,u);return i.get(f)!==c&&(e.update(f),i.set(f,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),t.update(l.instanceMatrix,34962),l.instanceColor!==null&&t.update(l.instanceColor,34962)),f}function o(){i=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:s,dispose:o}}const nN=new mn,rN=new Eg,iN=new P_,sN=new Rg,lR=[],cR=[],uR=new Float32Array(16),fR=new Float32Array(9),dR=new Float32Array(4);function wh(n,e,t){const r=n[0];if(r<=0||r>0)return n;const i=e*t;let s=lR[i];if(s===void 0&&(s=new Float32Array(i),lR[i]=s),e!==0){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function dr(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function hr(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function I_(n,e){let t=cR[e];t===void 0&&(t=new Int32Array(e),cR[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function B$(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function I$(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(dr(t,e))return;n.uniform2fv(this.addr,e),hr(t,e)}}function L$(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(dr(t,e))return;n.uniform3fv(this.addr,e),hr(t,e)}}function k$(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(dr(t,e))return;n.uniform4fv(this.addr,e),hr(t,e)}}function O$(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(dr(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),hr(t,e)}else{if(dr(t,r))return;dR.set(r),n.uniformMatrix2fv(this.addr,!1,dR),hr(t,r)}}function F$(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(dr(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),hr(t,e)}else{if(dr(t,r))return;fR.set(r),n.uniformMatrix3fv(this.addr,!1,fR),hr(t,r)}}function N$(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(dr(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),hr(t,e)}else{if(dr(t,r))return;uR.set(r),n.uniformMatrix4fv(this.addr,!1,uR),hr(t,r)}}function U$(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function z$(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(dr(t,e))return;n.uniform2iv(this.addr,e),hr(t,e)}}function G$(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(dr(t,e))return;n.uniform3iv(this.addr,e),hr(t,e)}}function H$(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(dr(t,e))return;n.uniform4iv(this.addr,e),hr(t,e)}}function V$(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function W$(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(dr(t,e))return;n.uniform2uiv(this.addr,e),hr(t,e)}}function j$(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(dr(t,e))return;n.uniform3uiv(this.addr,e),hr(t,e)}}function $$(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(dr(t,e))return;n.uniform4uiv(this.addr,e),hr(t,e)}}function X$(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2D(e||nN,i)}function J$(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture3D(e||iN,i)}function K$(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTextureCube(e||sN,i)}function Y$(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2DArray(e||rN,i)}function Q$(n){switch(n){case 5126:return B$;case 35664:return I$;case 35665:return L$;case 35666:return k$;case 35674:return O$;case 35675:return F$;case 35676:return N$;case 5124:case 35670:return U$;case 35667:case 35671:return z$;case 35668:case 35672:return G$;case 35669:case 35673:return H$;case 5125:return V$;case 36294:return W$;case 36295:return j$;case 36296:return $$;case 35678:case 36198:case 36298:case 36306:case 35682:return X$;case 35679:case 36299:case 36307:return J$;case 35680:case 36300:case 36308:case 36293:return K$;case 36289:case 36303:case 36311:case 36292:return Y$}}function q$(n,e){n.uniform1fv(this.addr,e)}function Z$(n,e){const t=wh(e,this.size,2);n.uniform2fv(this.addr,t)}function eX(n,e){const t=wh(e,this.size,3);n.uniform3fv(this.addr,t)}function tX(n,e){const t=wh(e,this.size,4);n.uniform4fv(this.addr,t)}function nX(n,e){const t=wh(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function rX(n,e){const t=wh(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function iX(n,e){const t=wh(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function sX(n,e){n.uniform1iv(this.addr,e)}function oX(n,e){n.uniform2iv(this.addr,e)}function aX(n,e){n.uniform3iv(this.addr,e)}function lX(n,e){n.uniform4iv(this.addr,e)}function cX(n,e){n.uniform1uiv(this.addr,e)}function uX(n,e){n.uniform2uiv(this.addr,e)}function fX(n,e){n.uniform3uiv(this.addr,e)}function dX(n,e){n.uniform4uiv(this.addr,e)}function hX(n,e,t){const r=this.cache,i=e.length,s=I_(t,i);dr(r,s)||(n.uniform1iv(this.addr,s),hr(r,s));for(let o=0;o!==i;++o)t.setTexture2D(e[o]||nN,s[o])}function pX(n,e,t){const r=this.cache,i=e.length,s=I_(t,i);dr(r,s)||(n.uniform1iv(this.addr,s),hr(r,s));for(let o=0;o!==i;++o)t.setTexture3D(e[o]||iN,s[o])}function mX(n,e,t){const r=this.cache,i=e.length,s=I_(t,i);dr(r,s)||(n.uniform1iv(this.addr,s),hr(r,s));for(let o=0;o!==i;++o)t.setTextureCube(e[o]||sN,s[o])}function gX(n,e,t){const r=this.cache,i=e.length,s=I_(t,i);dr(r,s)||(n.uniform1iv(this.addr,s),hr(r,s));for(let o=0;o!==i;++o)t.setTexture2DArray(e[o]||rN,s[o])}function vX(n){switch(n){case 5126:return q$;case 35664:return Z$;case 35665:return eX;case 35666:return tX;case 35674:return nX;case 35675:return rX;case 35676:return iX;case 5124:case 35670:return sX;case 35667:case 35671:return oX;case 35668:case 35672:return aX;case 35669:case 35673:return lX;case 5125:return cX;case 36294:return uX;case 36295:return fX;case 36296:return dX;case 35678:case 36198:case 36298:case 36306:case 35682:return hX;case 35679:case 36299:case 36307:return pX;case 35680:case 36300:case 36308:case 36293:return mX;case 36289:case 36303:case 36311:case 36292:return gX}}class yX{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.setValue=Q$(t.type)}}class _X{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.size=t.size,this.setValue=vX(t.type)}}class xX{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const a=i[s];a.setValue(e,t[a.id],r)}}}const rS=/(\w+)(\])?(\[|\.)?/g;function hR(n,e){n.seq.push(e),n.map[e.id]=e}function wX(n,e,t){const r=n.name,i=r.length;for(rS.lastIndex=0;;){const s=rS.exec(r),o=rS.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===i){hR(t,c===void 0?new yX(a,n,e):new _X(a,n,e));break}else{let f=t.map[a];f===void 0&&(f=new xX(a),hR(t,f)),t=f}}}class Wy{constructor(e,t){this.seq=[],this.map={};const r=e.getProgramParameter(t,35718);for(let i=0;i<r;++i){const s=e.getActiveUniform(t,i),o=e.getUniformLocation(t,s.name);wX(s,o,this)}}setValue(e,t,r,i){const s=this.map[t];s!==void 0&&s.setValue(e,r,i)}setOptional(e,t,r){const i=t[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,t,r,i){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,t){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in t&&r.push(o)}return r}}function pR(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}let SX=0;function AX(n,e){const t=n.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=i;o<s;o++){const a=o+1;r.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return r.join(`
`)}function bX(n){switch(n){case sc:return["Linear","( value )"];case vn:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",n),["Linear","( value )"]}}function mR(n,e,t){const r=n.getShaderParameter(e,35713),i=n.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+i+`

`+AX(n.getShaderSource(e),o)}else return i}function MX(n,e){const t=bX(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function CX(n,e){let t;switch(e){case b4:t="Linear";break;case M4:t="Reinhard";break;case C4:t="OptimizedCineon";break;case cC:t="ACESFilmic";break;case E4:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function EX(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.tangentSpaceNormalMap||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Wp).join(`
`)}function TX(n){const e=[];for(const t in n){const r=n[t];r!==!1&&e.push("#define "+t+" "+r)}return e.join(`
`)}function PX(n,e){const t={},r=n.getProgramParameter(e,35721);for(let i=0;i<r;i++){const s=n.getActiveAttrib(e,i),o=s.name;let a=1;s.type===35674&&(a=2),s.type===35675&&(a=3),s.type===35676&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}function Wp(n){return n!==""}function gR(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function vR(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const RX=/^[ \t]*#include +<([\w\d./]+)>/gm;function Xb(n){return n.replace(RX,DX)}function DX(n,e){const t=At[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return Xb(t)}const BX=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function yR(n){return n.replace(BX,IX)}function IX(n,e,t,r){let i="";for(let s=parseInt(e);s<parseInt(t);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function _R(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function LX(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===M_?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===im?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===du&&(e="SHADOWMAP_TYPE_VSM"),e}function kX(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case rc:case ic:e="ENVMAP_TYPE_CUBE";break;case xh:e="ENVMAP_TYPE_CUBE_UV";break}return e}function OX(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case ic:e="ENVMAP_MODE_REFRACTION";break}return e}function FX(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case Cg:e="ENVMAP_BLENDING_MULTIPLY";break;case S4:e="ENVMAP_BLENDING_MIX";break;case A4:e="ENVMAP_BLENDING_ADD";break}return e}function NX(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:r,maxMip:t}}function UX(n,e,t,r){const i=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=LX(t),c=kX(t),u=OX(t),f=FX(t),d=NX(t),m=t.isWebGL2?"":EX(t),g=TX(s),v=i.createProgram();let y,x,_=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(y=[g].filter(Wp).join(`
`),y.length>0&&(y+=`
`),x=[m,g].filter(Wp).join(`
`),x.length>0&&(x+=`
`)):(y=[_R(t),"#define SHADER_NAME "+t.shaderName,g,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Wp).join(`
`),x=[m,_R(t),"#define SHADER_NAME "+t.shaderName,g,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+u:"",t.envMap?"#define "+f:"",d?"#define CUBEUV_TEXEL_WIDTH "+d.texelWidth:"",d?"#define CUBEUV_TEXEL_HEIGHT "+d.texelHeight:"",d?"#define CUBEUV_MAX_MIP "+d.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==vo?"#define TONE_MAPPING":"",t.toneMapping!==vo?At.tonemapping_pars_fragment:"",t.toneMapping!==vo?CX("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",At.encodings_pars_fragment,MX("linearToOutputTexel",t.outputEncoding),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(Wp).join(`
`)),o=Xb(o),o=gR(o,t),o=vR(o,t),a=Xb(a),a=gR(a,t),a=vR(a,t),o=yR(o),a=yR(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(_=`#version 300 es
`,y=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+y,x=["#define varying in",t.glslVersion===Wb?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===Wb?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+x);const w=_+y+o,A=_+x+a,C=pR(i,35633,w),E=pR(i,35632,A);if(i.attachShader(v,C),i.attachShader(v,E),t.index0AttributeName!==void 0?i.bindAttribLocation(v,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(v,0,"position"),i.linkProgram(v),n.debug.checkShaderErrors){const R=i.getProgramInfoLog(v).trim(),D=i.getShaderInfoLog(C).trim(),L=i.getShaderInfoLog(E).trim();let N=!0,z=!0;if(i.getProgramParameter(v,35714)===!1){N=!1;const k=mR(i,C,"vertex"),V=mR(i,E,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(v,35715)+`

Program Info Log: `+R+`
`+k+`
`+V)}else R!==""?console.warn("THREE.WebGLProgram: Program Info Log:",R):(D===""||L==="")&&(z=!1);z&&(this.diagnostics={runnable:N,programLog:R,vertexShader:{log:D,prefix:y},fragmentShader:{log:L,prefix:x}})}i.deleteShader(C),i.deleteShader(E);let P;this.getUniforms=function(){return P===void 0&&(P=new Wy(i,v)),P};let b;return this.getAttributes=function(){return b===void 0&&(b=PX(i,v)),b},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(v),this.program=void 0},this.name=t.shaderName,this.id=SX++,this.cacheKey=e,this.usedTimes=1,this.program=v,this.vertexShader=C,this.fragmentShader=E,this}let zX=0;class GX{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(t),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let r=t.get(e);return r===void 0&&(r=new Set,t.set(e,r)),r}_getShaderStage(e){const t=this.shaderCache;let r=t.get(e);return r===void 0&&(r=new HX(e),t.set(e,r)),r}}class HX{constructor(e){this.id=zX++,this.code=e,this.usedTimes=0}}function VX(n,e,t,r,i,s,o){const a=new Eu,l=new GX,c=[],u=i.isWebGL2,f=i.logarithmicDepthBuffer,d=i.vertexTextures;let m=i.precision;const g={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function v(b,R,D,L,N){const z=L.fog,k=N.geometry,V=b.isMeshStandardMaterial?L.environment:null,W=(b.isMeshStandardMaterial?t:e).get(b.envMap||V),Y=W&&W.mapping===xh?W.image.height:null,O=g[b.type];b.precision!==null&&(m=i.getMaxPrecision(b.precision),m!==b.precision&&console.warn("THREE.WebGLProgram.getParameters:",b.precision,"not supported, using",m,"instead."));const U=k.morphAttributes.position||k.morphAttributes.normal||k.morphAttributes.color,H=U!==void 0?U.length:0;let G=0;k.morphAttributes.position!==void 0&&(G=1),k.morphAttributes.normal!==void 0&&(G=2),k.morphAttributes.color!==void 0&&(G=3);let X,Z,re,ie;if(O){const Se=ho[O];X=Se.vertexShader,Z=Se.fragmentShader}else X=b.vertexShader,Z=b.fragmentShader,l.update(b),re=l.getVertexShaderID(b),ie=l.getFragmentShaderID(b);const Q=n.getRenderTarget(),ue=b.alphaTest>0,he=b.clearcoat>0,be=b.iridescence>0;return{isWebGL2:u,shaderID:O,shaderName:b.type,vertexShader:X,fragmentShader:Z,defines:b.defines,customVertexShaderID:re,customFragmentShaderID:ie,isRawShaderMaterial:b.isRawShaderMaterial===!0,glslVersion:b.glslVersion,precision:m,instancing:N.isInstancedMesh===!0,instancingColor:N.isInstancedMesh===!0&&N.instanceColor!==null,supportsVertexTextures:d,outputEncoding:Q===null?n.outputEncoding:Q.isXRRenderTarget===!0?Q.texture.encoding:sc,map:!!b.map,matcap:!!b.matcap,envMap:!!W,envMapMode:W&&W.mapping,envMapCubeUVHeight:Y,lightMap:!!b.lightMap,aoMap:!!b.aoMap,emissiveMap:!!b.emissiveMap,bumpMap:!!b.bumpMap,normalMap:!!b.normalMap,objectSpaceNormalMap:b.normalMapType===J4,tangentSpaceNormalMap:b.normalMapType===_c,decodeVideoTexture:!!b.map&&b.map.isVideoTexture===!0&&b.map.encoding===vn,clearcoat:he,clearcoatMap:he&&!!b.clearcoatMap,clearcoatRoughnessMap:he&&!!b.clearcoatRoughnessMap,clearcoatNormalMap:he&&!!b.clearcoatNormalMap,iridescence:be,iridescenceMap:be&&!!b.iridescenceMap,iridescenceThicknessMap:be&&!!b.iridescenceThicknessMap,displacementMap:!!b.displacementMap,roughnessMap:!!b.roughnessMap,metalnessMap:!!b.metalnessMap,specularMap:!!b.specularMap,specularIntensityMap:!!b.specularIntensityMap,specularColorMap:!!b.specularColorMap,opaque:b.transparent===!1&&b.blending===Au,alphaMap:!!b.alphaMap,alphaTest:ue,gradientMap:!!b.gradientMap,sheen:b.sheen>0,sheenColorMap:!!b.sheenColorMap,sheenRoughnessMap:!!b.sheenRoughnessMap,transmission:b.transmission>0,transmissionMap:!!b.transmissionMap,thicknessMap:!!b.thicknessMap,combine:b.combine,vertexTangents:!!b.normalMap&&!!k.attributes.tangent,vertexColors:b.vertexColors,vertexAlphas:b.vertexColors===!0&&!!k.attributes.color&&k.attributes.color.itemSize===4,vertexUvs:!!b.map||!!b.bumpMap||!!b.normalMap||!!b.specularMap||!!b.alphaMap||!!b.emissiveMap||!!b.roughnessMap||!!b.metalnessMap||!!b.clearcoatMap||!!b.clearcoatRoughnessMap||!!b.clearcoatNormalMap||!!b.iridescenceMap||!!b.iridescenceThicknessMap||!!b.displacementMap||!!b.transmissionMap||!!b.thicknessMap||!!b.specularIntensityMap||!!b.specularColorMap||!!b.sheenColorMap||!!b.sheenRoughnessMap,uvsVertexOnly:!(b.map||b.bumpMap||b.normalMap||b.specularMap||b.alphaMap||b.emissiveMap||b.roughnessMap||b.metalnessMap||b.clearcoatNormalMap||b.iridescenceMap||b.iridescenceThicknessMap||b.transmission>0||b.transmissionMap||b.thicknessMap||b.specularIntensityMap||b.specularColorMap||b.sheen>0||b.sheenColorMap||b.sheenRoughnessMap)&&!!b.displacementMap,fog:!!z,useFog:b.fog===!0,fogExp2:z&&z.isFogExp2,flatShading:!!b.flatShading,sizeAttenuation:b.sizeAttenuation,logarithmicDepthBuffer:f,skinning:N.isSkinnedMesh===!0,morphTargets:k.morphAttributes.position!==void 0,morphNormals:k.morphAttributes.normal!==void 0,morphColors:k.morphAttributes.color!==void 0,morphTargetsCount:H,morphTextureStride:G,numDirLights:R.directional.length,numPointLights:R.point.length,numSpotLights:R.spot.length,numSpotLightMaps:R.spotLightMap.length,numRectAreaLights:R.rectArea.length,numHemiLights:R.hemi.length,numDirLightShadows:R.directionalShadowMap.length,numPointLightShadows:R.pointShadowMap.length,numSpotLightShadows:R.spotShadowMap.length,numSpotLightShadowsWithMaps:R.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:b.dithering,shadowMapEnabled:n.shadowMap.enabled&&D.length>0,shadowMapType:n.shadowMap.type,toneMapping:b.toneMapped?n.toneMapping:vo,physicallyCorrectLights:n.physicallyCorrectLights,premultipliedAlpha:b.premultipliedAlpha,doubleSided:b.side===Gs,flipSided:b.side===mi,useDepthPacking:!!b.depthPacking,depthPacking:b.depthPacking||0,index0AttributeName:b.index0AttributeName,extensionDerivatives:b.extensions&&b.extensions.derivatives,extensionFragDepth:b.extensions&&b.extensions.fragDepth,extensionDrawBuffers:b.extensions&&b.extensions.drawBuffers,extensionShaderTextureLOD:b.extensions&&b.extensions.shaderTextureLOD,rendererExtensionFragDepth:u||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||r.has("EXT_shader_texture_lod"),customProgramCacheKey:b.customProgramCacheKey()}}function y(b){const R=[];if(b.shaderID?R.push(b.shaderID):(R.push(b.customVertexShaderID),R.push(b.customFragmentShaderID)),b.defines!==void 0)for(const D in b.defines)R.push(D),R.push(b.defines[D]);return b.isRawShaderMaterial===!1&&(x(R,b),_(R,b),R.push(n.outputEncoding)),R.push(b.customProgramCacheKey),R.join()}function x(b,R){b.push(R.precision),b.push(R.outputEncoding),b.push(R.envMapMode),b.push(R.envMapCubeUVHeight),b.push(R.combine),b.push(R.vertexUvs),b.push(R.fogExp2),b.push(R.sizeAttenuation),b.push(R.morphTargetsCount),b.push(R.morphAttributeCount),b.push(R.numDirLights),b.push(R.numPointLights),b.push(R.numSpotLights),b.push(R.numSpotLightMaps),b.push(R.numHemiLights),b.push(R.numRectAreaLights),b.push(R.numDirLightShadows),b.push(R.numPointLightShadows),b.push(R.numSpotLightShadows),b.push(R.numSpotLightShadowsWithMaps),b.push(R.shadowMapType),b.push(R.toneMapping),b.push(R.numClippingPlanes),b.push(R.numClipIntersection),b.push(R.depthPacking)}function _(b,R){a.disableAll(),R.isWebGL2&&a.enable(0),R.supportsVertexTextures&&a.enable(1),R.instancing&&a.enable(2),R.instancingColor&&a.enable(3),R.map&&a.enable(4),R.matcap&&a.enable(5),R.envMap&&a.enable(6),R.lightMap&&a.enable(7),R.aoMap&&a.enable(8),R.emissiveMap&&a.enable(9),R.bumpMap&&a.enable(10),R.normalMap&&a.enable(11),R.objectSpaceNormalMap&&a.enable(12),R.tangentSpaceNormalMap&&a.enable(13),R.clearcoat&&a.enable(14),R.clearcoatMap&&a.enable(15),R.clearcoatRoughnessMap&&a.enable(16),R.clearcoatNormalMap&&a.enable(17),R.iridescence&&a.enable(18),R.iridescenceMap&&a.enable(19),R.iridescenceThicknessMap&&a.enable(20),R.displacementMap&&a.enable(21),R.specularMap&&a.enable(22),R.roughnessMap&&a.enable(23),R.metalnessMap&&a.enable(24),R.gradientMap&&a.enable(25),R.alphaMap&&a.enable(26),R.alphaTest&&a.enable(27),R.vertexColors&&a.enable(28),R.vertexAlphas&&a.enable(29),R.vertexUvs&&a.enable(30),R.vertexTangents&&a.enable(31),R.uvsVertexOnly&&a.enable(32),b.push(a.mask),a.disableAll(),R.fog&&a.enable(0),R.useFog&&a.enable(1),R.flatShading&&a.enable(2),R.logarithmicDepthBuffer&&a.enable(3),R.skinning&&a.enable(4),R.morphTargets&&a.enable(5),R.morphNormals&&a.enable(6),R.morphColors&&a.enable(7),R.premultipliedAlpha&&a.enable(8),R.shadowMapEnabled&&a.enable(9),R.physicallyCorrectLights&&a.enable(10),R.doubleSided&&a.enable(11),R.flipSided&&a.enable(12),R.useDepthPacking&&a.enable(13),R.dithering&&a.enable(14),R.specularIntensityMap&&a.enable(15),R.specularColorMap&&a.enable(16),R.transmission&&a.enable(17),R.transmissionMap&&a.enable(18),R.thicknessMap&&a.enable(19),R.sheen&&a.enable(20),R.sheenColorMap&&a.enable(21),R.sheenRoughnessMap&&a.enable(22),R.decodeVideoTexture&&a.enable(23),R.opaque&&a.enable(24),b.push(a.mask)}function w(b){const R=g[b.type];let D;if(R){const L=ho[R];D=D_.clone(L.uniforms)}else D=b.uniforms;return D}function A(b,R){let D;for(let L=0,N=c.length;L<N;L++){const z=c[L];if(z.cacheKey===R){D=z,++D.usedTimes;break}}return D===void 0&&(D=new UX(n,R,b,s),c.push(D)),D}function C(b){if(--b.usedTimes===0){const R=c.indexOf(b);c[R]=c[c.length-1],c.pop(),b.destroy()}}function E(b){l.remove(b)}function P(){l.dispose()}return{getParameters:v,getProgramCacheKey:y,getUniforms:w,acquireProgram:A,releaseProgram:C,releaseShaderCache:E,programs:c,dispose:P}}function WX(){let n=new WeakMap;function e(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function t(s){n.delete(s)}function r(s,o,a){n.get(s)[o]=a}function i(){n=new WeakMap}return{get:e,remove:t,update:r,dispose:i}}function jX(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function xR(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function wR(){const n=[];let e=0;const t=[],r=[],i=[];function s(){e=0,t.length=0,r.length=0,i.length=0}function o(f,d,m,g,v,y){let x=n[e];return x===void 0?(x={id:f.id,object:f,geometry:d,material:m,groupOrder:g,renderOrder:f.renderOrder,z:v,group:y},n[e]=x):(x.id=f.id,x.object=f,x.geometry=d,x.material=m,x.groupOrder=g,x.renderOrder=f.renderOrder,x.z=v,x.group=y),e++,x}function a(f,d,m,g,v,y){const x=o(f,d,m,g,v,y);m.transmission>0?r.push(x):m.transparent===!0?i.push(x):t.push(x)}function l(f,d,m,g,v,y){const x=o(f,d,m,g,v,y);m.transmission>0?r.unshift(x):m.transparent===!0?i.unshift(x):t.unshift(x)}function c(f,d){t.length>1&&t.sort(f||jX),r.length>1&&r.sort(d||xR),i.length>1&&i.sort(d||xR)}function u(){for(let f=e,d=n.length;f<d;f++){const m=n[f];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:t,transmissive:r,transparent:i,init:s,push:a,unshift:l,finish:u,sort:c}}function $X(){let n=new WeakMap;function e(r,i){const s=n.get(r);let o;return s===void 0?(o=new wR,n.set(r,[o])):i>=s.length?(o=new wR,s.push(o)):o=s[i],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function XX(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new $,color:new He};break;case"SpotLight":t={position:new $,direction:new $,color:new He,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new $,color:new He,distance:0,decay:0};break;case"HemisphereLight":t={direction:new $,skyColor:new He,groundColor:new He};break;case"RectAreaLight":t={color:new He,position:new $,halfWidth:new $,halfHeight:new $};break}return n[e.id]=t,t}}}function JX(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new De};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new De};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new De,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let KX=0;function YX(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function QX(n,e){const t=new XX,r=JX(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let u=0;u<9;u++)i.probe.push(new $);const s=new $,o=new qe,a=new qe;function l(u,f){let d=0,m=0,g=0;for(let L=0;L<9;L++)i.probe[L].set(0,0,0);let v=0,y=0,x=0,_=0,w=0,A=0,C=0,E=0,P=0,b=0;u.sort(YX);const R=f!==!0?Math.PI:1;for(let L=0,N=u.length;L<N;L++){const z=u[L],k=z.color,V=z.intensity,W=z.distance,Y=z.shadow&&z.shadow.map?z.shadow.map.texture:null;if(z.isAmbientLight)d+=k.r*V*R,m+=k.g*V*R,g+=k.b*V*R;else if(z.isLightProbe)for(let O=0;O<9;O++)i.probe[O].addScaledVector(z.sh.coefficients[O],V);else if(z.isDirectionalLight){const O=t.get(z);if(O.color.copy(z.color).multiplyScalar(z.intensity*R),z.castShadow){const U=z.shadow,H=r.get(z);H.shadowBias=U.bias,H.shadowNormalBias=U.normalBias,H.shadowRadius=U.radius,H.shadowMapSize=U.mapSize,i.directionalShadow[v]=H,i.directionalShadowMap[v]=Y,i.directionalShadowMatrix[v]=z.shadow.matrix,A++}i.directional[v]=O,v++}else if(z.isSpotLight){const O=t.get(z);O.position.setFromMatrixPosition(z.matrixWorld),O.color.copy(k).multiplyScalar(V*R),O.distance=W,O.coneCos=Math.cos(z.angle),O.penumbraCos=Math.cos(z.angle*(1-z.penumbra)),O.decay=z.decay,i.spot[x]=O;const U=z.shadow;if(z.map&&(i.spotLightMap[P]=z.map,P++,U.updateMatrices(z),z.castShadow&&b++),i.spotLightMatrix[x]=U.matrix,z.castShadow){const H=r.get(z);H.shadowBias=U.bias,H.shadowNormalBias=U.normalBias,H.shadowRadius=U.radius,H.shadowMapSize=U.mapSize,i.spotShadow[x]=H,i.spotShadowMap[x]=Y,E++}x++}else if(z.isRectAreaLight){const O=t.get(z);O.color.copy(k).multiplyScalar(V),O.halfWidth.set(z.width*.5,0,0),O.halfHeight.set(0,z.height*.5,0),i.rectArea[_]=O,_++}else if(z.isPointLight){const O=t.get(z);if(O.color.copy(z.color).multiplyScalar(z.intensity*R),O.distance=z.distance,O.decay=z.decay,z.castShadow){const U=z.shadow,H=r.get(z);H.shadowBias=U.bias,H.shadowNormalBias=U.normalBias,H.shadowRadius=U.radius,H.shadowMapSize=U.mapSize,H.shadowCameraNear=U.camera.near,H.shadowCameraFar=U.camera.far,i.pointShadow[y]=H,i.pointShadowMap[y]=Y,i.pointShadowMatrix[y]=z.shadow.matrix,C++}i.point[y]=O,y++}else if(z.isHemisphereLight){const O=t.get(z);O.skyColor.copy(z.color).multiplyScalar(V*R),O.groundColor.copy(z.groundColor).multiplyScalar(V*R),i.hemi[w]=O,w++}}_>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Je.LTC_FLOAT_1,i.rectAreaLTC2=Je.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=Je.LTC_HALF_1,i.rectAreaLTC2=Je.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=d,i.ambient[1]=m,i.ambient[2]=g;const D=i.hash;(D.directionalLength!==v||D.pointLength!==y||D.spotLength!==x||D.rectAreaLength!==_||D.hemiLength!==w||D.numDirectionalShadows!==A||D.numPointShadows!==C||D.numSpotShadows!==E||D.numSpotMaps!==P)&&(i.directional.length=v,i.spot.length=x,i.rectArea.length=_,i.point.length=y,i.hemi.length=w,i.directionalShadow.length=A,i.directionalShadowMap.length=A,i.pointShadow.length=C,i.pointShadowMap.length=C,i.spotShadow.length=E,i.spotShadowMap.length=E,i.directionalShadowMatrix.length=A,i.pointShadowMatrix.length=C,i.spotLightMatrix.length=E+P-b,i.spotLightMap.length=P,i.numSpotLightShadowsWithMaps=b,D.directionalLength=v,D.pointLength=y,D.spotLength=x,D.rectAreaLength=_,D.hemiLength=w,D.numDirectionalShadows=A,D.numPointShadows=C,D.numSpotShadows=E,D.numSpotMaps=P,i.version=KX++)}function c(u,f){let d=0,m=0,g=0,v=0,y=0;const x=f.matrixWorldInverse;for(let _=0,w=u.length;_<w;_++){const A=u[_];if(A.isDirectionalLight){const C=i.directional[d];C.direction.setFromMatrixPosition(A.matrixWorld),s.setFromMatrixPosition(A.target.matrixWorld),C.direction.sub(s),C.direction.transformDirection(x),d++}else if(A.isSpotLight){const C=i.spot[g];C.position.setFromMatrixPosition(A.matrixWorld),C.position.applyMatrix4(x),C.direction.setFromMatrixPosition(A.matrixWorld),s.setFromMatrixPosition(A.target.matrixWorld),C.direction.sub(s),C.direction.transformDirection(x),g++}else if(A.isRectAreaLight){const C=i.rectArea[v];C.position.setFromMatrixPosition(A.matrixWorld),C.position.applyMatrix4(x),a.identity(),o.copy(A.matrixWorld),o.premultiply(x),a.extractRotation(o),C.halfWidth.set(A.width*.5,0,0),C.halfHeight.set(0,A.height*.5,0),C.halfWidth.applyMatrix4(a),C.halfHeight.applyMatrix4(a),v++}else if(A.isPointLight){const C=i.point[m];C.position.setFromMatrixPosition(A.matrixWorld),C.position.applyMatrix4(x),m++}else if(A.isHemisphereLight){const C=i.hemi[y];C.direction.setFromMatrixPosition(A.matrixWorld),C.direction.transformDirection(x),y++}}}return{setup:l,setupView:c,state:i}}function SR(n,e){const t=new QX(n,e),r=[],i=[];function s(){r.length=0,i.length=0}function o(f){r.push(f)}function a(f){i.push(f)}function l(f){t.setup(r,f)}function c(f){t.setupView(r,f)}return{init:s,state:{lightsArray:r,shadowsArray:i,lights:t},setupLights:l,setupLightsView:c,pushLight:o,pushShadow:a}}function qX(n,e){let t=new WeakMap;function r(s,o=0){const a=t.get(s);let l;return a===void 0?(l=new SR(n,e),t.set(s,[l])):o>=a.length?(l=new SR(n,e),a.push(l)):l=a[o],l}function i(){t=new WeakMap}return{get:r,dispose:i}}class L_ extends ir{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=X4,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class k_ extends ir{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new $,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const ZX=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,eJ=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function tJ(n,e,t){let r=new B_;const i=new De,s=new De,o=new Ct,a=new L_({depthPacking:hC}),l=new k_,c={},u=t.maxTextureSize,f={0:mi,1:za,2:Gs},d=new So({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new De},radius:{value:4}},vertexShader:ZX,fragmentShader:eJ}),m=d.clone();m.defines.HORIZONTAL_PASS=1;const g=new ht;g.setAttribute("position",new Jt(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const v=new Nn(g,d),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=M_,this.render=function(A,C,E){if(y.enabled===!1||y.autoUpdate===!1&&y.needsUpdate===!1||A.length===0)return;const P=n.getRenderTarget(),b=n.getActiveCubeFace(),R=n.getActiveMipmapLevel(),D=n.state;D.setBlending(Ba),D.buffers.color.setClear(1,1,1,1),D.buffers.depth.setTest(!0),D.setScissorTest(!1);for(let L=0,N=A.length;L<N;L++){const z=A[L],k=z.shadow;if(k===void 0){console.warn("THREE.WebGLShadowMap:",z,"has no shadow.");continue}if(k.autoUpdate===!1&&k.needsUpdate===!1)continue;i.copy(k.mapSize);const V=k.getFrameExtents();if(i.multiply(V),s.copy(k.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(s.x=Math.floor(u/V.x),i.x=s.x*V.x,k.mapSize.x=s.x),i.y>u&&(s.y=Math.floor(u/V.y),i.y=s.y*V.y,k.mapSize.y=s.y)),k.map===null){const Y=this.type!==du?{minFilter:Yn,magFilter:Yn}:{};k.map=new Ks(i.x,i.y,Y),k.map.texture.name=z.name+".shadowMap",k.camera.updateProjectionMatrix()}n.setRenderTarget(k.map),n.clear();const W=k.getViewportCount();for(let Y=0;Y<W;Y++){const O=k.getViewport(Y);o.set(s.x*O.x,s.y*O.y,s.x*O.z,s.y*O.w),D.viewport(o),k.updateMatrices(z,Y),r=k.getFrustum(),w(C,E,k.camera,z,this.type)}k.isPointLightShadow!==!0&&this.type===du&&x(k,E),k.needsUpdate=!1}y.needsUpdate=!1,n.setRenderTarget(P,b,R)};function x(A,C){const E=e.update(v);d.defines.VSM_SAMPLES!==A.blurSamples&&(d.defines.VSM_SAMPLES=A.blurSamples,m.defines.VSM_SAMPLES=A.blurSamples,d.needsUpdate=!0,m.needsUpdate=!0),A.mapPass===null&&(A.mapPass=new Ks(i.x,i.y)),d.uniforms.shadow_pass.value=A.map.texture,d.uniforms.resolution.value=A.mapSize,d.uniforms.radius.value=A.radius,n.setRenderTarget(A.mapPass),n.clear(),n.renderBufferDirect(C,null,E,d,v,null),m.uniforms.shadow_pass.value=A.mapPass.texture,m.uniforms.resolution.value=A.mapSize,m.uniforms.radius.value=A.radius,n.setRenderTarget(A.map),n.clear(),n.renderBufferDirect(C,null,E,m,v,null)}function _(A,C,E,P,b,R){let D=null;const L=E.isPointLight===!0?A.customDistanceMaterial:A.customDepthMaterial;if(L!==void 0?D=L:D=E.isPointLight===!0?l:a,n.localClippingEnabled&&C.clipShadows===!0&&Array.isArray(C.clippingPlanes)&&C.clippingPlanes.length!==0||C.displacementMap&&C.displacementScale!==0||C.alphaMap&&C.alphaTest>0){const N=D.uuid,z=C.uuid;let k=c[N];k===void 0&&(k={},c[N]=k);let V=k[z];V===void 0&&(V=D.clone(),k[z]=V),D=V}return D.visible=C.visible,D.wireframe=C.wireframe,R===du?D.side=C.shadowSide!==null?C.shadowSide:C.side:D.side=C.shadowSide!==null?C.shadowSide:f[C.side],D.alphaMap=C.alphaMap,D.alphaTest=C.alphaTest,D.clipShadows=C.clipShadows,D.clippingPlanes=C.clippingPlanes,D.clipIntersection=C.clipIntersection,D.displacementMap=C.displacementMap,D.displacementScale=C.displacementScale,D.displacementBias=C.displacementBias,D.wireframeLinewidth=C.wireframeLinewidth,D.linewidth=C.linewidth,E.isPointLight===!0&&D.isMeshDistanceMaterial===!0&&(D.referencePosition.setFromMatrixPosition(E.matrixWorld),D.nearDistance=P,D.farDistance=b),D}function w(A,C,E,P,b){if(A.visible===!1)return;if(A.layers.test(C.layers)&&(A.isMesh||A.isLine||A.isPoints)&&(A.castShadow||A.receiveShadow&&b===du)&&(!A.frustumCulled||r.intersectsObject(A))){A.modelViewMatrix.multiplyMatrices(E.matrixWorldInverse,A.matrixWorld);const L=e.update(A),N=A.material;if(Array.isArray(N)){const z=L.groups;for(let k=0,V=z.length;k<V;k++){const W=z[k],Y=N[W.materialIndex];if(Y&&Y.visible){const O=_(A,Y,P,E.near,E.far,b);n.renderBufferDirect(E,null,L,O,A,W)}}}else if(N.visible){const z=_(A,N,P,E.near,E.far,b);n.renderBufferDirect(E,null,L,z,A,null)}}const D=A.children;for(let L=0,N=D.length;L<N;L++)w(D[L],C,E,P,b)}}function nJ(n,e,t){const r=t.isWebGL2;function i(){let te=!1;const me=new Ct;let ke=null;const Xe=new Ct(0,0,0,0);return{setMask:function(tt){ke!==tt&&!te&&(n.colorMask(tt,tt,tt,tt),ke=tt)},setLocked:function(tt){te=tt},setClear:function(tt,_t,Nt,Wt,zt){zt===!0&&(tt*=Wt,_t*=Wt,Nt*=Wt),me.set(tt,_t,Nt,Wt),Xe.equals(me)===!1&&(n.clearColor(tt,_t,Nt,Wt),Xe.copy(me))},reset:function(){te=!1,ke=null,Xe.set(-1,0,0,0)}}}function s(){let te=!1,me=null,ke=null,Xe=null;return{setTest:function(tt){tt?ue(2929):he(2929)},setMask:function(tt){me!==tt&&!te&&(n.depthMask(tt),me=tt)},setFunc:function(tt){if(ke!==tt){switch(tt){case m4:n.depthFunc(512);break;case g4:n.depthFunc(519);break;case v4:n.depthFunc(513);break;case A1:n.depthFunc(515);break;case y4:n.depthFunc(514);break;case _4:n.depthFunc(518);break;case x4:n.depthFunc(516);break;case w4:n.depthFunc(517);break;default:n.depthFunc(515)}ke=tt}},setLocked:function(tt){te=tt},setClear:function(tt){Xe!==tt&&(n.clearDepth(tt),Xe=tt)},reset:function(){te=!1,me=null,ke=null,Xe=null}}}function o(){let te=!1,me=null,ke=null,Xe=null,tt=null,_t=null,Nt=null,Wt=null,zt=null;return{setTest:function(Gt){te||(Gt?ue(2960):he(2960))},setMask:function(Gt){me!==Gt&&!te&&(n.stencilMask(Gt),me=Gt)},setFunc:function(Gt,Ut,Dt){(ke!==Gt||Xe!==Ut||tt!==Dt)&&(n.stencilFunc(Gt,Ut,Dt),ke=Gt,Xe=Ut,tt=Dt)},setOp:function(Gt,Ut,Dt){(_t!==Gt||Nt!==Ut||Wt!==Dt)&&(n.stencilOp(Gt,Ut,Dt),_t=Gt,Nt=Ut,Wt=Dt)},setLocked:function(Gt){te=Gt},setClear:function(Gt){zt!==Gt&&(n.clearStencil(Gt),zt=Gt)},reset:function(){te=!1,me=null,ke=null,Xe=null,tt=null,_t=null,Nt=null,Wt=null,zt=null}}}const a=new i,l=new s,c=new o,u=new WeakMap,f=new WeakMap;let d={},m={},g=new WeakMap,v=[],y=null,x=!1,_=null,w=null,A=null,C=null,E=null,P=null,b=null,R=!1,D=null,L=null,N=null,z=null,k=null;const V=n.getParameter(35661);let W=!1,Y=0;const O=n.getParameter(7938);O.indexOf("WebGL")!==-1?(Y=parseFloat(/^WebGL (\d)/.exec(O)[1]),W=Y>=1):O.indexOf("OpenGL ES")!==-1&&(Y=parseFloat(/^OpenGL ES (\d)/.exec(O)[1]),W=Y>=2);let U=null,H={};const G=n.getParameter(3088),X=n.getParameter(2978),Z=new Ct().fromArray(G),re=new Ct().fromArray(X);function ie(te,me,ke){const Xe=new Uint8Array(4),tt=n.createTexture();n.bindTexture(te,tt),n.texParameteri(te,10241,9728),n.texParameteri(te,10240,9728);for(let _t=0;_t<ke;_t++)n.texImage2D(me+_t,0,6408,1,1,0,6408,5121,Xe);return tt}const Q={};Q[3553]=ie(3553,3553,1),Q[34067]=ie(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),ue(2929),l.setFunc(A1),Ae(!1),je(vb),ue(2884),Ee(Ba);function ue(te){d[te]!==!0&&(n.enable(te),d[te]=!0)}function he(te){d[te]!==!1&&(n.disable(te),d[te]=!1)}function be(te,me){return m[te]!==me?(n.bindFramebuffer(te,me),m[te]=me,r&&(te===36009&&(m[36160]=me),te===36160&&(m[36009]=me)),!0):!1}function ye(te,me){let ke=v,Xe=!1;if(te)if(ke=g.get(me),ke===void 0&&(ke=[],g.set(me,ke)),te.isWebGLMultipleRenderTargets){const tt=te.texture;if(ke.length!==tt.length||ke[0]!==36064){for(let _t=0,Nt=tt.length;_t<Nt;_t++)ke[_t]=36064+_t;ke.length=tt.length,Xe=!0}}else ke[0]!==36064&&(ke[0]=36064,Xe=!0);else ke[0]!==1029&&(ke[0]=1029,Xe=!0);Xe&&(t.isWebGL2?n.drawBuffers(ke):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(ke))}function Se(te){return y!==te?(n.useProgram(te),y=te,!0):!1}const ne={[au]:32774,[i4]:32778,[s4]:32779};if(r)ne[wb]=32775,ne[Sb]=32776;else{const te=e.get("EXT_blend_minmax");te!==null&&(ne[wb]=te.MIN_EXT,ne[Sb]=te.MAX_EXT)}const le={[o4]:0,[a4]:1,[l4]:768,[aC]:770,[p4]:776,[d4]:774,[u4]:772,[c4]:769,[lC]:771,[h4]:775,[f4]:773};function Ee(te,me,ke,Xe,tt,_t,Nt,Wt){if(te===Ba){x===!0&&(he(3042),x=!1);return}if(x===!1&&(ue(3042),x=!0),te!==r4){if(te!==_||Wt!==R){if((w!==au||E!==au)&&(n.blendEquation(32774),w=au,E=au),Wt)switch(te){case Au:n.blendFuncSeparate(1,771,1,771);break;case yb:n.blendFunc(1,1);break;case _b:n.blendFuncSeparate(0,769,0,1);break;case xb:n.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",te);break}else switch(te){case Au:n.blendFuncSeparate(770,771,1,771);break;case yb:n.blendFunc(770,1);break;case _b:n.blendFuncSeparate(0,769,0,1);break;case xb:n.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",te);break}A=null,C=null,P=null,b=null,_=te,R=Wt}return}tt=tt||me,_t=_t||ke,Nt=Nt||Xe,(me!==w||tt!==E)&&(n.blendEquationSeparate(ne[me],ne[tt]),w=me,E=tt),(ke!==A||Xe!==C||_t!==P||Nt!==b)&&(n.blendFuncSeparate(le[ke],le[Xe],le[_t],le[Nt]),A=ke,C=Xe,P=_t,b=Nt),_=te,R=null}function Ce(te,me){te.side===Gs?he(2884):ue(2884);let ke=te.side===mi;me&&(ke=!ke),Ae(ke),te.blending===Au&&te.transparent===!1?Ee(Ba):Ee(te.blending,te.blendEquation,te.blendSrc,te.blendDst,te.blendEquationAlpha,te.blendSrcAlpha,te.blendDstAlpha,te.premultipliedAlpha),l.setFunc(te.depthFunc),l.setTest(te.depthTest),l.setMask(te.depthWrite),a.setMask(te.colorWrite);const Xe=te.stencilWrite;c.setTest(Xe),Xe&&(c.setMask(te.stencilWriteMask),c.setFunc(te.stencilFunc,te.stencilRef,te.stencilFuncMask),c.setOp(te.stencilFail,te.stencilZFail,te.stencilZPass)),Le(te.polygonOffset,te.polygonOffsetFactor,te.polygonOffsetUnits),te.alphaToCoverage===!0?ue(32926):he(32926)}function Ae(te){D!==te&&(te?n.frontFace(2304):n.frontFace(2305),D=te)}function je(te){te!==e4?(ue(2884),te!==L&&(te===vb?n.cullFace(1029):te===t4?n.cullFace(1028):n.cullFace(1032))):he(2884),L=te}function we(te){te!==N&&(W&&n.lineWidth(te),N=te)}function Le(te,me,ke){te?(ue(32823),(z!==me||k!==ke)&&(n.polygonOffset(me,ke),z=me,k=ke)):he(32823)}function Ue(te){te?ue(3089):he(3089)}function _e(te){te===void 0&&(te=33984+V-1),U!==te&&(n.activeTexture(te),U=te)}function j(te,me,ke){ke===void 0&&(U===null?ke=33984+V-1:ke=U);let Xe=H[ke];Xe===void 0&&(Xe={type:void 0,texture:void 0},H[ke]=Xe),(Xe.type!==te||Xe.texture!==me)&&(U!==ke&&(n.activeTexture(ke),U=ke),n.bindTexture(te,me||Q[te]),Xe.type=te,Xe.texture=me)}function F(){const te=H[U];te!==void 0&&te.type!==void 0&&(n.bindTexture(te.type,null),te.type=void 0,te.texture=void 0)}function q(){try{n.compressedTexImage2D.apply(n,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function de(){try{n.compressedTexImage3D.apply(n,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function Te(){try{n.texSubImage2D.apply(n,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function Re(){try{n.texSubImage3D.apply(n,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function Oe(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function Be(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function ge(){try{n.texStorage2D.apply(n,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function We(){try{n.texStorage3D.apply(n,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function Fe(){try{n.texImage2D.apply(n,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function ze(){try{n.texImage3D.apply(n,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function Ne(te){Z.equals(te)===!1&&(n.scissor(te.x,te.y,te.z,te.w),Z.copy(te))}function Ie(te){re.equals(te)===!1&&(n.viewport(te.x,te.y,te.z,te.w),re.copy(te))}function $e(te,me){let ke=f.get(me);ke===void 0&&(ke=new WeakMap,f.set(me,ke));let Xe=ke.get(te);Xe===void 0&&(Xe=n.getUniformBlockIndex(me,te.name),ke.set(te,Xe))}function st(te,me){const Xe=f.get(me).get(te);u.get(te)!==Xe&&(n.uniformBlockBinding(me,Xe,te.__bindingPointIndex),u.set(te,Xe))}function gt(){n.disable(3042),n.disable(2884),n.disable(2929),n.disable(32823),n.disable(3089),n.disable(2960),n.disable(32926),n.blendEquation(32774),n.blendFunc(1,0),n.blendFuncSeparate(1,0,1,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(513),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(519,0,4294967295),n.stencilOp(7680,7680,7680),n.clearStencil(0),n.cullFace(1029),n.frontFace(2305),n.polygonOffset(0,0),n.activeTexture(33984),n.bindFramebuffer(36160,null),r===!0&&(n.bindFramebuffer(36009,null),n.bindFramebuffer(36008,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),d={},U=null,H={},m={},g=new WeakMap,v=[],y=null,x=!1,_=null,w=null,A=null,C=null,E=null,P=null,b=null,R=!1,D=null,L=null,N=null,z=null,k=null,Z.set(0,0,n.canvas.width,n.canvas.height),re.set(0,0,n.canvas.width,n.canvas.height),a.reset(),l.reset(),c.reset()}return{buffers:{color:a,depth:l,stencil:c},enable:ue,disable:he,bindFramebuffer:be,drawBuffers:ye,useProgram:Se,setBlending:Ee,setMaterial:Ce,setFlipSided:Ae,setCullFace:je,setLineWidth:we,setPolygonOffset:Le,setScissorTest:Ue,activeTexture:_e,bindTexture:j,unbindTexture:F,compressedTexImage2D:q,compressedTexImage3D:de,texImage2D:Fe,texImage3D:ze,updateUBOMapping:$e,uniformBlockBinding:st,texStorage2D:ge,texStorage3D:We,texSubImage2D:Te,texSubImage3D:Re,compressedTexSubImage2D:Oe,compressedTexSubImage3D:Be,scissor:Ne,viewport:Ie,reset:gt}}function rJ(n,e,t,r,i,s,o){const a=i.isWebGL2,l=i.maxTextures,c=i.maxCubemapSize,u=i.maxTextureSize,f=i.maxSamples,d=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,m=/OculusBrowser/g.test(typeof navigator>"u"?"":navigator.userAgent),g=new WeakMap;let v;const y=new WeakMap;let x=!1;try{x=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function _(j,F){return x?new OffscreenCanvas(j,F):Km("canvas")}function w(j,F,q,de){let Te=1;if((j.width>de||j.height>de)&&(Te=de/Math.max(j.width,j.height)),Te<1||F===!0)if(typeof HTMLImageElement<"u"&&j instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&j instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&j instanceof ImageBitmap){const Re=F?C1:Math.floor,Oe=Re(Te*j.width),Be=Re(Te*j.height);v===void 0&&(v=_(Oe,Be));const ge=q?_(Oe,Be):v;return ge.width=Oe,ge.height=Be,ge.getContext("2d").drawImage(j,0,0,Oe,Be),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+j.width+"x"+j.height+") to ("+Oe+"x"+Be+")."),ge}else return"data"in j&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+j.width+"x"+j.height+")."),j;return j}function A(j){return jb(j.width)&&jb(j.height)}function C(j){return a?!1:j.wrapS!==cr||j.wrapT!==cr||j.minFilter!==Yn&&j.minFilter!==fn}function E(j,F){return j.generateMipmaps&&F&&j.minFilter!==Yn&&j.minFilter!==fn}function P(j){n.generateMipmap(j)}function b(j,F,q,de,Te=!1){if(a===!1)return F;if(j!==null){if(n[j]!==void 0)return n[j];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+j+"'")}let Re=F;return F===6403&&(q===5126&&(Re=33326),q===5131&&(Re=33325),q===5121&&(Re=33321)),F===33319&&(q===5126&&(Re=33328),q===5131&&(Re=33327),q===5121&&(Re=33323)),F===6408&&(q===5126&&(Re=34836),q===5131&&(Re=34842),q===5121&&(Re=de===vn&&Te===!1?35907:32856),q===32819&&(Re=32854),q===32820&&(Re=32855)),(Re===33325||Re===33326||Re===33327||Re===33328||Re===34842||Re===34836)&&e.get("EXT_color_buffer_float"),Re}function R(j,F,q){return E(j,q)===!0||j.isFramebufferTexture&&j.minFilter!==Yn&&j.minFilter!==fn?Math.log2(Math.max(F.width,F.height))+1:j.mipmaps!==void 0&&j.mipmaps.length>0?j.mipmaps.length:j.isCompressedTexture&&Array.isArray(j.image)?F.mipmaps.length:1}function D(j){return j===Yn||j===Wm||j===jm?9728:9729}function L(j){const F=j.target;F.removeEventListener("dispose",L),z(F),F.isVideoTexture&&g.delete(F)}function N(j){const F=j.target;F.removeEventListener("dispose",N),V(F)}function z(j){const F=r.get(j);if(F.__webglInit===void 0)return;const q=j.source,de=y.get(q);if(de){const Te=de[F.__cacheKey];Te.usedTimes--,Te.usedTimes===0&&k(j),Object.keys(de).length===0&&y.delete(q)}r.remove(j)}function k(j){const F=r.get(j);n.deleteTexture(F.__webglTexture);const q=j.source,de=y.get(q);delete de[F.__cacheKey],o.memory.textures--}function V(j){const F=j.texture,q=r.get(j),de=r.get(F);if(de.__webglTexture!==void 0&&(n.deleteTexture(de.__webglTexture),o.memory.textures--),j.depthTexture&&j.depthTexture.dispose(),j.isWebGLCubeRenderTarget)for(let Te=0;Te<6;Te++)n.deleteFramebuffer(q.__webglFramebuffer[Te]),q.__webglDepthbuffer&&n.deleteRenderbuffer(q.__webglDepthbuffer[Te]);else{if(n.deleteFramebuffer(q.__webglFramebuffer),q.__webglDepthbuffer&&n.deleteRenderbuffer(q.__webglDepthbuffer),q.__webglMultisampledFramebuffer&&n.deleteFramebuffer(q.__webglMultisampledFramebuffer),q.__webglColorRenderbuffer)for(let Te=0;Te<q.__webglColorRenderbuffer.length;Te++)q.__webglColorRenderbuffer[Te]&&n.deleteRenderbuffer(q.__webglColorRenderbuffer[Te]);q.__webglDepthRenderbuffer&&n.deleteRenderbuffer(q.__webglDepthRenderbuffer)}if(j.isWebGLMultipleRenderTargets)for(let Te=0,Re=F.length;Te<Re;Te++){const Oe=r.get(F[Te]);Oe.__webglTexture&&(n.deleteTexture(Oe.__webglTexture),o.memory.textures--),r.remove(F[Te])}r.remove(F),r.remove(j)}let W=0;function Y(){W=0}function O(){const j=W;return j>=l&&console.warn("THREE.WebGLTextures: Trying to use "+j+" texture units while this GPU supports only "+l),W+=1,j}function U(j){const F=[];return F.push(j.wrapS),F.push(j.wrapT),F.push(j.wrapR||0),F.push(j.magFilter),F.push(j.minFilter),F.push(j.anisotropy),F.push(j.internalFormat),F.push(j.format),F.push(j.type),F.push(j.generateMipmaps),F.push(j.premultiplyAlpha),F.push(j.flipY),F.push(j.unpackAlignment),F.push(j.encoding),F.join()}function H(j,F){const q=r.get(j);if(j.isVideoTexture&&Ue(j),j.isRenderTargetTexture===!1&&j.version>0&&q.__version!==j.version){const de=j.image;if(de===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(de.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{he(q,j,F);return}}t.bindTexture(3553,q.__webglTexture,33984+F)}function G(j,F){const q=r.get(j);if(j.version>0&&q.__version!==j.version){he(q,j,F);return}t.bindTexture(35866,q.__webglTexture,33984+F)}function X(j,F){const q=r.get(j);if(j.version>0&&q.__version!==j.version){he(q,j,F);return}t.bindTexture(32879,q.__webglTexture,33984+F)}function Z(j,F){const q=r.get(j);if(j.version>0&&q.__version!==j.version){be(q,j,F);return}t.bindTexture(34067,q.__webglTexture,33984+F)}const re={[Ko]:10497,[cr]:33071,[Zd]:33648},ie={[Yn]:9728,[Wm]:9984,[jm]:9986,[fn]:9729,[E_]:9985,[Ya]:9987};function Q(j,F,q){if(q?(n.texParameteri(j,10242,re[F.wrapS]),n.texParameteri(j,10243,re[F.wrapT]),(j===32879||j===35866)&&n.texParameteri(j,32882,re[F.wrapR]),n.texParameteri(j,10240,ie[F.magFilter]),n.texParameteri(j,10241,ie[F.minFilter])):(n.texParameteri(j,10242,33071),n.texParameteri(j,10243,33071),(j===32879||j===35866)&&n.texParameteri(j,32882,33071),(F.wrapS!==cr||F.wrapT!==cr)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(j,10240,D(F.magFilter)),n.texParameteri(j,10241,D(F.minFilter)),F.minFilter!==Yn&&F.minFilter!==fn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const de=e.get("EXT_texture_filter_anisotropic");if(F.type===Ta&&e.has("OES_texture_float_linear")===!1||a===!1&&F.type===eh&&e.has("OES_texture_half_float_linear")===!1)return;(F.anisotropy>1||r.get(F).__currentAnisotropy)&&(n.texParameterf(j,de.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(F.anisotropy,i.getMaxAnisotropy())),r.get(F).__currentAnisotropy=F.anisotropy)}}function ue(j,F){let q=!1;j.__webglInit===void 0&&(j.__webglInit=!0,F.addEventListener("dispose",L));const de=F.source;let Te=y.get(de);Te===void 0&&(Te={},y.set(de,Te));const Re=U(F);if(Re!==j.__cacheKey){Te[Re]===void 0&&(Te[Re]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,q=!0),Te[Re].usedTimes++;const Oe=Te[j.__cacheKey];Oe!==void 0&&(Te[j.__cacheKey].usedTimes--,Oe.usedTimes===0&&k(F)),j.__cacheKey=Re,j.__webglTexture=Te[Re].texture}return q}function he(j,F,q){let de=3553;(F.isDataArrayTexture||F.isCompressedArrayTexture)&&(de=35866),F.isData3DTexture&&(de=32879);const Te=ue(j,F),Re=F.source;t.bindTexture(de,j.__webglTexture,33984+q);const Oe=r.get(Re);if(Re.version!==Oe.__version||Te===!0){t.activeTexture(33984+q),n.pixelStorei(37440,F.flipY),n.pixelStorei(37441,F.premultiplyAlpha),n.pixelStorei(3317,F.unpackAlignment),n.pixelStorei(37443,0);const Be=C(F)&&A(F.image)===!1;let ge=w(F.image,Be,!1,u);ge=_e(F,ge);const We=A(ge)||a,Fe=s.convert(F.format,F.encoding);let ze=s.convert(F.type),Ne=b(F.internalFormat,Fe,ze,F.encoding,F.isVideoTexture);Q(de,F,We);let Ie;const $e=F.mipmaps,st=a&&F.isVideoTexture!==!0,gt=Oe.__version===void 0||Te===!0,te=R(F,ge,We);if(F.isDepthTexture)Ne=6402,a?F.type===Ta?Ne=36012:F.type===Nl?Ne=33190:F.type===bu?Ne=35056:Ne=33189:F.type===Ta&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),F.format===ql&&Ne===6402&&F.type!==uC&&F.type!==Nl&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),F.type=Nl,ze=s.convert(F.type)),F.format===Gu&&Ne===6402&&(Ne=34041,F.type!==bu&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),F.type=bu,ze=s.convert(F.type))),gt&&(st?t.texStorage2D(3553,1,Ne,ge.width,ge.height):t.texImage2D(3553,0,Ne,ge.width,ge.height,0,Fe,ze,null));else if(F.isDataTexture)if($e.length>0&&We){st&&gt&&t.texStorage2D(3553,te,Ne,$e[0].width,$e[0].height);for(let me=0,ke=$e.length;me<ke;me++)Ie=$e[me],st?t.texSubImage2D(3553,me,0,0,Ie.width,Ie.height,Fe,ze,Ie.data):t.texImage2D(3553,me,Ne,Ie.width,Ie.height,0,Fe,ze,Ie.data);F.generateMipmaps=!1}else st?(gt&&t.texStorage2D(3553,te,Ne,ge.width,ge.height),t.texSubImage2D(3553,0,0,0,ge.width,ge.height,Fe,ze,ge.data)):t.texImage2D(3553,0,Ne,ge.width,ge.height,0,Fe,ze,ge.data);else if(F.isCompressedTexture)if(F.isCompressedArrayTexture){st&&gt&&t.texStorage3D(35866,te,Ne,$e[0].width,$e[0].height,ge.depth);for(let me=0,ke=$e.length;me<ke;me++)Ie=$e[me],F.format!==Ci?Fe!==null?st?t.compressedTexSubImage3D(35866,me,0,0,0,Ie.width,Ie.height,ge.depth,Fe,Ie.data,0,0):t.compressedTexImage3D(35866,me,Ne,Ie.width,Ie.height,ge.depth,0,Ie.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):st?t.texSubImage3D(35866,me,0,0,0,Ie.width,Ie.height,ge.depth,Fe,ze,Ie.data):t.texImage3D(35866,me,Ne,Ie.width,Ie.height,ge.depth,0,Fe,ze,Ie.data)}else{st&&gt&&t.texStorage2D(3553,te,Ne,$e[0].width,$e[0].height);for(let me=0,ke=$e.length;me<ke;me++)Ie=$e[me],F.format!==Ci?Fe!==null?st?t.compressedTexSubImage2D(3553,me,0,0,Ie.width,Ie.height,Fe,Ie.data):t.compressedTexImage2D(3553,me,Ne,Ie.width,Ie.height,0,Ie.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):st?t.texSubImage2D(3553,me,0,0,Ie.width,Ie.height,Fe,ze,Ie.data):t.texImage2D(3553,me,Ne,Ie.width,Ie.height,0,Fe,ze,Ie.data)}else if(F.isDataArrayTexture)st?(gt&&t.texStorage3D(35866,te,Ne,ge.width,ge.height,ge.depth),t.texSubImage3D(35866,0,0,0,0,ge.width,ge.height,ge.depth,Fe,ze,ge.data)):t.texImage3D(35866,0,Ne,ge.width,ge.height,ge.depth,0,Fe,ze,ge.data);else if(F.isData3DTexture)st?(gt&&t.texStorage3D(32879,te,Ne,ge.width,ge.height,ge.depth),t.texSubImage3D(32879,0,0,0,0,ge.width,ge.height,ge.depth,Fe,ze,ge.data)):t.texImage3D(32879,0,Ne,ge.width,ge.height,ge.depth,0,Fe,ze,ge.data);else if(F.isFramebufferTexture){if(gt)if(st)t.texStorage2D(3553,te,Ne,ge.width,ge.height);else{let me=ge.width,ke=ge.height;for(let Xe=0;Xe<te;Xe++)t.texImage2D(3553,Xe,Ne,me,ke,0,Fe,ze,null),me>>=1,ke>>=1}}else if($e.length>0&&We){st&&gt&&t.texStorage2D(3553,te,Ne,$e[0].width,$e[0].height);for(let me=0,ke=$e.length;me<ke;me++)Ie=$e[me],st?t.texSubImage2D(3553,me,0,0,Fe,ze,Ie):t.texImage2D(3553,me,Ne,Fe,ze,Ie);F.generateMipmaps=!1}else st?(gt&&t.texStorage2D(3553,te,Ne,ge.width,ge.height),t.texSubImage2D(3553,0,0,0,Fe,ze,ge)):t.texImage2D(3553,0,Ne,Fe,ze,ge);E(F,We)&&P(de),Oe.__version=Re.version,F.onUpdate&&F.onUpdate(F)}j.__version=F.version}function be(j,F,q){if(F.image.length!==6)return;const de=ue(j,F),Te=F.source;t.bindTexture(34067,j.__webglTexture,33984+q);const Re=r.get(Te);if(Te.version!==Re.__version||de===!0){t.activeTexture(33984+q),n.pixelStorei(37440,F.flipY),n.pixelStorei(37441,F.premultiplyAlpha),n.pixelStorei(3317,F.unpackAlignment),n.pixelStorei(37443,0);const Oe=F.isCompressedTexture||F.image[0].isCompressedTexture,Be=F.image[0]&&F.image[0].isDataTexture,ge=[];for(let me=0;me<6;me++)!Oe&&!Be?ge[me]=w(F.image[me],!1,!0,c):ge[me]=Be?F.image[me].image:F.image[me],ge[me]=_e(F,ge[me]);const We=ge[0],Fe=A(We)||a,ze=s.convert(F.format,F.encoding),Ne=s.convert(F.type),Ie=b(F.internalFormat,ze,Ne,F.encoding),$e=a&&F.isVideoTexture!==!0,st=Re.__version===void 0||de===!0;let gt=R(F,We,Fe);Q(34067,F,Fe);let te;if(Oe){$e&&st&&t.texStorage2D(34067,gt,Ie,We.width,We.height);for(let me=0;me<6;me++){te=ge[me].mipmaps;for(let ke=0;ke<te.length;ke++){const Xe=te[ke];F.format!==Ci?ze!==null?$e?t.compressedTexSubImage2D(34069+me,ke,0,0,Xe.width,Xe.height,ze,Xe.data):t.compressedTexImage2D(34069+me,ke,Ie,Xe.width,Xe.height,0,Xe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):$e?t.texSubImage2D(34069+me,ke,0,0,Xe.width,Xe.height,ze,Ne,Xe.data):t.texImage2D(34069+me,ke,Ie,Xe.width,Xe.height,0,ze,Ne,Xe.data)}}}else{te=F.mipmaps,$e&&st&&(te.length>0&&gt++,t.texStorage2D(34067,gt,Ie,ge[0].width,ge[0].height));for(let me=0;me<6;me++)if(Be){$e?t.texSubImage2D(34069+me,0,0,0,ge[me].width,ge[me].height,ze,Ne,ge[me].data):t.texImage2D(34069+me,0,Ie,ge[me].width,ge[me].height,0,ze,Ne,ge[me].data);for(let ke=0;ke<te.length;ke++){const tt=te[ke].image[me].image;$e?t.texSubImage2D(34069+me,ke+1,0,0,tt.width,tt.height,ze,Ne,tt.data):t.texImage2D(34069+me,ke+1,Ie,tt.width,tt.height,0,ze,Ne,tt.data)}}else{$e?t.texSubImage2D(34069+me,0,0,0,ze,Ne,ge[me]):t.texImage2D(34069+me,0,Ie,ze,Ne,ge[me]);for(let ke=0;ke<te.length;ke++){const Xe=te[ke];$e?t.texSubImage2D(34069+me,ke+1,0,0,ze,Ne,Xe.image[me]):t.texImage2D(34069+me,ke+1,Ie,ze,Ne,Xe.image[me])}}}E(F,Fe)&&P(34067),Re.__version=Te.version,F.onUpdate&&F.onUpdate(F)}j.__version=F.version}function ye(j,F,q,de,Te){const Re=s.convert(q.format,q.encoding),Oe=s.convert(q.type),Be=b(q.internalFormat,Re,Oe,q.encoding);r.get(F).__hasExternalTextures||(Te===32879||Te===35866?t.texImage3D(Te,0,Be,F.width,F.height,F.depth,0,Re,Oe,null):t.texImage2D(Te,0,Be,F.width,F.height,0,Re,Oe,null)),t.bindFramebuffer(36160,j),Le(F)?d.framebufferTexture2DMultisampleEXT(36160,de,Te,r.get(q).__webglTexture,0,we(F)):(Te===3553||Te>=34069&&Te<=34074)&&n.framebufferTexture2D(36160,de,Te,r.get(q).__webglTexture,0),t.bindFramebuffer(36160,null)}function Se(j,F,q){if(n.bindRenderbuffer(36161,j),F.depthBuffer&&!F.stencilBuffer){let de=33189;if(q||Le(F)){const Te=F.depthTexture;Te&&Te.isDepthTexture&&(Te.type===Ta?de=36012:Te.type===Nl&&(de=33190));const Re=we(F);Le(F)?d.renderbufferStorageMultisampleEXT(36161,Re,de,F.width,F.height):n.renderbufferStorageMultisample(36161,Re,de,F.width,F.height)}else n.renderbufferStorage(36161,de,F.width,F.height);n.framebufferRenderbuffer(36160,36096,36161,j)}else if(F.depthBuffer&&F.stencilBuffer){const de=we(F);q&&Le(F)===!1?n.renderbufferStorageMultisample(36161,de,35056,F.width,F.height):Le(F)?d.renderbufferStorageMultisampleEXT(36161,de,35056,F.width,F.height):n.renderbufferStorage(36161,34041,F.width,F.height),n.framebufferRenderbuffer(36160,33306,36161,j)}else{const de=F.isWebGLMultipleRenderTargets===!0?F.texture:[F.texture];for(let Te=0;Te<de.length;Te++){const Re=de[Te],Oe=s.convert(Re.format,Re.encoding),Be=s.convert(Re.type),ge=b(Re.internalFormat,Oe,Be,Re.encoding),We=we(F);q&&Le(F)===!1?n.renderbufferStorageMultisample(36161,We,ge,F.width,F.height):Le(F)?d.renderbufferStorageMultisampleEXT(36161,We,ge,F.width,F.height):n.renderbufferStorage(36161,ge,F.width,F.height)}}n.bindRenderbuffer(36161,null)}function ne(j,F){if(F&&F.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,j),!(F.depthTexture&&F.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(F.depthTexture).__webglTexture||F.depthTexture.image.width!==F.width||F.depthTexture.image.height!==F.height)&&(F.depthTexture.image.width=F.width,F.depthTexture.image.height=F.height,F.depthTexture.needsUpdate=!0),H(F.depthTexture,0);const de=r.get(F.depthTexture).__webglTexture,Te=we(F);if(F.depthTexture.format===ql)Le(F)?d.framebufferTexture2DMultisampleEXT(36160,36096,3553,de,0,Te):n.framebufferTexture2D(36160,36096,3553,de,0);else if(F.depthTexture.format===Gu)Le(F)?d.framebufferTexture2DMultisampleEXT(36160,33306,3553,de,0,Te):n.framebufferTexture2D(36160,33306,3553,de,0);else throw new Error("Unknown depthTexture format")}function le(j){const F=r.get(j),q=j.isWebGLCubeRenderTarget===!0;if(j.depthTexture&&!F.__autoAllocateDepthBuffer){if(q)throw new Error("target.depthTexture not supported in Cube render targets");ne(F.__webglFramebuffer,j)}else if(q){F.__webglDepthbuffer=[];for(let de=0;de<6;de++)t.bindFramebuffer(36160,F.__webglFramebuffer[de]),F.__webglDepthbuffer[de]=n.createRenderbuffer(),Se(F.__webglDepthbuffer[de],j,!1)}else t.bindFramebuffer(36160,F.__webglFramebuffer),F.__webglDepthbuffer=n.createRenderbuffer(),Se(F.__webglDepthbuffer,j,!1);t.bindFramebuffer(36160,null)}function Ee(j,F,q){const de=r.get(j);F!==void 0&&ye(de.__webglFramebuffer,j,j.texture,36064,3553),q!==void 0&&le(j)}function Ce(j){const F=j.texture,q=r.get(j),de=r.get(F);j.addEventListener("dispose",N),j.isWebGLMultipleRenderTargets!==!0&&(de.__webglTexture===void 0&&(de.__webglTexture=n.createTexture()),de.__version=F.version,o.memory.textures++);const Te=j.isWebGLCubeRenderTarget===!0,Re=j.isWebGLMultipleRenderTargets===!0,Oe=A(j)||a;if(Te){q.__webglFramebuffer=[];for(let Be=0;Be<6;Be++)q.__webglFramebuffer[Be]=n.createFramebuffer()}else{if(q.__webglFramebuffer=n.createFramebuffer(),Re)if(i.drawBuffers){const Be=j.texture;for(let ge=0,We=Be.length;ge<We;ge++){const Fe=r.get(Be[ge]);Fe.__webglTexture===void 0&&(Fe.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&j.samples>0&&Le(j)===!1){const Be=Re?F:[F];q.__webglMultisampledFramebuffer=n.createFramebuffer(),q.__webglColorRenderbuffer=[],t.bindFramebuffer(36160,q.__webglMultisampledFramebuffer);for(let ge=0;ge<Be.length;ge++){const We=Be[ge];q.__webglColorRenderbuffer[ge]=n.createRenderbuffer(),n.bindRenderbuffer(36161,q.__webglColorRenderbuffer[ge]);const Fe=s.convert(We.format,We.encoding),ze=s.convert(We.type),Ne=b(We.internalFormat,Fe,ze,We.encoding,j.isXRRenderTarget===!0),Ie=we(j);n.renderbufferStorageMultisample(36161,Ie,Ne,j.width,j.height),n.framebufferRenderbuffer(36160,36064+ge,36161,q.__webglColorRenderbuffer[ge])}n.bindRenderbuffer(36161,null),j.depthBuffer&&(q.__webglDepthRenderbuffer=n.createRenderbuffer(),Se(q.__webglDepthRenderbuffer,j,!0)),t.bindFramebuffer(36160,null)}}if(Te){t.bindTexture(34067,de.__webglTexture),Q(34067,F,Oe);for(let Be=0;Be<6;Be++)ye(q.__webglFramebuffer[Be],j,F,36064,34069+Be);E(F,Oe)&&P(34067),t.unbindTexture()}else if(Re){const Be=j.texture;for(let ge=0,We=Be.length;ge<We;ge++){const Fe=Be[ge],ze=r.get(Fe);t.bindTexture(3553,ze.__webglTexture),Q(3553,Fe,Oe),ye(q.__webglFramebuffer,j,Fe,36064+ge,3553),E(Fe,Oe)&&P(3553)}t.unbindTexture()}else{let Be=3553;(j.isWebGL3DRenderTarget||j.isWebGLArrayRenderTarget)&&(a?Be=j.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(Be,de.__webglTexture),Q(Be,F,Oe),ye(q.__webglFramebuffer,j,F,36064,Be),E(F,Oe)&&P(Be),t.unbindTexture()}j.depthBuffer&&le(j)}function Ae(j){const F=A(j)||a,q=j.isWebGLMultipleRenderTargets===!0?j.texture:[j.texture];for(let de=0,Te=q.length;de<Te;de++){const Re=q[de];if(E(Re,F)){const Oe=j.isWebGLCubeRenderTarget?34067:3553,Be=r.get(Re).__webglTexture;t.bindTexture(Oe,Be),P(Oe),t.unbindTexture()}}}function je(j){if(a&&j.samples>0&&Le(j)===!1){const F=j.isWebGLMultipleRenderTargets?j.texture:[j.texture],q=j.width,de=j.height;let Te=16384;const Re=[],Oe=j.stencilBuffer?33306:36096,Be=r.get(j),ge=j.isWebGLMultipleRenderTargets===!0;if(ge)for(let We=0;We<F.length;We++)t.bindFramebuffer(36160,Be.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+We,36161,null),t.bindFramebuffer(36160,Be.__webglFramebuffer),n.framebufferTexture2D(36009,36064+We,3553,null,0);t.bindFramebuffer(36008,Be.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,Be.__webglFramebuffer);for(let We=0;We<F.length;We++){Re.push(36064+We),j.depthBuffer&&Re.push(Oe);const Fe=Be.__ignoreDepthValues!==void 0?Be.__ignoreDepthValues:!1;if(Fe===!1&&(j.depthBuffer&&(Te|=256),j.stencilBuffer&&(Te|=1024)),ge&&n.framebufferRenderbuffer(36008,36064,36161,Be.__webglColorRenderbuffer[We]),Fe===!0&&(n.invalidateFramebuffer(36008,[Oe]),n.invalidateFramebuffer(36009,[Oe])),ge){const ze=r.get(F[We]).__webglTexture;n.framebufferTexture2D(36009,36064,3553,ze,0)}n.blitFramebuffer(0,0,q,de,0,0,q,de,Te,9728),m&&n.invalidateFramebuffer(36008,Re)}if(t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,null),ge)for(let We=0;We<F.length;We++){t.bindFramebuffer(36160,Be.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+We,36161,Be.__webglColorRenderbuffer[We]);const Fe=r.get(F[We]).__webglTexture;t.bindFramebuffer(36160,Be.__webglFramebuffer),n.framebufferTexture2D(36009,36064+We,3553,Fe,0)}t.bindFramebuffer(36009,Be.__webglMultisampledFramebuffer)}}function we(j){return Math.min(f,j.samples)}function Le(j){const F=r.get(j);return a&&j.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&F.__useRenderToTexture!==!1}function Ue(j){const F=o.render.frame;g.get(j)!==F&&(g.set(j,F),j.update())}function _e(j,F){const q=j.encoding,de=j.format,Te=j.type;return j.isCompressedTexture===!0||j.isVideoTexture===!0||j.format===M1||q!==sc&&(q===vn?a===!1?e.has("EXT_sRGB")===!0&&de===Ci?(j.format=M1,j.minFilter=fn,j.generateMipmaps=!1):F=mC.sRGBToLinear(F):(de!==Ci||Te!==Ga)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",q)),F}this.allocateTextureUnit=O,this.resetTextureUnits=Y,this.setTexture2D=H,this.setTexture2DArray=G,this.setTexture3D=X,this.setTextureCube=Z,this.rebindTextures=Ee,this.setupRenderTarget=Ce,this.updateRenderTargetMipmap=Ae,this.updateMultisampleRenderTarget=je,this.setupDepthRenderbuffer=le,this.setupFrameBufferTexture=ye,this.useMultisampledRTT=Le}function oN(n,e,t){const r=t.isWebGL2;function i(s,o=null){let a;if(s===Ga)return 5121;if(s===D4)return 32819;if(s===B4)return 32820;if(s===T4)return 5120;if(s===P4)return 5122;if(s===uC)return 5123;if(s===R4)return 5124;if(s===Nl)return 5125;if(s===Ta)return 5126;if(s===eh)return r?5131:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===I4)return 6406;if(s===Ci)return 6408;if(s===k4)return 6409;if(s===O4)return 6410;if(s===ql)return 6402;if(s===Gu)return 34041;if(s===F4)return 6403;if(s===L4)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(s===M1)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===N4)return 36244;if(s===U4)return 33319;if(s===z4)return 33320;if(s===G4)return 36249;if(s===Fy||s===Ny||s===Uy||s===zy)if(o===vn)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===Fy)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===Ny)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===Uy)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===zy)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===Fy)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===Ny)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===Uy)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===zy)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===Ab||s===bb||s===Mb||s===Cb)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===Ab)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===bb)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===Mb)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===Cb)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===H4)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===Eb||s===Tb)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===Eb)return o===vn?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===Tb)return o===vn?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===Pb||s===Rb||s===Db||s===Bb||s===Ib||s===Lb||s===kb||s===Ob||s===Fb||s===Nb||s===Ub||s===zb||s===Gb||s===Hb)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===Pb)return o===vn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===Rb)return o===vn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===Db)return o===vn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===Bb)return o===vn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===Ib)return o===vn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===Lb)return o===vn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===kb)return o===vn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===Ob)return o===vn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===Fb)return o===vn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===Nb)return o===vn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===Ub)return o===vn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===zb)return o===vn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===Gb)return o===vn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===Hb)return o===vn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===Vb)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===Vb)return o===vn?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;return s===bu?r?34042:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):n[s]!==void 0?n[s]:null}return{convert:i}}class aN extends nr{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class po extends Et{constructor(){super(),this.isGroup=!0,this.type="Group"}}const iJ={type:"move"};class iS{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new po,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new po,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new $,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new $),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new po,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new $,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new $),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const v of e.hand.values()){const y=t.getJointPose(v,r);if(c.joints[v.jointName]===void 0){const _=new po;_.matrixAutoUpdate=!1,_.visible=!1,c.joints[v.jointName]=_,c.add(_)}const x=c.joints[v.jointName];y!==null&&(x.matrix.fromArray(y.transform.matrix),x.matrix.decompose(x.position,x.rotation,x.scale),x.jointRadius=y.radius),x.visible=y!==null}const u=c.joints["index-finger-tip"],f=c.joints["thumb-tip"],d=u.position.distanceTo(f.position),m=.02,g=.005;c.inputState.pinching&&d>m+g?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&d<=m-g&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=t.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(iJ)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}}class lN extends mn{constructor(e,t,r,i,s,o,a,l,c,u){if(u=u!==void 0?u:ql,u!==ql&&u!==Gu)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&u===ql&&(r=Nl),r===void 0&&u===Gu&&(r=bu),super(null,i,s,o,a,l,u,r,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:Yn,this.minFilter=l!==void 0?l:Yn,this.flipY=!1,this.generateMipmaps=!1}}class sJ extends Qa{constructor(e,t){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=null,c=null,u=null,f=null,d=null,m=null;const g=t.getContextAttributes();let v=null,y=null;const x=[],_=[],w=new nr;w.layers.enable(1),w.viewport=new Ct;const A=new nr;A.layers.enable(2),A.viewport=new Ct;const C=[w,A],E=new aN;E.layers.enable(1),E.layers.enable(2);let P=null,b=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(U){let H=x[U];return H===void 0&&(H=new iS,x[U]=H),H.getTargetRaySpace()},this.getControllerGrip=function(U){let H=x[U];return H===void 0&&(H=new iS,x[U]=H),H.getGripSpace()},this.getHand=function(U){let H=x[U];return H===void 0&&(H=new iS,x[U]=H),H.getHandSpace()};function R(U){const H=_.indexOf(U.inputSource);if(H===-1)return;const G=x[H];G!==void 0&&G.dispatchEvent({type:U.type,data:U.inputSource})}function D(){i.removeEventListener("select",R),i.removeEventListener("selectstart",R),i.removeEventListener("selectend",R),i.removeEventListener("squeeze",R),i.removeEventListener("squeezestart",R),i.removeEventListener("squeezeend",R),i.removeEventListener("end",D),i.removeEventListener("inputsourceschange",L);for(let U=0;U<x.length;U++){const H=_[U];H!==null&&(_[U]=null,x[U].disconnect(H))}P=null,b=null,e.setRenderTarget(v),d=null,f=null,u=null,i=null,y=null,O.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(U){s=U,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(U){a=U,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||o},this.setReferenceSpace=function(U){l=U},this.getBaseLayer=function(){return f!==null?f:d},this.getBinding=function(){return u},this.getFrame=function(){return m},this.getSession=function(){return i},this.setSession=async function(U){if(i=U,i!==null){if(v=e.getRenderTarget(),i.addEventListener("select",R),i.addEventListener("selectstart",R),i.addEventListener("selectend",R),i.addEventListener("squeeze",R),i.addEventListener("squeezestart",R),i.addEventListener("squeezeend",R),i.addEventListener("end",D),i.addEventListener("inputsourceschange",L),g.xrCompatible!==!0&&await t.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const H={antialias:i.renderState.layers===void 0?g.antialias:!0,alpha:g.alpha,depth:g.depth,stencil:g.stencil,framebufferScaleFactor:s};d=new XRWebGLLayer(i,t,H),i.updateRenderState({baseLayer:d}),y=new Ks(d.framebufferWidth,d.framebufferHeight,{format:Ci,type:Ga,encoding:e.outputEncoding,stencilBuffer:g.stencil})}else{let H=null,G=null,X=null;g.depth&&(X=g.stencil?35056:33190,H=g.stencil?Gu:ql,G=g.stencil?bu:Nl);const Z={colorFormat:32856,depthFormat:X,scaleFactor:s};u=new XRWebGLBinding(i,t),f=u.createProjectionLayer(Z),i.updateRenderState({layers:[f]}),y=new Ks(f.textureWidth,f.textureHeight,{format:Ci,type:Ga,depthTexture:new lN(f.textureWidth,f.textureHeight,G,void 0,void 0,void 0,void 0,void 0,void 0,H),stencilBuffer:g.stencil,encoding:e.outputEncoding,samples:g.antialias?4:0});const re=e.properties.get(y);re.__ignoreDepthValues=f.ignoreDepthValues}y.isXRRenderTarget=!0,this.setFoveation(1),l=null,o=await i.requestReferenceSpace(a),O.setContext(i),O.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}};function L(U){for(let H=0;H<U.removed.length;H++){const G=U.removed[H],X=_.indexOf(G);X>=0&&(_[X]=null,x[X].dispatchEvent({type:"disconnected",data:G}))}for(let H=0;H<U.added.length;H++){const G=U.added[H];let X=_.indexOf(G);if(X===-1){for(let re=0;re<x.length;re++)if(re>=_.length){_.push(G),X=re;break}else if(_[re]===null){_[re]=G,X=re;break}if(X===-1)break}const Z=x[X];Z&&Z.dispatchEvent({type:"connected",data:G})}}const N=new $,z=new $;function k(U,H,G){N.setFromMatrixPosition(H.matrixWorld),z.setFromMatrixPosition(G.matrixWorld);const X=N.distanceTo(z),Z=H.projectionMatrix.elements,re=G.projectionMatrix.elements,ie=Z[14]/(Z[10]-1),Q=Z[14]/(Z[10]+1),ue=(Z[9]+1)/Z[5],he=(Z[9]-1)/Z[5],be=(Z[8]-1)/Z[0],ye=(re[8]+1)/re[0],Se=ie*be,ne=ie*ye,le=X/(-be+ye),Ee=le*-be;H.matrixWorld.decompose(U.position,U.quaternion,U.scale),U.translateX(Ee),U.translateZ(le),U.matrixWorld.compose(U.position,U.quaternion,U.scale),U.matrixWorldInverse.copy(U.matrixWorld).invert();const Ce=ie+le,Ae=Q+le,je=Se-Ee,we=ne+(X-Ee),Le=ue*Q/Ae*Ce,Ue=he*Q/Ae*Ce;U.projectionMatrix.makePerspective(je,we,Le,Ue,Ce,Ae)}function V(U,H){H===null?U.matrixWorld.copy(U.matrix):U.matrixWorld.multiplyMatrices(H.matrixWorld,U.matrix),U.matrixWorldInverse.copy(U.matrixWorld).invert()}this.updateCamera=function(U){if(i===null)return;E.near=A.near=w.near=U.near,E.far=A.far=w.far=U.far,(P!==E.near||b!==E.far)&&(i.updateRenderState({depthNear:E.near,depthFar:E.far}),P=E.near,b=E.far);const H=U.parent,G=E.cameras;V(E,H);for(let Z=0;Z<G.length;Z++)V(G[Z],H);E.matrixWorld.decompose(E.position,E.quaternion,E.scale),U.matrix.copy(E.matrix),U.matrix.decompose(U.position,U.quaternion,U.scale);const X=U.children;for(let Z=0,re=X.length;Z<re;Z++)X[Z].updateMatrixWorld(!0);G.length===2?k(E,w,A):E.projectionMatrix.copy(w.projectionMatrix)},this.getCamera=function(){return E},this.getFoveation=function(){if(f!==null)return f.fixedFoveation;if(d!==null)return d.fixedFoveation},this.setFoveation=function(U){f!==null&&(f.fixedFoveation=U),d!==null&&d.fixedFoveation!==void 0&&(d.fixedFoveation=U)};let W=null;function Y(U,H){if(c=H.getViewerPose(l||o),m=H,c!==null){const G=c.views;d!==null&&(e.setRenderTargetFramebuffer(y,d.framebuffer),e.setRenderTarget(y));let X=!1;G.length!==E.cameras.length&&(E.cameras.length=0,X=!0);for(let Z=0;Z<G.length;Z++){const re=G[Z];let ie=null;if(d!==null)ie=d.getViewport(re);else{const ue=u.getViewSubImage(f,re);ie=ue.viewport,Z===0&&(e.setRenderTargetTextures(y,ue.colorTexture,f.ignoreDepthValues?void 0:ue.depthStencilTexture),e.setRenderTarget(y))}let Q=C[Z];Q===void 0&&(Q=new nr,Q.layers.enable(Z),Q.viewport=new Ct,C[Z]=Q),Q.matrix.fromArray(re.transform.matrix),Q.projectionMatrix.fromArray(re.projectionMatrix),Q.viewport.set(ie.x,ie.y,ie.width,ie.height),Z===0&&E.matrix.copy(Q.matrix),X===!0&&E.cameras.push(Q)}}for(let G=0;G<x.length;G++){const X=_[G],Z=x[G];X!==null&&Z!==void 0&&Z.update(X,H,l||o)}W&&W(U,H),m=null}const O=new tN;O.setAnimationLoop(Y),this.setAnimationLoop=function(U){W=U},this.dispose=function(){}}}function oJ(n,e){function t(v,y){v.fogColor.value.copy(y.color),y.isFog?(v.fogNear.value=y.near,v.fogFar.value=y.far):y.isFogExp2&&(v.fogDensity.value=y.density)}function r(v,y,x,_,w){y.isMeshBasicMaterial||y.isMeshLambertMaterial?i(v,y):y.isMeshToonMaterial?(i(v,y),u(v,y)):y.isMeshPhongMaterial?(i(v,y),c(v,y)):y.isMeshStandardMaterial?(i(v,y),f(v,y),y.isMeshPhysicalMaterial&&d(v,y,w)):y.isMeshMatcapMaterial?(i(v,y),m(v,y)):y.isMeshDepthMaterial?i(v,y):y.isMeshDistanceMaterial?(i(v,y),g(v,y)):y.isMeshNormalMaterial?i(v,y):y.isLineBasicMaterial?(s(v,y),y.isLineDashedMaterial&&o(v,y)):y.isPointsMaterial?a(v,y,x,_):y.isSpriteMaterial?l(v,y):y.isShadowMaterial?(v.color.value.copy(y.color),v.opacity.value=y.opacity):y.isShaderMaterial&&(y.uniformsNeedUpdate=!1)}function i(v,y){v.opacity.value=y.opacity,y.color&&v.diffuse.value.copy(y.color),y.emissive&&v.emissive.value.copy(y.emissive).multiplyScalar(y.emissiveIntensity),y.map&&(v.map.value=y.map),y.alphaMap&&(v.alphaMap.value=y.alphaMap),y.bumpMap&&(v.bumpMap.value=y.bumpMap,v.bumpScale.value=y.bumpScale,y.side===mi&&(v.bumpScale.value*=-1)),y.displacementMap&&(v.displacementMap.value=y.displacementMap,v.displacementScale.value=y.displacementScale,v.displacementBias.value=y.displacementBias),y.emissiveMap&&(v.emissiveMap.value=y.emissiveMap),y.normalMap&&(v.normalMap.value=y.normalMap,v.normalScale.value.copy(y.normalScale),y.side===mi&&v.normalScale.value.negate()),y.specularMap&&(v.specularMap.value=y.specularMap),y.alphaTest>0&&(v.alphaTest.value=y.alphaTest);const x=e.get(y).envMap;if(x&&(v.envMap.value=x,v.flipEnvMap.value=x.isCubeTexture&&x.isRenderTargetTexture===!1?-1:1,v.reflectivity.value=y.reflectivity,v.ior.value=y.ior,v.refractionRatio.value=y.refractionRatio),y.lightMap){v.lightMap.value=y.lightMap;const A=n.physicallyCorrectLights!==!0?Math.PI:1;v.lightMapIntensity.value=y.lightMapIntensity*A}y.aoMap&&(v.aoMap.value=y.aoMap,v.aoMapIntensity.value=y.aoMapIntensity);let _;y.map?_=y.map:y.specularMap?_=y.specularMap:y.displacementMap?_=y.displacementMap:y.normalMap?_=y.normalMap:y.bumpMap?_=y.bumpMap:y.roughnessMap?_=y.roughnessMap:y.metalnessMap?_=y.metalnessMap:y.alphaMap?_=y.alphaMap:y.emissiveMap?_=y.emissiveMap:y.clearcoatMap?_=y.clearcoatMap:y.clearcoatNormalMap?_=y.clearcoatNormalMap:y.clearcoatRoughnessMap?_=y.clearcoatRoughnessMap:y.iridescenceMap?_=y.iridescenceMap:y.iridescenceThicknessMap?_=y.iridescenceThicknessMap:y.specularIntensityMap?_=y.specularIntensityMap:y.specularColorMap?_=y.specularColorMap:y.transmissionMap?_=y.transmissionMap:y.thicknessMap?_=y.thicknessMap:y.sheenColorMap?_=y.sheenColorMap:y.sheenRoughnessMap&&(_=y.sheenRoughnessMap),_!==void 0&&(_.isWebGLRenderTarget&&(_=_.texture),_.matrixAutoUpdate===!0&&_.updateMatrix(),v.uvTransform.value.copy(_.matrix));let w;y.aoMap?w=y.aoMap:y.lightMap&&(w=y.lightMap),w!==void 0&&(w.isWebGLRenderTarget&&(w=w.texture),w.matrixAutoUpdate===!0&&w.updateMatrix(),v.uv2Transform.value.copy(w.matrix))}function s(v,y){v.diffuse.value.copy(y.color),v.opacity.value=y.opacity}function o(v,y){v.dashSize.value=y.dashSize,v.totalSize.value=y.dashSize+y.gapSize,v.scale.value=y.scale}function a(v,y,x,_){v.diffuse.value.copy(y.color),v.opacity.value=y.opacity,v.size.value=y.size*x,v.scale.value=_*.5,y.map&&(v.map.value=y.map),y.alphaMap&&(v.alphaMap.value=y.alphaMap),y.alphaTest>0&&(v.alphaTest.value=y.alphaTest);let w;y.map?w=y.map:y.alphaMap&&(w=y.alphaMap),w!==void 0&&(w.matrixAutoUpdate===!0&&w.updateMatrix(),v.uvTransform.value.copy(w.matrix))}function l(v,y){v.diffuse.value.copy(y.color),v.opacity.value=y.opacity,v.rotation.value=y.rotation,y.map&&(v.map.value=y.map),y.alphaMap&&(v.alphaMap.value=y.alphaMap),y.alphaTest>0&&(v.alphaTest.value=y.alphaTest);let x;y.map?x=y.map:y.alphaMap&&(x=y.alphaMap),x!==void 0&&(x.matrixAutoUpdate===!0&&x.updateMatrix(),v.uvTransform.value.copy(x.matrix))}function c(v,y){v.specular.value.copy(y.specular),v.shininess.value=Math.max(y.shininess,1e-4)}function u(v,y){y.gradientMap&&(v.gradientMap.value=y.gradientMap)}function f(v,y){v.roughness.value=y.roughness,v.metalness.value=y.metalness,y.roughnessMap&&(v.roughnessMap.value=y.roughnessMap),y.metalnessMap&&(v.metalnessMap.value=y.metalnessMap),e.get(y).envMap&&(v.envMapIntensity.value=y.envMapIntensity)}function d(v,y,x){v.ior.value=y.ior,y.sheen>0&&(v.sheenColor.value.copy(y.sheenColor).multiplyScalar(y.sheen),v.sheenRoughness.value=y.sheenRoughness,y.sheenColorMap&&(v.sheenColorMap.value=y.sheenColorMap),y.sheenRoughnessMap&&(v.sheenRoughnessMap.value=y.sheenRoughnessMap)),y.clearcoat>0&&(v.clearcoat.value=y.clearcoat,v.clearcoatRoughness.value=y.clearcoatRoughness,y.clearcoatMap&&(v.clearcoatMap.value=y.clearcoatMap),y.clearcoatRoughnessMap&&(v.clearcoatRoughnessMap.value=y.clearcoatRoughnessMap),y.clearcoatNormalMap&&(v.clearcoatNormalScale.value.copy(y.clearcoatNormalScale),v.clearcoatNormalMap.value=y.clearcoatNormalMap,y.side===mi&&v.clearcoatNormalScale.value.negate())),y.iridescence>0&&(v.iridescence.value=y.iridescence,v.iridescenceIOR.value=y.iridescenceIOR,v.iridescenceThicknessMinimum.value=y.iridescenceThicknessRange[0],v.iridescenceThicknessMaximum.value=y.iridescenceThicknessRange[1],y.iridescenceMap&&(v.iridescenceMap.value=y.iridescenceMap),y.iridescenceThicknessMap&&(v.iridescenceThicknessMap.value=y.iridescenceThicknessMap)),y.transmission>0&&(v.transmission.value=y.transmission,v.transmissionSamplerMap.value=x.texture,v.transmissionSamplerSize.value.set(x.width,x.height),y.transmissionMap&&(v.transmissionMap.value=y.transmissionMap),v.thickness.value=y.thickness,y.thicknessMap&&(v.thicknessMap.value=y.thicknessMap),v.attenuationDistance.value=y.attenuationDistance,v.attenuationColor.value.copy(y.attenuationColor)),v.specularIntensity.value=y.specularIntensity,v.specularColor.value.copy(y.specularColor),y.specularIntensityMap&&(v.specularIntensityMap.value=y.specularIntensityMap),y.specularColorMap&&(v.specularColorMap.value=y.specularColorMap)}function m(v,y){y.matcap&&(v.matcap.value=y.matcap)}function g(v,y){v.referencePosition.value.copy(y.referencePosition),v.nearDistance.value=y.nearDistance,v.farDistance.value=y.farDistance}return{refreshFogUniforms:t,refreshMaterialUniforms:r}}function aJ(n,e,t,r){let i={},s={},o=[];const a=t.isWebGL2?n.getParameter(35375):0;function l(_,w){const A=w.program;r.uniformBlockBinding(_,A)}function c(_,w){let A=i[_.id];A===void 0&&(g(_),A=u(_),i[_.id]=A,_.addEventListener("dispose",y));const C=w.program;r.updateUBOMapping(_,C);const E=e.render.frame;s[_.id]!==E&&(d(_),s[_.id]=E)}function u(_){const w=f();_.__bindingPointIndex=w;const A=n.createBuffer(),C=_.__size,E=_.usage;return n.bindBuffer(35345,A),n.bufferData(35345,C,E),n.bindBuffer(35345,null),n.bindBufferBase(35345,w,A),A}function f(){for(let _=0;_<a;_++)if(o.indexOf(_)===-1)return o.push(_),_;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function d(_){const w=i[_.id],A=_.uniforms,C=_.__cache;n.bindBuffer(35345,w);for(let E=0,P=A.length;E<P;E++){const b=A[E];if(m(b,E,C)===!0){const R=b.value,D=b.__offset;typeof R=="number"?(b.__data[0]=R,n.bufferSubData(35345,D,b.__data)):(b.value.isMatrix3?(b.__data[0]=b.value.elements[0],b.__data[1]=b.value.elements[1],b.__data[2]=b.value.elements[2],b.__data[3]=b.value.elements[0],b.__data[4]=b.value.elements[3],b.__data[5]=b.value.elements[4],b.__data[6]=b.value.elements[5],b.__data[7]=b.value.elements[0],b.__data[8]=b.value.elements[6],b.__data[9]=b.value.elements[7],b.__data[10]=b.value.elements[8],b.__data[11]=b.value.elements[0]):R.toArray(b.__data),n.bufferSubData(35345,D,b.__data))}}n.bindBuffer(35345,null)}function m(_,w,A){const C=_.value;if(A[w]===void 0)return typeof C=="number"?A[w]=C:A[w]=C.clone(),!0;if(typeof C=="number"){if(A[w]!==C)return A[w]=C,!0}else{const E=A[w];if(E.equals(C)===!1)return E.copy(C),!0}return!1}function g(_){const w=_.uniforms;let A=0;const C=16;let E=0;for(let P=0,b=w.length;P<b;P++){const R=w[P],D=v(R);if(R.__data=new Float32Array(D.storage/Float32Array.BYTES_PER_ELEMENT),R.__offset=A,P>0){E=A%C;const L=C-E;E!==0&&L-D.boundary<0&&(A+=C-E,R.__offset=A)}A+=D.storage}return E=A%C,E>0&&(A+=C-E),_.__size=A,_.__cache={},this}function v(_){const w=_.value,A={boundary:0,storage:0};return typeof w=="number"?(A.boundary=4,A.storage=4):w.isVector2?(A.boundary=8,A.storage=8):w.isVector3||w.isColor?(A.boundary=16,A.storage=12):w.isVector4?(A.boundary=16,A.storage=16):w.isMatrix3?(A.boundary=48,A.storage=48):w.isMatrix4?(A.boundary=64,A.storage=64):w.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",w),A}function y(_){const w=_.target;w.removeEventListener("dispose",y);const A=o.indexOf(w.__bindingPointIndex);o.splice(A,1),n.deleteBuffer(i[w.id]),delete i[w.id],delete s[w.id]}function x(){for(const _ in i)n.deleteBuffer(i[_]);o=[],i={},s={}}return{bind:l,update:c,dispose:x}}function lJ(){const n=Km("canvas");return n.style.display="block",n}function yC(n={}){this.isWebGLRenderer=!0;const e=n.canvas!==void 0?n.canvas:lJ(),t=n.context!==void 0?n.context:null,r=n.depth!==void 0?n.depth:!0,i=n.stencil!==void 0?n.stencil:!0,s=n.antialias!==void 0?n.antialias:!1,o=n.premultipliedAlpha!==void 0?n.premultipliedAlpha:!0,a=n.preserveDrawingBuffer!==void 0?n.preserveDrawingBuffer:!1,l=n.powerPreference!==void 0?n.powerPreference:"default",c=n.failIfMajorPerformanceCaveat!==void 0?n.failIfMajorPerformanceCaveat:!1;let u;t!==null?u=t.getContextAttributes().alpha:u=n.alpha!==void 0?n.alpha:!1;let f=null,d=null;const m=[],g=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=sc,this.physicallyCorrectLights=!1,this.toneMapping=vo,this.toneMappingExposure=1,Object.defineProperties(this,{gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}});const v=this;let y=!1,x=0,_=0,w=null,A=-1,C=null;const E=new Ct,P=new Ct;let b=null,R=e.width,D=e.height,L=1,N=null,z=null;const k=new Ct(0,0,R,D),V=new Ct(0,0,R,D);let W=!1;const Y=new B_;let O=!1,U=!1,H=null;const G=new qe,X=new De,Z=new $,re={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function ie(){return w===null?L:1}let Q=t;function ue(J,fe){for(let ve=0;ve<J.length;ve++){const ce=J[ve],Pe=e.getContext(ce,fe);if(Pe!==null)return Pe}return null}try{const J={alpha:!0,depth:r,stencil:i,antialias:s,premultipliedAlpha:o,preserveDrawingBuffer:a,powerPreference:l,failIfMajorPerformanceCaveat:c};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${_h}`),e.addEventListener("webglcontextlost",Ne,!1),e.addEventListener("webglcontextrestored",Ie,!1),e.addEventListener("webglcontextcreationerror",$e,!1),Q===null){const fe=["webgl2","webgl","experimental-webgl"];if(v.isWebGL1Renderer===!0&&fe.shift(),Q=ue(fe,J),Q===null)throw ue(fe)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}Q.getShaderPrecisionFormat===void 0&&(Q.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(J){throw console.error("THREE.WebGLRenderer: "+J.message),J}let he,be,ye,Se,ne,le,Ee,Ce,Ae,je,we,Le,Ue,_e,j,F,q,de,Te,Re,Oe,Be,ge,We;function Fe(){he=new b$(Q),be=new y$(Q,he,n),he.init(be),Be=new oN(Q,he,be),ye=new nJ(Q,he,be),Se=new E$,ne=new WX,le=new rJ(Q,he,ye,ne,be,Be,Se),Ee=new x$(v),Ce=new A$(v),Ae=new OW(Q,be),ge=new g$(Q,he,Ae,be),je=new M$(Q,Ae,Se,ge),we=new D$(Q,je,Ae,Se),Te=new R$(Q,be,le),F=new _$(ne),Le=new VX(v,Ee,Ce,he,be,ge,F),Ue=new oJ(v,ne),_e=new $X,j=new qX(he,be),de=new m$(v,Ee,Ce,ye,we,u,o),q=new tJ(v,we,be),We=new aJ(Q,Se,be,ye),Re=new v$(Q,he,Se,be),Oe=new C$(Q,he,Se,be),Se.programs=Le.programs,v.capabilities=be,v.extensions=he,v.properties=ne,v.renderLists=_e,v.shadowMap=q,v.state=ye,v.info=Se}Fe();const ze=new sJ(v,Q);this.xr=ze,this.getContext=function(){return Q},this.getContextAttributes=function(){return Q.getContextAttributes()},this.forceContextLoss=function(){const J=he.get("WEBGL_lose_context");J&&J.loseContext()},this.forceContextRestore=function(){const J=he.get("WEBGL_lose_context");J&&J.restoreContext()},this.getPixelRatio=function(){return L},this.setPixelRatio=function(J){J!==void 0&&(L=J,this.setSize(R,D,!1))},this.getSize=function(J){return J.set(R,D)},this.setSize=function(J,fe,ve){if(ze.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}R=J,D=fe,e.width=Math.floor(J*L),e.height=Math.floor(fe*L),ve!==!1&&(e.style.width=J+"px",e.style.height=fe+"px"),this.setViewport(0,0,J,fe)},this.getDrawingBufferSize=function(J){return J.set(R*L,D*L).floor()},this.setDrawingBufferSize=function(J,fe,ve){R=J,D=fe,L=ve,e.width=Math.floor(J*ve),e.height=Math.floor(fe*ve),this.setViewport(0,0,J,fe)},this.getCurrentViewport=function(J){return J.copy(E)},this.getViewport=function(J){return J.copy(k)},this.setViewport=function(J,fe,ve,ce){J.isVector4?k.set(J.x,J.y,J.z,J.w):k.set(J,fe,ve,ce),ye.viewport(E.copy(k).multiplyScalar(L).floor())},this.getScissor=function(J){return J.copy(V)},this.setScissor=function(J,fe,ve,ce){J.isVector4?V.set(J.x,J.y,J.z,J.w):V.set(J,fe,ve,ce),ye.scissor(P.copy(V).multiplyScalar(L).floor())},this.getScissorTest=function(){return W},this.setScissorTest=function(J){ye.setScissorTest(W=J)},this.setOpaqueSort=function(J){N=J},this.setTransparentSort=function(J){z=J},this.getClearColor=function(J){return J.copy(de.getClearColor())},this.setClearColor=function(){de.setClearColor.apply(de,arguments)},this.getClearAlpha=function(){return de.getClearAlpha()},this.setClearAlpha=function(){de.setClearAlpha.apply(de,arguments)},this.clear=function(J=!0,fe=!0,ve=!0){let ce=0;J&&(ce|=16384),fe&&(ce|=256),ve&&(ce|=1024),Q.clear(ce)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",Ne,!1),e.removeEventListener("webglcontextrestored",Ie,!1),e.removeEventListener("webglcontextcreationerror",$e,!1),_e.dispose(),j.dispose(),ne.dispose(),Ee.dispose(),Ce.dispose(),we.dispose(),ge.dispose(),We.dispose(),Le.dispose(),ze.dispose(),ze.removeEventListener("sessionstart",Xe),ze.removeEventListener("sessionend",tt),H&&(H.dispose(),H=null),_t.stop()};function Ne(J){J.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),y=!0}function Ie(){console.log("THREE.WebGLRenderer: Context Restored."),y=!1;const J=Se.autoReset,fe=q.enabled,ve=q.autoUpdate,ce=q.needsUpdate,Pe=q.type;Fe(),Se.autoReset=J,q.enabled=fe,q.autoUpdate=ve,q.needsUpdate=ce,q.type=Pe}function $e(J){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",J.statusMessage)}function st(J){const fe=J.target;fe.removeEventListener("dispose",st),gt(fe)}function gt(J){te(J),ne.remove(J)}function te(J){const fe=ne.get(J).programs;fe!==void 0&&(fe.forEach(function(ve){Le.releaseProgram(ve)}),J.isShaderMaterial&&Le.releaseShaderCache(J))}this.renderBufferDirect=function(J,fe,ve,ce,Pe,nt){fe===null&&(fe=re);const lt=Pe.isMesh&&Pe.matrixWorld.determinant()<0,xt=Mr(J,fe,ve,ce,Pe);ye.setMaterial(ce,lt);let mt=ve.index;const Tt=ve.attributes.position;if(mt===null){if(Tt===void 0||Tt.count===0)return}else if(mt.count===0)return;let wt=1;ce.wireframe===!0&&(mt=je.getWireframeAttribute(ve),wt=2),ge.setup(Pe,ce,xt,ve,mt);let Bt,en=Re;mt!==null&&(Bt=Ae.get(mt),en=Oe,en.setIndex(Bt));const yi=mt!==null?mt.count:Tt.count,ps=ve.drawRange.start*wt,ms=ve.drawRange.count*wt,Qe=nt!==null?nt.start*wt:0,St=nt!==null?nt.count*wt:1/0,gs=Math.max(ps,Qe),Yt=Math.min(yi,ps+ms,Qe+St)-1,sr=Math.max(0,Yt-gs+1);if(sr!==0){if(Pe.isMesh)ce.wireframe===!0?(ye.setLineWidth(ce.wireframeLinewidth*ie()),en.setMode(1)):en.setMode(4);else if(Pe.isLine){let Zr=ce.linewidth;Zr===void 0&&(Zr=1),ye.setLineWidth(Zr*ie()),Pe.isLineSegments?en.setMode(1):Pe.isLineLoop?en.setMode(2):en.setMode(3)}else Pe.isPoints?en.setMode(0):Pe.isSprite&&en.setMode(4);if(Pe.isInstancedMesh)en.renderInstances(gs,sr,Pe.count);else if(ve.isInstancedBufferGeometry){const Zr=Math.min(ve.instanceCount,ve._maxInstanceCount);en.renderInstances(gs,sr,Zr)}else en.render(gs,sr)}},this.compile=function(J,fe){function ve(ce,Pe,nt){ce.transparent===!0&&ce.side===Gs?(ce.side=mi,ce.needsUpdate=!0,Dt(ce,Pe,nt),ce.side=za,ce.needsUpdate=!0,Dt(ce,Pe,nt),ce.side=Gs):Dt(ce,Pe,nt)}d=j.get(J),d.init(),g.push(d),J.traverseVisible(function(ce){ce.isLight&&ce.layers.test(fe.layers)&&(d.pushLight(ce),ce.castShadow&&d.pushShadow(ce))}),d.setupLights(v.physicallyCorrectLights),J.traverse(function(ce){const Pe=ce.material;if(Pe)if(Array.isArray(Pe))for(let nt=0;nt<Pe.length;nt++){const lt=Pe[nt];ve(lt,J,ce)}else ve(Pe,J,ce)}),g.pop(),d=null};let me=null;function ke(J){me&&me(J)}function Xe(){_t.stop()}function tt(){_t.start()}const _t=new tN;_t.setAnimationLoop(ke),typeof self<"u"&&_t.setContext(self),this.setAnimationLoop=function(J){me=J,ze.setAnimationLoop(J),J===null?_t.stop():_t.start()},ze.addEventListener("sessionstart",Xe),ze.addEventListener("sessionend",tt),this.render=function(J,fe){if(fe!==void 0&&fe.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(y===!0)return;J.matrixWorldAutoUpdate===!0&&J.updateMatrixWorld(),fe.parent===null&&fe.matrixWorldAutoUpdate===!0&&fe.updateMatrixWorld(),ze.enabled===!0&&ze.isPresenting===!0&&(ze.cameraAutoUpdate===!0&&ze.updateCamera(fe),fe=ze.getCamera()),J.isScene===!0&&J.onBeforeRender(v,J,fe,w),d=j.get(J,g.length),d.init(),g.push(d),G.multiplyMatrices(fe.projectionMatrix,fe.matrixWorldInverse),Y.setFromProjectionMatrix(G),U=this.localClippingEnabled,O=F.init(this.clippingPlanes,U,fe),f=_e.get(J,m.length),f.init(),m.push(f),Nt(J,fe,0,v.sortObjects),f.finish(),v.sortObjects===!0&&f.sort(N,z),O===!0&&F.beginShadows();const ve=d.state.shadowsArray;if(q.render(ve,J,fe),O===!0&&F.endShadows(),this.info.autoReset===!0&&this.info.reset(),de.render(f,J),d.setupLights(v.physicallyCorrectLights),fe.isArrayCamera){const ce=fe.cameras;for(let Pe=0,nt=ce.length;Pe<nt;Pe++){const lt=ce[Pe];Wt(f,J,lt,lt.viewport)}}else Wt(f,J,fe);w!==null&&(le.updateMultisampleRenderTarget(w),le.updateRenderTargetMipmap(w)),J.isScene===!0&&J.onAfterRender(v,J,fe),ge.resetDefaultState(),A=-1,C=null,g.pop(),g.length>0?d=g[g.length-1]:d=null,m.pop(),m.length>0?f=m[m.length-1]:f=null};function Nt(J,fe,ve,ce){if(J.visible===!1)return;if(J.layers.test(fe.layers)){if(J.isGroup)ve=J.renderOrder;else if(J.isLOD)J.autoUpdate===!0&&J.update(fe);else if(J.isLight)d.pushLight(J),J.castShadow&&d.pushShadow(J);else if(J.isSprite){if(!J.frustumCulled||Y.intersectsSprite(J)){ce&&Z.setFromMatrixPosition(J.matrixWorld).applyMatrix4(G);const lt=we.update(J),xt=J.material;xt.visible&&f.push(J,lt,xt,ve,Z.z,null)}}else if((J.isMesh||J.isLine||J.isPoints)&&(J.isSkinnedMesh&&J.skeleton.frame!==Se.render.frame&&(J.skeleton.update(),J.skeleton.frame=Se.render.frame),!J.frustumCulled||Y.intersectsObject(J))){ce&&Z.setFromMatrixPosition(J.matrixWorld).applyMatrix4(G);const lt=we.update(J),xt=J.material;if(Array.isArray(xt)){const mt=lt.groups;for(let Tt=0,wt=mt.length;Tt<wt;Tt++){const Bt=mt[Tt],en=xt[Bt.materialIndex];en&&en.visible&&f.push(J,lt,en,ve,Z.z,Bt)}}else xt.visible&&f.push(J,lt,xt,ve,Z.z,null)}}const nt=J.children;for(let lt=0,xt=nt.length;lt<xt;lt++)Nt(nt[lt],fe,ve,ce)}function Wt(J,fe,ve,ce){const Pe=J.opaque,nt=J.transmissive,lt=J.transparent;d.setupLightsView(ve),nt.length>0&&zt(Pe,fe,ve),ce&&ye.viewport(E.copy(ce)),Pe.length>0&&Gt(Pe,fe,ve),nt.length>0&&Gt(nt,fe,ve),lt.length>0&&Gt(lt,fe,ve),ye.buffers.depth.setTest(!0),ye.buffers.depth.setMask(!0),ye.buffers.color.setMask(!0),ye.setPolygonOffset(!1)}function zt(J,fe,ve){const ce=be.isWebGL2;H===null&&(H=new Ks(1,1,{generateMipmaps:!0,type:he.has("EXT_color_buffer_half_float")?eh:Ga,minFilter:Ya,samples:ce&&s===!0?4:0})),v.getDrawingBufferSize(X),ce?H.setSize(X.x,X.y):H.setSize(C1(X.x),C1(X.y));const Pe=v.getRenderTarget();v.setRenderTarget(H),v.clear();const nt=v.toneMapping;v.toneMapping=vo,Gt(J,fe,ve),v.toneMapping=nt,le.updateMultisampleRenderTarget(H),le.updateRenderTargetMipmap(H),v.setRenderTarget(Pe)}function Gt(J,fe,ve){const ce=fe.isScene===!0?fe.overrideMaterial:null;for(let Pe=0,nt=J.length;Pe<nt;Pe++){const lt=J[Pe],xt=lt.object,mt=lt.geometry,Tt=ce===null?lt.material:ce,wt=lt.group;xt.layers.test(ve.layers)&&Ut(xt,fe,ve,mt,Tt,wt)}}function Ut(J,fe,ve,ce,Pe,nt){J.onBeforeRender(v,fe,ve,ce,Pe,nt),J.modelViewMatrix.multiplyMatrices(ve.matrixWorldInverse,J.matrixWorld),J.normalMatrix.getNormalMatrix(J.modelViewMatrix),Pe.onBeforeRender(v,fe,ve,ce,J,nt),Pe.transparent===!0&&Pe.side===Gs?(Pe.side=mi,Pe.needsUpdate=!0,v.renderBufferDirect(ve,fe,ce,Pe,J,nt),Pe.side=za,Pe.needsUpdate=!0,v.renderBufferDirect(ve,fe,ce,Pe,J,nt),Pe.side=Gs):v.renderBufferDirect(ve,fe,ce,Pe,J,nt),J.onAfterRender(v,fe,ve,ce,Pe,nt)}function Dt(J,fe,ve){fe.isScene!==!0&&(fe=re);const ce=ne.get(J),Pe=d.state.lights,nt=d.state.shadowsArray,lt=Pe.state.version,xt=Le.getParameters(J,Pe.state,nt,fe,ve),mt=Le.getProgramCacheKey(xt);let Tt=ce.programs;ce.environment=J.isMeshStandardMaterial?fe.environment:null,ce.fog=fe.fog,ce.envMap=(J.isMeshStandardMaterial?Ce:Ee).get(J.envMap||ce.environment),Tt===void 0&&(J.addEventListener("dispose",st),Tt=new Map,ce.programs=Tt);let wt=Tt.get(mt);if(wt!==void 0){if(ce.currentProgram===wt&&ce.lightsStateVersion===lt)return kr(J,xt),wt}else xt.uniforms=Le.getUniforms(J),J.onBuild(ve,xt,v),J.onBeforeCompile(xt,v),wt=Le.acquireProgram(xt,mt),Tt.set(mt,wt),ce.uniforms=xt.uniforms;const Bt=ce.uniforms;(!J.isShaderMaterial&&!J.isRawShaderMaterial||J.clipping===!0)&&(Bt.clippingPlanes=F.uniform),kr(J,xt),ce.needsLights=xn(J),ce.lightsStateVersion=lt,ce.needsLights&&(Bt.ambientLightColor.value=Pe.state.ambient,Bt.lightProbe.value=Pe.state.probe,Bt.directionalLights.value=Pe.state.directional,Bt.directionalLightShadows.value=Pe.state.directionalShadow,Bt.spotLights.value=Pe.state.spot,Bt.spotLightShadows.value=Pe.state.spotShadow,Bt.rectAreaLights.value=Pe.state.rectArea,Bt.ltc_1.value=Pe.state.rectAreaLTC1,Bt.ltc_2.value=Pe.state.rectAreaLTC2,Bt.pointLights.value=Pe.state.point,Bt.pointLightShadows.value=Pe.state.pointShadow,Bt.hemisphereLights.value=Pe.state.hemi,Bt.directionalShadowMap.value=Pe.state.directionalShadowMap,Bt.directionalShadowMatrix.value=Pe.state.directionalShadowMatrix,Bt.spotShadowMap.value=Pe.state.spotShadowMap,Bt.spotLightMatrix.value=Pe.state.spotLightMatrix,Bt.spotLightMap.value=Pe.state.spotLightMap,Bt.pointShadowMap.value=Pe.state.pointShadowMap,Bt.pointShadowMatrix.value=Pe.state.pointShadowMatrix);const en=wt.getUniforms(),yi=Wy.seqWithValue(en.seq,Bt);return ce.currentProgram=wt,ce.uniformsList=yi,wt}function kr(J,fe){const ve=ne.get(J);ve.outputEncoding=fe.outputEncoding,ve.instancing=fe.instancing,ve.skinning=fe.skinning,ve.morphTargets=fe.morphTargets,ve.morphNormals=fe.morphNormals,ve.morphColors=fe.morphColors,ve.morphTargetsCount=fe.morphTargetsCount,ve.numClippingPlanes=fe.numClippingPlanes,ve.numIntersection=fe.numClipIntersection,ve.vertexAlphas=fe.vertexAlphas,ve.vertexTangents=fe.vertexTangents,ve.toneMapping=fe.toneMapping}function Mr(J,fe,ve,ce,Pe){fe.isScene!==!0&&(fe=re),le.resetTextureUnits();const nt=fe.fog,lt=ce.isMeshStandardMaterial?fe.environment:null,xt=w===null?v.outputEncoding:w.isXRRenderTarget===!0?w.texture.encoding:sc,mt=(ce.isMeshStandardMaterial?Ce:Ee).get(ce.envMap||lt),Tt=ce.vertexColors===!0&&!!ve.attributes.color&&ve.attributes.color.itemSize===4,wt=!!ce.normalMap&&!!ve.attributes.tangent,Bt=!!ve.morphAttributes.position,en=!!ve.morphAttributes.normal,yi=!!ve.morphAttributes.color,ps=ce.toneMapped?v.toneMapping:vo,ms=ve.morphAttributes.position||ve.morphAttributes.normal||ve.morphAttributes.color,Qe=ms!==void 0?ms.length:0,St=ne.get(ce),gs=d.state.lights;if(O===!0&&(U===!0||J!==C)){const Ht=J===C&&ce.id===A;F.setState(ce,J,Ht)}let Yt=!1;ce.version===St.__version?(St.needsLights&&St.lightsStateVersion!==gs.state.version||St.outputEncoding!==xt||Pe.isInstancedMesh&&St.instancing===!1||!Pe.isInstancedMesh&&St.instancing===!0||Pe.isSkinnedMesh&&St.skinning===!1||!Pe.isSkinnedMesh&&St.skinning===!0||St.envMap!==mt||ce.fog===!0&&St.fog!==nt||St.numClippingPlanes!==void 0&&(St.numClippingPlanes!==F.numPlanes||St.numIntersection!==F.numIntersection)||St.vertexAlphas!==Tt||St.vertexTangents!==wt||St.morphTargets!==Bt||St.morphNormals!==en||St.morphColors!==yi||St.toneMapping!==ps||be.isWebGL2===!0&&St.morphTargetsCount!==Qe)&&(Yt=!0):(Yt=!0,St.__version=ce.version);let sr=St.currentProgram;Yt===!0&&(sr=Dt(ce,fe,Pe));let Zr=!1,Or=!1,Cr=!1;const pt=sr.getUniforms(),It=St.uniforms;if(ye.useProgram(sr.program)&&(Zr=!0,Or=!0,Cr=!0),ce.id!==A&&(A=ce.id,Or=!0),Zr||C!==J){if(pt.setValue(Q,"projectionMatrix",J.projectionMatrix),be.logarithmicDepthBuffer&&pt.setValue(Q,"logDepthBufFC",2/(Math.log(J.far+1)/Math.LN2)),C!==J&&(C=J,Or=!0,Cr=!0),ce.isShaderMaterial||ce.isMeshPhongMaterial||ce.isMeshToonMaterial||ce.isMeshStandardMaterial||ce.envMap){const Ht=pt.map.cameraPosition;Ht!==void 0&&Ht.setValue(Q,Z.setFromMatrixPosition(J.matrixWorld))}(ce.isMeshPhongMaterial||ce.isMeshToonMaterial||ce.isMeshLambertMaterial||ce.isMeshBasicMaterial||ce.isMeshStandardMaterial||ce.isShaderMaterial)&&pt.setValue(Q,"isOrthographic",J.isOrthographicCamera===!0),(ce.isMeshPhongMaterial||ce.isMeshToonMaterial||ce.isMeshLambertMaterial||ce.isMeshBasicMaterial||ce.isMeshStandardMaterial||ce.isShaderMaterial||ce.isShadowMaterial||Pe.isSkinnedMesh)&&pt.setValue(Q,"viewMatrix",J.matrixWorldInverse)}if(Pe.isSkinnedMesh){pt.setOptional(Q,Pe,"bindMatrix"),pt.setOptional(Q,Pe,"bindMatrixInverse");const Ht=Pe.skeleton;Ht&&(be.floatVertexTextures?(Ht.boneTexture===null&&Ht.computeBoneTexture(),pt.setValue(Q,"boneTexture",Ht.boneTexture,le),pt.setValue(Q,"boneTextureSize",Ht.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Er=ve.morphAttributes;if((Er.position!==void 0||Er.normal!==void 0||Er.color!==void 0&&be.isWebGL2===!0)&&Te.update(Pe,ve,ce,sr),(Or||St.receiveShadow!==Pe.receiveShadow)&&(St.receiveShadow=Pe.receiveShadow,pt.setValue(Q,"receiveShadow",Pe.receiveShadow)),ce.isMeshGouraudMaterial&&ce.envMap!==null&&(It.envMap.value=mt,It.flipEnvMap.value=mt.isCubeTexture&&mt.isRenderTargetTexture===!1?-1:1),Or&&(pt.setValue(Q,"toneMappingExposure",v.toneMappingExposure),St.needsLights&&jt(It,Cr),nt&&ce.fog===!0&&Ue.refreshFogUniforms(It,nt),Ue.refreshMaterialUniforms(It,ce,L,D,H),Wy.upload(Q,St.uniformsList,It,le)),ce.isShaderMaterial&&ce.uniformsNeedUpdate===!0&&(Wy.upload(Q,St.uniformsList,It,le),ce.uniformsNeedUpdate=!1),ce.isSpriteMaterial&&pt.setValue(Q,"center",Pe.center),pt.setValue(Q,"modelViewMatrix",Pe.modelViewMatrix),pt.setValue(Q,"normalMatrix",Pe.normalMatrix),pt.setValue(Q,"modelMatrix",Pe.matrixWorld),ce.isShaderMaterial||ce.isRawShaderMaterial){const Ht=ce.uniformsGroups;for(let Bn=0,vs=Ht.length;Bn<vs;Bn++)if(be.isWebGL2){const ei=Ht[Bn];We.update(ei,sr),We.bind(ei,sr)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return sr}function jt(J,fe){J.ambientLightColor.needsUpdate=fe,J.lightProbe.needsUpdate=fe,J.directionalLights.needsUpdate=fe,J.directionalLightShadows.needsUpdate=fe,J.pointLights.needsUpdate=fe,J.pointLightShadows.needsUpdate=fe,J.spotLights.needsUpdate=fe,J.spotLightShadows.needsUpdate=fe,J.rectAreaLights.needsUpdate=fe,J.hemisphereLights.needsUpdate=fe}function xn(J){return J.isMeshLambertMaterial||J.isMeshToonMaterial||J.isMeshPhongMaterial||J.isMeshStandardMaterial||J.isShadowMaterial||J.isShaderMaterial&&J.lights===!0}this.getActiveCubeFace=function(){return x},this.getActiveMipmapLevel=function(){return _},this.getRenderTarget=function(){return w},this.setRenderTargetTextures=function(J,fe,ve){ne.get(J.texture).__webglTexture=fe,ne.get(J.depthTexture).__webglTexture=ve;const ce=ne.get(J);ce.__hasExternalTextures=!0,ce.__hasExternalTextures&&(ce.__autoAllocateDepthBuffer=ve===void 0,ce.__autoAllocateDepthBuffer||he.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ce.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(J,fe){const ve=ne.get(J);ve.__webglFramebuffer=fe,ve.__useDefaultFramebuffer=fe===void 0},this.setRenderTarget=function(J,fe=0,ve=0){w=J,x=fe,_=ve;let ce=!0,Pe=null,nt=!1,lt=!1;if(J){const mt=ne.get(J);mt.__useDefaultFramebuffer!==void 0?(ye.bindFramebuffer(36160,null),ce=!1):mt.__webglFramebuffer===void 0?le.setupRenderTarget(J):mt.__hasExternalTextures&&le.rebindTextures(J,ne.get(J.texture).__webglTexture,ne.get(J.depthTexture).__webglTexture);const Tt=J.texture;(Tt.isData3DTexture||Tt.isDataArrayTexture||Tt.isCompressedArrayTexture)&&(lt=!0);const wt=ne.get(J).__webglFramebuffer;J.isWebGLCubeRenderTarget?(Pe=wt[fe],nt=!0):be.isWebGL2&&J.samples>0&&le.useMultisampledRTT(J)===!1?Pe=ne.get(J).__webglMultisampledFramebuffer:Pe=wt,E.copy(J.viewport),P.copy(J.scissor),b=J.scissorTest}else E.copy(k).multiplyScalar(L).floor(),P.copy(V).multiplyScalar(L).floor(),b=W;if(ye.bindFramebuffer(36160,Pe)&&be.drawBuffers&&ce&&ye.drawBuffers(J,Pe),ye.viewport(E),ye.scissor(P),ye.setScissorTest(b),nt){const mt=ne.get(J.texture);Q.framebufferTexture2D(36160,36064,34069+fe,mt.__webglTexture,ve)}else if(lt){const mt=ne.get(J.texture),Tt=fe||0;Q.framebufferTextureLayer(36160,36064,mt.__webglTexture,ve||0,Tt)}A=-1},this.readRenderTargetPixels=function(J,fe,ve,ce,Pe,nt,lt){if(!(J&&J.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let xt=ne.get(J).__webglFramebuffer;if(J.isWebGLCubeRenderTarget&&lt!==void 0&&(xt=xt[lt]),xt){ye.bindFramebuffer(36160,xt);try{const mt=J.texture,Tt=mt.format,wt=mt.type;if(Tt!==Ci&&Be.convert(Tt)!==Q.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Bt=wt===eh&&(he.has("EXT_color_buffer_half_float")||be.isWebGL2&&he.has("EXT_color_buffer_float"));if(wt!==Ga&&Be.convert(wt)!==Q.getParameter(35738)&&!(wt===Ta&&(be.isWebGL2||he.has("OES_texture_float")||he.has("WEBGL_color_buffer_float")))&&!Bt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}fe>=0&&fe<=J.width-ce&&ve>=0&&ve<=J.height-Pe&&Q.readPixels(fe,ve,ce,Pe,Be.convert(Tt),Be.convert(wt),nt)}finally{const mt=w!==null?ne.get(w).__webglFramebuffer:null;ye.bindFramebuffer(36160,mt)}}},this.copyFramebufferToTexture=function(J,fe,ve=0){const ce=Math.pow(2,-ve),Pe=Math.floor(fe.image.width*ce),nt=Math.floor(fe.image.height*ce);le.setTexture2D(fe,0),Q.copyTexSubImage2D(3553,ve,0,0,J.x,J.y,Pe,nt),ye.unbindTexture()},this.copyTextureToTexture=function(J,fe,ve,ce=0){const Pe=fe.image.width,nt=fe.image.height,lt=Be.convert(ve.format),xt=Be.convert(ve.type);le.setTexture2D(ve,0),Q.pixelStorei(37440,ve.flipY),Q.pixelStorei(37441,ve.premultiplyAlpha),Q.pixelStorei(3317,ve.unpackAlignment),fe.isDataTexture?Q.texSubImage2D(3553,ce,J.x,J.y,Pe,nt,lt,xt,fe.image.data):fe.isCompressedTexture?Q.compressedTexSubImage2D(3553,ce,J.x,J.y,fe.mipmaps[0].width,fe.mipmaps[0].height,lt,fe.mipmaps[0].data):Q.texSubImage2D(3553,ce,J.x,J.y,lt,xt,fe.image),ce===0&&ve.generateMipmaps&&Q.generateMipmap(3553),ye.unbindTexture()},this.copyTextureToTexture3D=function(J,fe,ve,ce,Pe=0){if(v.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const nt=J.max.x-J.min.x+1,lt=J.max.y-J.min.y+1,xt=J.max.z-J.min.z+1,mt=Be.convert(ce.format),Tt=Be.convert(ce.type);let wt;if(ce.isData3DTexture)le.setTexture3D(ce,0),wt=32879;else if(ce.isDataArrayTexture)le.setTexture2DArray(ce,0),wt=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}Q.pixelStorei(37440,ce.flipY),Q.pixelStorei(37441,ce.premultiplyAlpha),Q.pixelStorei(3317,ce.unpackAlignment);const Bt=Q.getParameter(3314),en=Q.getParameter(32878),yi=Q.getParameter(3316),ps=Q.getParameter(3315),ms=Q.getParameter(32877),Qe=ve.isCompressedTexture?ve.mipmaps[0]:ve.image;Q.pixelStorei(3314,Qe.width),Q.pixelStorei(32878,Qe.height),Q.pixelStorei(3316,J.min.x),Q.pixelStorei(3315,J.min.y),Q.pixelStorei(32877,J.min.z),ve.isDataTexture||ve.isData3DTexture?Q.texSubImage3D(wt,Pe,fe.x,fe.y,fe.z,nt,lt,xt,mt,Tt,Qe.data):ve.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),Q.compressedTexSubImage3D(wt,Pe,fe.x,fe.y,fe.z,nt,lt,xt,mt,Qe.data)):Q.texSubImage3D(wt,Pe,fe.x,fe.y,fe.z,nt,lt,xt,mt,Tt,Qe),Q.pixelStorei(3314,Bt),Q.pixelStorei(32878,en),Q.pixelStorei(3316,yi),Q.pixelStorei(3315,ps),Q.pixelStorei(32877,ms),Pe===0&&ce.generateMipmaps&&Q.generateMipmap(wt),ye.unbindTexture()},this.initTexture=function(J){J.isCubeTexture?le.setTextureCube(J,0):J.isData3DTexture?le.setTexture3D(J,0):J.isDataArrayTexture||J.isCompressedArrayTexture?le.setTexture2DArray(J,0):le.setTexture2D(J,0),ye.unbindTexture()},this.resetState=function(){x=0,_=0,w=null,ye.reset(),ge.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class cN extends yC{}cN.prototype.isWebGL1Renderer=!0;class O_{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new He(e),this.density=t}clone(){return new O_(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class F_{constructor(e,t=1,r=1e3){this.isFog=!0,this.name="",this.color=new He(e),this.near=t,this.far=r}clone(){return new F_(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class E1 extends Et{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.backgroundBlurriness=this.backgroundBlurriness),t}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class Dg{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=Xm,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=is()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=t.array[r+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=is()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=is()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const ai=new $;class oc{constructor(e,t,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=i===!0}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)ai.fromBufferAttribute(this,t),ai.applyMatrix4(e),this.setXYZ(t,ai.x,ai.y,ai.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)ai.fromBufferAttribute(this,t),ai.applyNormalMatrix(e),this.setXYZ(t,ai.x,ai.y,ai.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)ai.fromBufferAttribute(this,t),ai.transformDirection(e),this.setXYZ(t,ai.x,ai.y,ai.z);return this}setX(e,t){return this.normalized&&(t=rn(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=rn(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=rn(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=rn(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Pa(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Pa(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Pa(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Pa(t,this.array)),t}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=rn(t,this.array),r=rn(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=rn(t,this.array),r=rn(r,this.array),i=rn(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=rn(t,this.array),r=rn(r,this.array),i=rn(i,this.array),s=rn(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will deinterleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return new Jt(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new oc(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will deinterleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class _C extends ir{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new He(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Wf;const yp=new $,jf=new $,$f=new $,Xf=new De,_p=new De,uN=new qe,Iv=new $,xp=new $,Lv=new $,AR=new De,sS=new De,bR=new De;class fN extends Et{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",Wf===void 0){Wf=new ht;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new Dg(t,5);Wf.setIndex([0,1,2,0,2,3]),Wf.setAttribute("position",new oc(r,3,0,!1)),Wf.setAttribute("uv",new oc(r,2,3,!1))}this.geometry=Wf,this.material=e!==void 0?e:new _C,this.center=new De(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),jf.setFromMatrixScale(this.matrixWorld),uN.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),$f.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&jf.multiplyScalar(-$f.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;kv(Iv.set(-.5,-.5,0),$f,o,jf,i,s),kv(xp.set(.5,-.5,0),$f,o,jf,i,s),kv(Lv.set(.5,.5,0),$f,o,jf,i,s),AR.set(0,0),sS.set(1,0),bR.set(1,1);let a=e.ray.intersectTriangle(Iv,xp,Lv,!1,yp);if(a===null&&(kv(xp.set(-.5,.5,0),$f,o,jf,i,s),sS.set(0,1),a=e.ray.intersectTriangle(Iv,Lv,xp,!1,yp),a===null))return;const l=e.ray.origin.distanceTo(yp);l<e.near||l>e.far||t.push({distance:l,point:yp.clone(),uv:Ns.getUV(yp,Iv,xp,Lv,AR,sS,bR,new De),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function kv(n,e,t,r,i,s){Xf.subVectors(n,t).addScalar(.5).multiply(r),i!==void 0?(_p.x=s*Xf.x-i*Xf.y,_p.y=i*Xf.x+s*Xf.y):_p.copy(Xf),n.copy(e),n.x+=_p.x,n.y+=_p.y,n.applyMatrix4(uN)}const Ov=new $,MR=new $;class dN extends Et{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let r=0,i=t.length;r<i;r++){const s=t[r];this.addLevel(s.object.clone(),s.distance)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0){t=Math.abs(t);const r=this.levels;let i;for(i=0;i<r.length&&!(t<r[i].distance);i++);return r.splice(i,0,{distance:t,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let r,i;for(r=1,i=t.length;r<i&&!(e<t[r].distance);r++);return t[r-1].object}return null}raycast(e,t){if(this.levels.length>0){Ov.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(Ov);this.getObjectForDistance(i).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){Ov.setFromMatrixPosition(e.matrixWorld),MR.setFromMatrixPosition(this.matrixWorld);const r=Ov.distanceTo(MR)/e.zoom;t[0].object.visible=!0;let i,s;for(i=1,s=t.length;i<s&&r>=t[i].distance;i++)t[i-1].object.visible=!1,t[i].object.visible=!0;for(this._currentLevel=i-1;i<s;i++)t[i].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const o=r[i];t.object.levels.push({object:o.object.uuid,distance:o.distance})}return t}}const CR=new $,ER=new Ct,TR=new Ct,cJ=new $,PR=new qe;class N_ extends Nn{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new qe,this.bindMatrixInverse=new qe}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Ct,t=this.geometry.attributes.skinWeight;for(let r=0,i=t.count;r<i;r++){e.fromBufferAttribute(t,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,t){const r=this.skeleton,i=this.geometry;ER.fromBufferAttribute(i.attributes.skinIndex,e),TR.fromBufferAttribute(i.attributes.skinWeight,e),CR.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=TR.getComponent(s);if(o!==0){const a=ER.getComponent(s);PR.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),t.addScaledVector(cJ.copy(CR).applyMatrix4(PR),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}class rh extends Et{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Fd extends mn{constructor(e=null,t=1,r=1,i,s,o,a,l,c=Yn,u=Yn,f,d){super(null,o,a,l,c,u,i,s,f,d),this.isDataTexture=!0,this.image={data:e,width:t,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const RR=new qe,uJ=new qe;class Sh{constructor(e=[],t=[]){this.uuid=is(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new qe)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const r=new qe;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,t=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:uJ;RR.multiplyMatrices(a,t[s]),RR.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new Sh(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Y4(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const r=new Fd(t,e,e,Ci,Ta);return r.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=r,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,r=this.bones.length;t<r;t++){const i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new rh),this.bones.push(o),this.boneInverses.push(new qe().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,r=this.boneInverses;for(let i=0,s=t.length;i<s;i++){const o=t[i];e.bones.push(o.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class Vu extends Jt{constructor(e,t,r,i=1){super(e,t,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const DR=new qe,BR=new qe,Fv=[],fJ=new qe,wp=new Nn;class xC extends Nn{constructor(e,t,r){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Vu(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.frustumCulled=!1;for(let i=0;i<r;i++)this.setMatrixAt(i,fJ)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const r=this.matrixWorld,i=this.count;if(wp.geometry=this.geometry,wp.material=this.material,wp.material!==void 0)for(let s=0;s<i;s++){this.getMatrixAt(s,DR),BR.multiplyMatrices(r,DR),wp.matrixWorld=BR,wp.raycast(e,Fv);for(let o=0,a=Fv.length;o<a;o++){const l=Fv[o];l.instanceId=s,l.object=this,t.push(l)}Fv.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new Vu(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class Lr extends ir{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new He(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const IR=new $,LR=new $,kR=new qe,oS=new Tg,Nv=new Za;class Yo extends Et{constructor(e=new ht,t=new Lr){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[0];for(let i=1,s=t.count;i<s;i++)IR.fromBufferAttribute(t,i-1),LR.fromBufferAttribute(t,i),r[i]=r[i-1],r[i]+=IR.distanceTo(LR);e.setAttribute("lineDistance",new Ze(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Nv.copy(r.boundingSphere),Nv.applyMatrix4(i),Nv.radius+=s,e.ray.intersectsSphere(Nv)===!1)return;kR.copy(i).invert(),oS.copy(e.ray).applyMatrix4(kR);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=new $,u=new $,f=new $,d=new $,m=this.isLineSegments?2:1,g=r.index,y=r.attributes.position;if(g!==null){const x=Math.max(0,o.start),_=Math.min(g.count,o.start+o.count);for(let w=x,A=_-1;w<A;w+=m){const C=g.getX(w),E=g.getX(w+1);if(c.fromBufferAttribute(y,C),u.fromBufferAttribute(y,E),oS.distanceSqToSegment(c,u,d,f)>l)continue;d.applyMatrix4(this.matrixWorld);const b=e.ray.origin.distanceTo(d);b<e.near||b>e.far||t.push({distance:b,point:f.clone().applyMatrix4(this.matrixWorld),index:w,face:null,faceIndex:null,object:this})}}else{const x=Math.max(0,o.start),_=Math.min(y.count,o.start+o.count);for(let w=x,A=_-1;w<A;w+=m){if(c.fromBufferAttribute(y,w),u.fromBufferAttribute(y,w+1),oS.distanceSqToSegment(c,u,d,f)>l)continue;d.applyMatrix4(this.matrixWorld);const E=e.ray.origin.distanceTo(d);E<e.near||E>e.far||t.push({distance:E,point:f.clone().applyMatrix4(this.matrixWorld),index:w,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const OR=new $,FR=new $;class bo extends Yo{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[];for(let i=0,s=t.count;i<s;i+=2)OR.fromBufferAttribute(t,i),FR.fromBufferAttribute(t,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+OR.distanceTo(FR);e.setAttribute("lineDistance",new Ze(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class wC extends Yo{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class U_ extends ir{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new He(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const NR=new qe,Jb=new Tg,Uv=new Za,zv=new $;class SC extends Et{constructor(e=new ht,t=new U_){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Uv.copy(r.boundingSphere),Uv.applyMatrix4(i),Uv.radius+=s,e.ray.intersectsSphere(Uv)===!1)return;NR.copy(i).invert(),Jb.copy(e.ray).applyMatrix4(NR);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=r.index,f=r.attributes.position;if(c!==null){const d=Math.max(0,o.start),m=Math.min(c.count,o.start+o.count);for(let g=d,v=m;g<v;g++){const y=c.getX(g);zv.fromBufferAttribute(f,y),UR(zv,y,l,i,e,t,this)}}else{const d=Math.max(0,o.start),m=Math.min(f.count,o.start+o.count);for(let g=d,v=m;g<v;g++)zv.fromBufferAttribute(f,g),UR(zv,g,l,i,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function UR(n,e,t,r,i,s,o){const a=Jb.distanceSqToPoint(n);if(a<t){const l=new $;Jb.closestPointToPoint(n,l),l.applyMatrix4(r);const c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class hN extends mn{constructor(e,t,r,i,s,o,a,l,c){super(e,t,r,i,s,o,a,l,c),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:fn,this.magFilter=s!==void 0?s:fn,this.generateMipmaps=!1;const u=this;function f(){u.needsUpdate=!0,e.requestVideoFrameCallback(f)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(f)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class dJ extends mn{constructor(e,t,r){super({width:e,height:t}),this.isFramebufferTexture=!0,this.format=r,this.magFilter=Yn,this.minFilter=Yn,this.generateMipmaps=!1,this.needsUpdate=!0}}class AC extends mn{constructor(e,t,r,i,s,o,a,l,c,u,f,d){super(null,o,a,l,c,u,i,s,f,d),this.isCompressedTexture=!0,this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class hJ extends AC{constructor(e,t,r,i,s,o){super(e,t,r,s,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=cr}}class pJ extends mn{constructor(e,t,r,i,s,o,a,l,c){super(e,t,r,i,s,o,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class qs{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const r=this.getUtoTmapping(e);return this.getPoint(r,t)}getPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}getSpacedPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let r,i=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),s+=r.distanceTo(i),t.push(s),i=r;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const r=this.getLengths();let i=0;const s=r.length;let o;t?o=t:o=e*r[s-1];let a=0,l=s-1,c;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),c=r[i]-o,c<0)a=i+1;else if(c>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(s-1);const u=r[i],d=r[i+1]-u,m=(o-u)/d;return(i+m)/(s-1)}getTangent(e,t){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),a=this.getPoint(s),l=t||(o.isVector2?new De:new $);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,t){const r=this.getUtoTmapping(e);return this.getTangent(r,t)}computeFrenetFrames(e,t){const r=new $,i=[],s=[],o=[],a=new $,l=new qe;for(let m=0;m<=e;m++){const g=m/e;i[m]=this.getTangentAt(g,new $)}s[0]=new $,o[0]=new $;let c=Number.MAX_VALUE;const u=Math.abs(i[0].x),f=Math.abs(i[0].y),d=Math.abs(i[0].z);u<=c&&(c=u,r.set(1,0,0)),f<=c&&(c=f,r.set(0,1,0)),d<=c&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],a),o[0].crossVectors(i[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(i[m-1],i[m]),a.length()>Number.EPSILON){a.normalize();const g=Math.acos(Qn(i[m-1].dot(i[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(a,g))}o[m].crossVectors(i[m],s[m])}if(t===!0){let m=Math.acos(Qn(s[0].dot(s[e]),-1,1));m/=e,i[0].dot(a.crossVectors(s[0],s[e]))>0&&(m=-m);for(let g=1;g<=e;g++)s[g].applyMatrix4(l.makeRotationAxis(i[g],m*g)),o[g].crossVectors(i[g],s[g])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class z_ extends qs{constructor(e=0,t=0,r=1,i=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,t){const r=t||new De,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const u=Math.cos(this.aRotation),f=Math.sin(this.aRotation),d=l-this.aX,m=c-this.aY;l=d*u-m*f+this.aX,c=d*f+m*u+this.aY}return r.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class pN extends z_{constructor(e,t,r,i,s,o){super(e,t,r,r,i,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function bC(){let n=0,e=0,t=0,r=0;function i(s,o,a,l){n=s,e=a,t=-3*s+3*o-2*a-l,r=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){i(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,u,f){let d=(o-s)/c-(a-s)/(c+u)+(a-o)/u,m=(a-o)/u-(l-o)/(u+f)+(l-a)/f;d*=u,m*=u,i(o,a,d,m)},calc:function(s){const o=s*s,a=o*s;return n+e*s+t*o+r*a}}}const Gv=new $,aS=new bC,lS=new bC,cS=new bC;class mN extends qs{constructor(e=[],t=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=i}getPoint(e,t=new $){const r=t,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let c,u;this.closed||a>0?c=i[(a-1)%s]:(Gv.subVectors(i[0],i[1]).add(i[0]),c=Gv);const f=i[a%s],d=i[(a+1)%s];if(this.closed||a+2<s?u=i[(a+2)%s]:(Gv.subVectors(i[s-1],i[s-2]).add(i[s-1]),u=Gv),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let g=Math.pow(c.distanceToSquared(f),m),v=Math.pow(f.distanceToSquared(d),m),y=Math.pow(d.distanceToSquared(u),m);v<1e-4&&(v=1),g<1e-4&&(g=v),y<1e-4&&(y=v),aS.initNonuniformCatmullRom(c.x,f.x,d.x,u.x,g,v,y),lS.initNonuniformCatmullRom(c.y,f.y,d.y,u.y,g,v,y),cS.initNonuniformCatmullRom(c.z,f.z,d.z,u.z,g,v,y)}else this.curveType==="catmullrom"&&(aS.initCatmullRom(c.x,f.x,d.x,u.x,this.tension),lS.initCatmullRom(c.y,f.y,d.y,u.y,this.tension),cS.initCatmullRom(c.z,f.z,d.z,u.z,this.tension));return r.set(aS.calc(l),lS.calc(l),cS.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new $().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function zR(n,e,t,r,i){const s=(r-e)*.5,o=(i-t)*.5,a=n*n,l=n*a;return(2*t-2*r+s+o)*l+(-3*t+3*r-2*s-o)*a+s*n+t}function mJ(n,e){const t=1-n;return t*t*e}function gJ(n,e){return 2*(1-n)*n*e}function vJ(n,e){return n*n*e}function om(n,e,t,r){return mJ(n,e)+gJ(n,t)+vJ(n,r)}function yJ(n,e){const t=1-n;return t*t*t*e}function _J(n,e){const t=1-n;return 3*t*t*n*e}function xJ(n,e){return 3*(1-n)*n*n*e}function wJ(n,e){return n*n*n*e}function am(n,e,t,r,i){return yJ(n,e)+_J(n,t)+xJ(n,r)+wJ(n,i)}class MC extends qs{constructor(e=new De,t=new De,r=new De,i=new De){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new De){const r=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(am(e,i.x,s.x,o.x,a.x),am(e,i.y,s.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class gN extends qs{constructor(e=new $,t=new $,r=new $,i=new $){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new $){const r=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(am(e,i.x,s.x,o.x,a.x),am(e,i.y,s.y,o.y,a.y),am(e,i.z,s.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class G_ extends qs{constructor(e=new De,t=new De){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new De){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){const r=t||new De;return r.copy(this.v2).sub(this.v1).normalize(),r}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class vN extends qs{constructor(e=new $,t=new $){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new $){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class CC extends qs{constructor(e=new De,t=new De,r=new De){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new De){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(om(e,i.x,s.x,o.x),om(e,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class EC extends qs{constructor(e=new $,t=new $,r=new $){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new $){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(om(e,i.x,s.x,o.x),om(e,i.y,s.y,o.y),om(e,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class TC extends qs{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new De){const r=t,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,l=i[o===0?o:o-1],c=i[o],u=i[o>i.length-2?i.length-1:o+1],f=i[o>i.length-3?i.length-1:o+2];return r.set(zR(a,l.x,c.x,u.x,f.x),zR(a,l.y,c.y,u.y,f.y)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new De().fromArray(i))}return this}}var PC=Object.freeze({__proto__:null,ArcCurve:pN,CatmullRomCurve3:mN,CubicBezierCurve:MC,CubicBezierCurve3:gN,EllipseCurve:z_,LineCurve:G_,LineCurve3:vN,QuadraticBezierCurve:CC,QuadraticBezierCurve3:EC,SplineCurve:TC});class yN extends qs{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new G_(t,e))}getPoint(e,t){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,a=this.curves[s],l=a.getLength(),c=l===0?0:1-o/l;return a.getPointAt(c,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let r=0,i=this.curves.length;r<i;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let c=0;c<l.length;c++){const u=l[c];r&&r.equals(u)||(t.push(u),r=u)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(new PC[i.type]().fromJSON(i))}return this}}class Ym extends yN{constructor(e){super(),this.type="Path",this.currentPoint=new De,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const r=new G_(this.currentPoint.clone(),new De(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,i){const s=new CC(this.currentPoint.clone(),new De(e,t),new De(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,t,r,i,s,o){const a=new MC(this.currentPoint.clone(),new De(e,t),new De(r,i),new De(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),r=new TC(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,i,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,r,i,s,o),this}absarc(e,t,r,i,s,o){return this.absellipse(e,t,r,r,i,s,o),this}ellipse(e,t,r,i,s,o,a,l){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,t+u,r,i,s,o,a,l),this}absellipse(e,t,r,i,s,o,a,l){const c=new z_(e,t,r,i,s,o,a,l);if(this.curves.length>0){const f=c.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Ah extends ht{constructor(e=[new De(0,-.5),new De(.5,0),new De(0,.5)],t=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:i},t=Math.floor(t),i=Qn(i,0,Math.PI*2);const s=[],o=[],a=[],l=[],c=[],u=1/t,f=new $,d=new De,m=new $,g=new $,v=new $;let y=0,x=0;for(let _=0;_<=e.length-1;_++)switch(_){case 0:y=e[_+1].x-e[_].x,x=e[_+1].y-e[_].y,m.x=x*1,m.y=-y,m.z=x*0,v.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(v.x,v.y,v.z);break;default:y=e[_+1].x-e[_].x,x=e[_+1].y-e[_].y,m.x=x*1,m.y=-y,m.z=x*0,g.copy(m),m.x+=v.x,m.y+=v.y,m.z+=v.z,m.normalize(),l.push(m.x,m.y,m.z),v.copy(g)}for(let _=0;_<=t;_++){const w=r+_*u*i,A=Math.sin(w),C=Math.cos(w);for(let E=0;E<=e.length-1;E++){f.x=e[E].x*A,f.y=e[E].y,f.z=e[E].x*C,o.push(f.x,f.y,f.z),d.x=_/t,d.y=E/(e.length-1),a.push(d.x,d.y);const P=l[3*E+0]*A,b=l[3*E+1],R=l[3*E+0]*C;c.push(P,b,R)}}for(let _=0;_<t;_++)for(let w=0;w<e.length-1;w++){const A=w+_*e.length,C=A,E=A+e.length,P=A+e.length+1,b=A+1;s.push(C,E,b),s.push(P,b,E)}this.setIndex(s),this.setAttribute("position",new Ze(o,3)),this.setAttribute("uv",new Ze(a,2)),this.setAttribute("normal",new Ze(c,3))}static fromJSON(e){return new Ah(e.points,e.segments,e.phiStart,e.phiLength)}}class Bg extends Ah{constructor(e=1,t=1,r=4,i=8){const s=new Ym;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:r,radialSegments:i}}static fromJSON(e){return new Bg(e.radius,e.length,e.capSegments,e.radialSegments)}}class Ig extends ht{constructor(e=1,t=8,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:i},t=Math.max(3,t);const s=[],o=[],a=[],l=[],c=new $,u=new De;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let f=0,d=3;f<=t;f++,d+=3){const m=r+f/t*i;c.x=e*Math.cos(m),c.y=e*Math.sin(m),o.push(c.x,c.y,c.z),a.push(0,0,1),u.x=(o[d]/e+1)/2,u.y=(o[d+1]/e+1)/2,l.push(u.x,u.y)}for(let f=1;f<=t;f++)s.push(f,f+1,0);this.setIndex(s),this.setAttribute("position",new Ze(o,3)),this.setAttribute("normal",new Ze(a,3)),this.setAttribute("uv",new Ze(l,2))}static fromJSON(e){return new Ig(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class nf extends ht{constructor(e=1,t=1,r=1,i=8,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;i=Math.floor(i),s=Math.floor(s);const u=[],f=[],d=[],m=[];let g=0;const v=[],y=r/2;let x=0;_(),o===!1&&(e>0&&w(!0),t>0&&w(!1)),this.setIndex(u),this.setAttribute("position",new Ze(f,3)),this.setAttribute("normal",new Ze(d,3)),this.setAttribute("uv",new Ze(m,2));function _(){const A=new $,C=new $;let E=0;const P=(t-e)/r;for(let b=0;b<=s;b++){const R=[],D=b/s,L=D*(t-e)+e;for(let N=0;N<=i;N++){const z=N/i,k=z*l+a,V=Math.sin(k),W=Math.cos(k);C.x=L*V,C.y=-D*r+y,C.z=L*W,f.push(C.x,C.y,C.z),A.set(V,P,W).normalize(),d.push(A.x,A.y,A.z),m.push(z,1-D),R.push(g++)}v.push(R)}for(let b=0;b<i;b++)for(let R=0;R<s;R++){const D=v[R][b],L=v[R+1][b],N=v[R+1][b+1],z=v[R][b+1];u.push(D,L,z),u.push(L,N,z),E+=6}c.addGroup(x,E,0),x+=E}function w(A){const C=g,E=new De,P=new $;let b=0;const R=A===!0?e:t,D=A===!0?1:-1;for(let N=1;N<=i;N++)f.push(0,y*D,0),d.push(0,D,0),m.push(.5,.5),g++;const L=g;for(let N=0;N<=i;N++){const k=N/i*l+a,V=Math.cos(k),W=Math.sin(k);P.x=R*W,P.y=y*D,P.z=R*V,f.push(P.x,P.y,P.z),d.push(0,D,0),E.x=V*.5+.5,E.y=W*.5*D+.5,m.push(E.x,E.y),g++}for(let N=0;N<i;N++){const z=C+N,k=L+N;A===!0?u.push(k,k+1,z):u.push(k+1,k,z),b+=3}c.addGroup(x,b,A===!0?1:2),x+=b}}static fromJSON(e){return new nf(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Lg extends nf{constructor(e=1,t=1,r=8,i=1,s=!1,o=0,a=Math.PI*2){super(0,e,t,r,i,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new Lg(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class tl extends ht{constructor(e=[],t=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:i};const s=[],o=[];a(i),c(r),u(),this.setAttribute("position",new Ze(s,3)),this.setAttribute("normal",new Ze(s.slice(),3)),this.setAttribute("uv",new Ze(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(_){const w=new $,A=new $,C=new $;for(let E=0;E<t.length;E+=3)m(t[E+0],w),m(t[E+1],A),m(t[E+2],C),l(w,A,C,_)}function l(_,w,A,C){const E=C+1,P=[];for(let b=0;b<=E;b++){P[b]=[];const R=_.clone().lerp(A,b/E),D=w.clone().lerp(A,b/E),L=E-b;for(let N=0;N<=L;N++)N===0&&b===E?P[b][N]=R:P[b][N]=R.clone().lerp(D,N/L)}for(let b=0;b<E;b++)for(let R=0;R<2*(E-b)-1;R++){const D=Math.floor(R/2);R%2===0?(d(P[b][D+1]),d(P[b+1][D]),d(P[b][D])):(d(P[b][D+1]),d(P[b+1][D+1]),d(P[b+1][D]))}}function c(_){const w=new $;for(let A=0;A<s.length;A+=3)w.x=s[A+0],w.y=s[A+1],w.z=s[A+2],w.normalize().multiplyScalar(_),s[A+0]=w.x,s[A+1]=w.y,s[A+2]=w.z}function u(){const _=new $;for(let w=0;w<s.length;w+=3){_.x=s[w+0],_.y=s[w+1],_.z=s[w+2];const A=y(_)/2/Math.PI+.5,C=x(_)/Math.PI+.5;o.push(A,1-C)}g(),f()}function f(){for(let _=0;_<o.length;_+=6){const w=o[_+0],A=o[_+2],C=o[_+4],E=Math.max(w,A,C),P=Math.min(w,A,C);E>.9&&P<.1&&(w<.2&&(o[_+0]+=1),A<.2&&(o[_+2]+=1),C<.2&&(o[_+4]+=1))}}function d(_){s.push(_.x,_.y,_.z)}function m(_,w){const A=_*3;w.x=e[A+0],w.y=e[A+1],w.z=e[A+2]}function g(){const _=new $,w=new $,A=new $,C=new $,E=new De,P=new De,b=new De;for(let R=0,D=0;R<s.length;R+=9,D+=6){_.set(s[R+0],s[R+1],s[R+2]),w.set(s[R+3],s[R+4],s[R+5]),A.set(s[R+6],s[R+7],s[R+8]),E.set(o[D+0],o[D+1]),P.set(o[D+2],o[D+3]),b.set(o[D+4],o[D+5]),C.copy(_).add(w).add(A).divideScalar(3);const L=y(C);v(E,D+0,_,L),v(P,D+2,w,L),v(b,D+4,A,L)}}function v(_,w,A,C){C<0&&_.x===1&&(o[w]=_.x-1),A.x===0&&A.z===0&&(o[w]=C/2/Math.PI+.5)}function y(_){return Math.atan2(_.z,-_.x)}function x(_){return Math.atan2(-_.y,Math.sqrt(_.x*_.x+_.z*_.z))}}static fromJSON(e){return new tl(e.vertices,e.indices,e.radius,e.details)}}class kg extends tl{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new kg(e.radius,e.detail)}}const Hv=new $,Vv=new $,uS=new $,Wv=new Ns;class _N extends ht{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const i=Math.pow(10,4),s=Math.cos(Mu*t),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,c=[0,0,0],u=["a","b","c"],f=new Array(3),d={},m=[];for(let g=0;g<l;g+=3){o?(c[0]=o.getX(g),c[1]=o.getX(g+1),c[2]=o.getX(g+2)):(c[0]=g,c[1]=g+1,c[2]=g+2);const{a:v,b:y,c:x}=Wv;if(v.fromBufferAttribute(a,c[0]),y.fromBufferAttribute(a,c[1]),x.fromBufferAttribute(a,c[2]),Wv.getNormal(uS),f[0]=`${Math.round(v.x*i)},${Math.round(v.y*i)},${Math.round(v.z*i)}`,f[1]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,f[2]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,!(f[0]===f[1]||f[1]===f[2]||f[2]===f[0]))for(let _=0;_<3;_++){const w=(_+1)%3,A=f[_],C=f[w],E=Wv[u[_]],P=Wv[u[w]],b=`${A}_${C}`,R=`${C}_${A}`;R in d&&d[R]?(uS.dot(d[R].normal)<=s&&(m.push(E.x,E.y,E.z),m.push(P.x,P.y,P.z)),d[R]=null):b in d||(d[b]={index0:c[_],index1:c[w],normal:uS.clone()})}}for(const g in d)if(d[g]){const{index0:v,index1:y}=d[g];Hv.fromBufferAttribute(a,v),Vv.fromBufferAttribute(a,y),m.push(Hv.x,Hv.y,Hv.z),m.push(Vv.x,Vv.y,Vv.z)}this.setAttribute("position",new Ze(m,3))}}}class Tu extends Ym{constructor(e){super(e),this.uuid=is(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let r=0,i=this.holes.length;r<i;r++)t[r]=this.holes[r].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(new Ym().fromJSON(i))}return this}}const SJ={triangulate:function(n,e,t=2){const r=e&&e.length,i=r?e[0]*t:n.length;let s=xN(n,0,i,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c,u,f,d,m;if(r&&(s=EJ(n,e,s,t)),n.length>80*t){a=c=n[0],l=u=n[1];for(let g=t;g<i;g+=t)f=n[g],d=n[g+1],f<a&&(a=f),d<l&&(l=d),f>c&&(c=f),d>u&&(u=d);m=Math.max(c-a,u-l),m=m!==0?32767/m:0}return Qm(s,o,t,a,l,m,0),o}};function xN(n,e,t,r,i){let s,o;if(i===NJ(n,e,t,r)>0)for(s=e;s<t;s+=r)o=GR(s,n[s],n[s+1],o);else for(s=t-r;s>=e;s-=r)o=GR(s,n[s],n[s+1],o);return o&&H_(o,o.next)&&(Zm(o),o=o.next),o}function Wu(n,e){if(!n)return n;e||(e=n);let t=n,r;do if(r=!1,!t.steiner&&(H_(t,t.next)||En(t.prev,t,t.next)===0)){if(Zm(t),t=e=t.prev,t===t.next)break;r=!0}else t=t.next;while(r||t!==e);return e}function Qm(n,e,t,r,i,s,o){if(!n)return;!o&&s&&BJ(n,r,i,s);let a=n,l,c;for(;n.prev!==n.next;){if(l=n.prev,c=n.next,s?bJ(n,r,i,s):AJ(n)){e.push(l.i/t|0),e.push(n.i/t|0),e.push(c.i/t|0),Zm(n),n=c.next,a=c.next;continue}if(n=c,n===a){o?o===1?(n=MJ(Wu(n),e,t),Qm(n,e,t,r,i,s,2)):o===2&&CJ(n,e,t,r,i,s):Qm(Wu(n),e,t,r,i,s,1);break}}}function AJ(n){const e=n.prev,t=n,r=n.next;if(En(e,t,r)>=0)return!1;const i=e.x,s=t.x,o=r.x,a=e.y,l=t.y,c=r.y,u=i<s?i<o?i:o:s<o?s:o,f=a<l?a<c?a:c:l<c?l:c,d=i>s?i>o?i:o:s>o?s:o,m=a>l?a>c?a:c:l>c?l:c;let g=r.next;for(;g!==e;){if(g.x>=u&&g.x<=d&&g.y>=f&&g.y<=m&&wd(i,a,s,l,o,c,g.x,g.y)&&En(g.prev,g,g.next)>=0)return!1;g=g.next}return!0}function bJ(n,e,t,r){const i=n.prev,s=n,o=n.next;if(En(i,s,o)>=0)return!1;const a=i.x,l=s.x,c=o.x,u=i.y,f=s.y,d=o.y,m=a<l?a<c?a:c:l<c?l:c,g=u<f?u<d?u:d:f<d?f:d,v=a>l?a>c?a:c:l>c?l:c,y=u>f?u>d?u:d:f>d?f:d,x=Kb(m,g,e,t,r),_=Kb(v,y,e,t,r);let w=n.prevZ,A=n.nextZ;for(;w&&w.z>=x&&A&&A.z<=_;){if(w.x>=m&&w.x<=v&&w.y>=g&&w.y<=y&&w!==i&&w!==o&&wd(a,u,l,f,c,d,w.x,w.y)&&En(w.prev,w,w.next)>=0||(w=w.prevZ,A.x>=m&&A.x<=v&&A.y>=g&&A.y<=y&&A!==i&&A!==o&&wd(a,u,l,f,c,d,A.x,A.y)&&En(A.prev,A,A.next)>=0))return!1;A=A.nextZ}for(;w&&w.z>=x;){if(w.x>=m&&w.x<=v&&w.y>=g&&w.y<=y&&w!==i&&w!==o&&wd(a,u,l,f,c,d,w.x,w.y)&&En(w.prev,w,w.next)>=0)return!1;w=w.prevZ}for(;A&&A.z<=_;){if(A.x>=m&&A.x<=v&&A.y>=g&&A.y<=y&&A!==i&&A!==o&&wd(a,u,l,f,c,d,A.x,A.y)&&En(A.prev,A,A.next)>=0)return!1;A=A.nextZ}return!0}function MJ(n,e,t){let r=n;do{const i=r.prev,s=r.next.next;!H_(i,s)&&wN(i,r,r.next,s)&&qm(i,s)&&qm(s,i)&&(e.push(i.i/t|0),e.push(r.i/t|0),e.push(s.i/t|0),Zm(r),Zm(r.next),r=n=s),r=r.next}while(r!==n);return Wu(r)}function CJ(n,e,t,r,i,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&kJ(o,a)){let l=SN(o,a);o=Wu(o,o.next),l=Wu(l,l.next),Qm(o,e,t,r,i,s,0),Qm(l,e,t,r,i,s,0);return}a=a.next}o=o.next}while(o!==n)}function EJ(n,e,t,r){const i=[];let s,o,a,l,c;for(s=0,o=e.length;s<o;s++)a=e[s]*r,l=s<o-1?e[s+1]*r:n.length,c=xN(n,a,l,r,!1),c===c.next&&(c.steiner=!0),i.push(LJ(c));for(i.sort(TJ),s=0;s<i.length;s++)t=PJ(i[s],t);return t}function TJ(n,e){return n.x-e.x}function PJ(n,e){const t=RJ(n,e);if(!t)return e;const r=SN(t,n);return Wu(r,r.next),Wu(t,t.next)}function RJ(n,e){let t=e,r=-1/0,i;const s=n.x,o=n.y;do{if(o<=t.y&&o>=t.next.y&&t.next.y!==t.y){const d=t.x+(o-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(d<=s&&d>r&&(r=d,i=t.x<t.next.x?t:t.next,d===s))return i}t=t.next}while(t!==e);if(!i)return null;const a=i,l=i.x,c=i.y;let u=1/0,f;t=i;do s>=t.x&&t.x>=l&&s!==t.x&&wd(o<c?s:r,o,l,c,o<c?r:s,o,t.x,t.y)&&(f=Math.abs(o-t.y)/(s-t.x),qm(t,n)&&(f<u||f===u&&(t.x>i.x||t.x===i.x&&DJ(i,t)))&&(i=t,u=f)),t=t.next;while(t!==a);return i}function DJ(n,e){return En(n.prev,n,e.prev)<0&&En(e.next,n,n.next)<0}function BJ(n,e,t,r){let i=n;do i.z===0&&(i.z=Kb(i.x,i.y,e,t,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==n);i.prevZ.nextZ=null,i.prevZ=null,IJ(i)}function IJ(n){let e,t,r,i,s,o,a,l,c=1;do{for(t=n,n=null,s=null,o=0;t;){for(o++,r=t,a=0,e=0;e<c&&(a++,r=r.nextZ,!!r);e++);for(l=c;a>0||l>0&&r;)a!==0&&(l===0||!r||t.z<=r.z)?(i=t,t=t.nextZ,a--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:n=i,i.prevZ=s,s=i;t=r}s.nextZ=null,c*=2}while(o>1);return n}function Kb(n,e,t,r,i){return n=(n-t)*i|0,e=(e-r)*i|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function LJ(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function wd(n,e,t,r,i,s,o,a){return(i-o)*(e-a)>=(n-o)*(s-a)&&(n-o)*(r-a)>=(t-o)*(e-a)&&(t-o)*(s-a)>=(i-o)*(r-a)}function kJ(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!OJ(n,e)&&(qm(n,e)&&qm(e,n)&&FJ(n,e)&&(En(n.prev,n,e.prev)||En(n,e.prev,e))||H_(n,e)&&En(n.prev,n,n.next)>0&&En(e.prev,e,e.next)>0)}function En(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function H_(n,e){return n.x===e.x&&n.y===e.y}function wN(n,e,t,r){const i=$v(En(n,e,t)),s=$v(En(n,e,r)),o=$v(En(t,r,n)),a=$v(En(t,r,e));return!!(i!==s&&o!==a||i===0&&jv(n,t,e)||s===0&&jv(n,r,e)||o===0&&jv(t,n,r)||a===0&&jv(t,e,r))}function jv(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function $v(n){return n>0?1:n<0?-1:0}function OJ(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&wN(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function qm(n,e){return En(n.prev,n,n.next)<0?En(n,e,n.next)>=0&&En(n,n.prev,e)>=0:En(n,e,n.prev)<0||En(n,n.next,e)<0}function FJ(n,e){let t=n,r=!1;const i=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&i<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next;while(t!==n);return r}function SN(n,e){const t=new Yb(n.i,n.x,n.y),r=new Yb(e.i,e.x,e.y),i=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=i,i.prev=t,r.next=t,t.prev=r,s.next=r,r.prev=s,r}function GR(n,e,t,r){const i=new Yb(n,e,t);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Zm(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function Yb(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function NJ(n,e,t,r){let i=0;for(let s=e,o=t-r;s<t;s+=r)i+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return i}class jo{static area(e){const t=e.length;let r=0;for(let i=t-1,s=0;s<t;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return jo.area(e)<0}static triangulateShape(e,t){const r=[],i=[],s=[];HR(e),VR(r,e);let o=e.length;t.forEach(HR);for(let l=0;l<t.length;l++)i.push(o),o+=t[l].length,VR(r,t[l]);const a=SJ.triangulate(r,i);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function HR(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function VR(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class Og extends ht{constructor(e=new Tu([new De(.5,.5),new De(-.5,.5),new De(-.5,-.5),new De(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];o(c)}this.setAttribute("position",new Ze(i,3)),this.setAttribute("uv",new Ze(s,2)),this.computeVertexNormals();function o(a){const l=[],c=t.curveSegments!==void 0?t.curveSegments:12,u=t.steps!==void 0?t.steps:1,f=t.depth!==void 0?t.depth:1;let d=t.bevelEnabled!==void 0?t.bevelEnabled:!0,m=t.bevelThickness!==void 0?t.bevelThickness:.2,g=t.bevelSize!==void 0?t.bevelSize:m-.1,v=t.bevelOffset!==void 0?t.bevelOffset:0,y=t.bevelSegments!==void 0?t.bevelSegments:3;const x=t.extrudePath,_=t.UVGenerator!==void 0?t.UVGenerator:UJ;let w,A=!1,C,E,P,b;x&&(w=x.getSpacedPoints(u),A=!0,d=!1,C=x.computeFrenetFrames(u,!1),E=new $,P=new $,b=new $),d||(y=0,m=0,g=0,v=0);const R=a.extractPoints(c);let D=R.shape;const L=R.holes;if(!jo.isClockWise(D)){D=D.reverse();for(let ne=0,le=L.length;ne<le;ne++){const Ee=L[ne];jo.isClockWise(Ee)&&(L[ne]=Ee.reverse())}}const z=jo.triangulateShape(D,L),k=D;for(let ne=0,le=L.length;ne<le;ne++){const Ee=L[ne];D=D.concat(Ee)}function V(ne,le,Ee){return le||console.error("THREE.ExtrudeGeometry: vec does not exist"),le.clone().multiplyScalar(Ee).add(ne)}const W=D.length,Y=z.length;function O(ne,le,Ee){let Ce,Ae,je;const we=ne.x-le.x,Le=ne.y-le.y,Ue=Ee.x-ne.x,_e=Ee.y-ne.y,j=we*we+Le*Le,F=we*_e-Le*Ue;if(Math.abs(F)>Number.EPSILON){const q=Math.sqrt(j),de=Math.sqrt(Ue*Ue+_e*_e),Te=le.x-Le/q,Re=le.y+we/q,Oe=Ee.x-_e/de,Be=Ee.y+Ue/de,ge=((Oe-Te)*_e-(Be-Re)*Ue)/(we*_e-Le*Ue);Ce=Te+we*ge-ne.x,Ae=Re+Le*ge-ne.y;const We=Ce*Ce+Ae*Ae;if(We<=2)return new De(Ce,Ae);je=Math.sqrt(We/2)}else{let q=!1;we>Number.EPSILON?Ue>Number.EPSILON&&(q=!0):we<-Number.EPSILON?Ue<-Number.EPSILON&&(q=!0):Math.sign(Le)===Math.sign(_e)&&(q=!0),q?(Ce=-Le,Ae=we,je=Math.sqrt(j)):(Ce=we,Ae=Le,je=Math.sqrt(j/2))}return new De(Ce/je,Ae/je)}const U=[];for(let ne=0,le=k.length,Ee=le-1,Ce=ne+1;ne<le;ne++,Ee++,Ce++)Ee===le&&(Ee=0),Ce===le&&(Ce=0),U[ne]=O(k[ne],k[Ee],k[Ce]);const H=[];let G,X=U.concat();for(let ne=0,le=L.length;ne<le;ne++){const Ee=L[ne];G=[];for(let Ce=0,Ae=Ee.length,je=Ae-1,we=Ce+1;Ce<Ae;Ce++,je++,we++)je===Ae&&(je=0),we===Ae&&(we=0),G[Ce]=O(Ee[Ce],Ee[je],Ee[we]);H.push(G),X=X.concat(G)}for(let ne=0;ne<y;ne++){const le=ne/y,Ee=m*Math.cos(le*Math.PI/2),Ce=g*Math.sin(le*Math.PI/2)+v;for(let Ae=0,je=k.length;Ae<je;Ae++){const we=V(k[Ae],U[Ae],Ce);ue(we.x,we.y,-Ee)}for(let Ae=0,je=L.length;Ae<je;Ae++){const we=L[Ae];G=H[Ae];for(let Le=0,Ue=we.length;Le<Ue;Le++){const _e=V(we[Le],G[Le],Ce);ue(_e.x,_e.y,-Ee)}}}const Z=g+v;for(let ne=0;ne<W;ne++){const le=d?V(D[ne],X[ne],Z):D[ne];A?(P.copy(C.normals[0]).multiplyScalar(le.x),E.copy(C.binormals[0]).multiplyScalar(le.y),b.copy(w[0]).add(P).add(E),ue(b.x,b.y,b.z)):ue(le.x,le.y,0)}for(let ne=1;ne<=u;ne++)for(let le=0;le<W;le++){const Ee=d?V(D[le],X[le],Z):D[le];A?(P.copy(C.normals[ne]).multiplyScalar(Ee.x),E.copy(C.binormals[ne]).multiplyScalar(Ee.y),b.copy(w[ne]).add(P).add(E),ue(b.x,b.y,b.z)):ue(Ee.x,Ee.y,f/u*ne)}for(let ne=y-1;ne>=0;ne--){const le=ne/y,Ee=m*Math.cos(le*Math.PI/2),Ce=g*Math.sin(le*Math.PI/2)+v;for(let Ae=0,je=k.length;Ae<je;Ae++){const we=V(k[Ae],U[Ae],Ce);ue(we.x,we.y,f+Ee)}for(let Ae=0,je=L.length;Ae<je;Ae++){const we=L[Ae];G=H[Ae];for(let Le=0,Ue=we.length;Le<Ue;Le++){const _e=V(we[Le],G[Le],Ce);A?ue(_e.x,_e.y+w[u-1].y,w[u-1].x+Ee):ue(_e.x,_e.y,f+Ee)}}}re(),ie();function re(){const ne=i.length/3;if(d){let le=0,Ee=W*le;for(let Ce=0;Ce<Y;Ce++){const Ae=z[Ce];he(Ae[2]+Ee,Ae[1]+Ee,Ae[0]+Ee)}le=u+y*2,Ee=W*le;for(let Ce=0;Ce<Y;Ce++){const Ae=z[Ce];he(Ae[0]+Ee,Ae[1]+Ee,Ae[2]+Ee)}}else{for(let le=0;le<Y;le++){const Ee=z[le];he(Ee[2],Ee[1],Ee[0])}for(let le=0;le<Y;le++){const Ee=z[le];he(Ee[0]+W*u,Ee[1]+W*u,Ee[2]+W*u)}}r.addGroup(ne,i.length/3-ne,0)}function ie(){const ne=i.length/3;let le=0;Q(k,le),le+=k.length;for(let Ee=0,Ce=L.length;Ee<Ce;Ee++){const Ae=L[Ee];Q(Ae,le),le+=Ae.length}r.addGroup(ne,i.length/3-ne,1)}function Q(ne,le){let Ee=ne.length;for(;--Ee>=0;){const Ce=Ee;let Ae=Ee-1;Ae<0&&(Ae=ne.length-1);for(let je=0,we=u+y*2;je<we;je++){const Le=W*je,Ue=W*(je+1),_e=le+Ce+Le,j=le+Ae+Le,F=le+Ae+Ue,q=le+Ce+Ue;be(_e,j,F,q)}}}function ue(ne,le,Ee){l.push(ne),l.push(le),l.push(Ee)}function he(ne,le,Ee){ye(ne),ye(le),ye(Ee);const Ce=i.length/3,Ae=_.generateTopUV(r,i,Ce-3,Ce-2,Ce-1);Se(Ae[0]),Se(Ae[1]),Se(Ae[2])}function be(ne,le,Ee,Ce){ye(ne),ye(le),ye(Ce),ye(le),ye(Ee),ye(Ce);const Ae=i.length/3,je=_.generateSideWallUV(r,i,Ae-6,Ae-3,Ae-2,Ae-1);Se(je[0]),Se(je[1]),Se(je[3]),Se(je[1]),Se(je[2]),Se(je[3])}function ye(ne){i.push(l[ne*3+0]),i.push(l[ne*3+1]),i.push(l[ne*3+2])}function Se(ne){s.push(ne.x),s.push(ne.y)}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,r=this.parameters.options;return zJ(t,r,e)}static fromJSON(e,t){const r=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new PC[i.type]().fromJSON(i)),new Og(r,e.options)}}const UJ={generateTopUV:function(n,e,t,r,i){const s=e[t*3],o=e[t*3+1],a=e[r*3],l=e[r*3+1],c=e[i*3],u=e[i*3+1];return[new De(s,o),new De(a,l),new De(c,u)]},generateSideWallUV:function(n,e,t,r,i,s){const o=e[t*3],a=e[t*3+1],l=e[t*3+2],c=e[r*3],u=e[r*3+1],f=e[r*3+2],d=e[i*3],m=e[i*3+1],g=e[i*3+2],v=e[s*3],y=e[s*3+1],x=e[s*3+2];return Math.abs(a-u)<Math.abs(o-c)?[new De(o,1-l),new De(c,1-f),new De(d,1-g),new De(v,1-x)]:[new De(a,1-l),new De(u,1-f),new De(m,1-g),new De(y,1-x)]}};function zJ(n,e,t){if(t.shapes=[],Array.isArray(n))for(let r=0,i=n.length;r<i;r++){const s=n[r];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class Fg extends tl{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Fg(e.radius,e.detail)}}class bh extends tl{constructor(e=1,t=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new bh(e.radius,e.detail)}}class Ng extends ht{constructor(e=.5,t=1,r=8,i=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],c=[],u=[];let f=e;const d=(t-e)/i,m=new $,g=new De;for(let v=0;v<=i;v++){for(let y=0;y<=r;y++){const x=s+y/r*o;m.x=f*Math.cos(x),m.y=f*Math.sin(x),l.push(m.x,m.y,m.z),c.push(0,0,1),g.x=(m.x/t+1)/2,g.y=(m.y/t+1)/2,u.push(g.x,g.y)}f+=d}for(let v=0;v<i;v++){const y=v*(r+1);for(let x=0;x<r;x++){const _=x+y,w=_,A=_+r+1,C=_+r+2,E=_+1;a.push(w,A,E),a.push(A,C,E)}}this.setIndex(a),this.setAttribute("position",new Ze(l,3)),this.setAttribute("normal",new Ze(c,3)),this.setAttribute("uv",new Ze(u,2))}static fromJSON(e){return new Ng(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Ug extends ht{constructor(e=new Tu([new De(0,.5),new De(-.5,-.5),new De(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const r=[],i=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(a,l,u),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new Ze(i,3)),this.setAttribute("normal",new Ze(s,3)),this.setAttribute("uv",new Ze(o,2));function c(u){const f=i.length/3,d=u.extractPoints(t);let m=d.shape;const g=d.holes;jo.isClockWise(m)===!1&&(m=m.reverse());for(let y=0,x=g.length;y<x;y++){const _=g[y];jo.isClockWise(_)===!0&&(g[y]=_.reverse())}const v=jo.triangulateShape(m,g);for(let y=0,x=g.length;y<x;y++){const _=g[y];m=m.concat(_)}for(let y=0,x=m.length;y<x;y++){const _=m[y];i.push(_.x,_.y,0),s.push(0,0,1),o.push(_.x,_.y)}for(let y=0,x=v.length;y<x;y++){const _=v[y],w=_[0]+f,A=_[1]+f,C=_[2]+f;r.push(w,A,C),l+=3}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return GJ(t,e)}static fromJSON(e,t){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=t[e.shapes[i]];r.push(o)}return new Ug(r,e.curveSegments)}}function GJ(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const i=n[t];e.shapes.push(i.uuid)}else e.shapes.push(n.uuid);return e}class Mh extends ht{constructor(e=1,t=32,r=16,i=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));const l=Math.min(o+a,Math.PI);let c=0;const u=[],f=new $,d=new $,m=[],g=[],v=[],y=[];for(let x=0;x<=r;x++){const _=[],w=x/r;let A=0;x==0&&o==0?A=.5/t:x==r&&l==Math.PI&&(A=-.5/t);for(let C=0;C<=t;C++){const E=C/t;f.x=-e*Math.cos(i+E*s)*Math.sin(o+w*a),f.y=e*Math.cos(o+w*a),f.z=e*Math.sin(i+E*s)*Math.sin(o+w*a),g.push(f.x,f.y,f.z),d.copy(f).normalize(),v.push(d.x,d.y,d.z),y.push(E+A,1-w),_.push(c++)}u.push(_)}for(let x=0;x<r;x++)for(let _=0;_<t;_++){const w=u[x][_+1],A=u[x][_],C=u[x+1][_],E=u[x+1][_+1];(x!==0||o>0)&&m.push(w,A,E),(x!==r-1||l<Math.PI)&&m.push(A,C,E)}this.setIndex(m),this.setAttribute("position",new Ze(g,3)),this.setAttribute("normal",new Ze(v,3)),this.setAttribute("uv",new Ze(y,2))}static fromJSON(e){return new Mh(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class zg extends tl{constructor(e=1,t=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new zg(e.radius,e.detail)}}class Gg extends ht{constructor(e=1,t=.4,r=8,i=6,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],a=[],l=[],c=[],u=new $,f=new $,d=new $;for(let m=0;m<=r;m++)for(let g=0;g<=i;g++){const v=g/i*s,y=m/r*Math.PI*2;f.x=(e+t*Math.cos(y))*Math.cos(v),f.y=(e+t*Math.cos(y))*Math.sin(v),f.z=t*Math.sin(y),a.push(f.x,f.y,f.z),u.x=e*Math.cos(v),u.y=e*Math.sin(v),d.subVectors(f,u).normalize(),l.push(d.x,d.y,d.z),c.push(g/i),c.push(m/r)}for(let m=1;m<=r;m++)for(let g=1;g<=i;g++){const v=(i+1)*m+g-1,y=(i+1)*(m-1)+g-1,x=(i+1)*(m-1)+g,_=(i+1)*m+g;o.push(v,y,_),o.push(y,x,_)}this.setIndex(o),this.setAttribute("position",new Ze(a,3)),this.setAttribute("normal",new Ze(l,3)),this.setAttribute("uv",new Ze(c,2))}static fromJSON(e){return new Gg(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class Hg extends ht{constructor(e=1,t=.4,r=64,i=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:i,p:s,q:o},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],c=[],u=[],f=new $,d=new $,m=new $,g=new $,v=new $,y=new $,x=new $;for(let w=0;w<=r;++w){const A=w/r*s*Math.PI*2;_(A,s,o,e,m),_(A+.01,s,o,e,g),y.subVectors(g,m),x.addVectors(g,m),v.crossVectors(y,x),x.crossVectors(v,y),v.normalize(),x.normalize();for(let C=0;C<=i;++C){const E=C/i*Math.PI*2,P=-t*Math.cos(E),b=t*Math.sin(E);f.x=m.x+(P*x.x+b*v.x),f.y=m.y+(P*x.y+b*v.y),f.z=m.z+(P*x.z+b*v.z),l.push(f.x,f.y,f.z),d.subVectors(f,m).normalize(),c.push(d.x,d.y,d.z),u.push(w/r),u.push(C/i)}}for(let w=1;w<=r;w++)for(let A=1;A<=i;A++){const C=(i+1)*(w-1)+(A-1),E=(i+1)*w+(A-1),P=(i+1)*w+A,b=(i+1)*(w-1)+A;a.push(C,E,b),a.push(E,P,b)}this.setIndex(a),this.setAttribute("position",new Ze(l,3)),this.setAttribute("normal",new Ze(c,3)),this.setAttribute("uv",new Ze(u,2));function _(w,A,C,E,P){const b=Math.cos(w),R=Math.sin(w),D=C/A*w,L=Math.cos(D);P.x=E*(2+L)*.5*b,P.y=E*(2+L)*R*.5,P.z=E*Math.sin(D)*.5}}static fromJSON(e){return new Hg(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Vg extends ht{constructor(e=new EC(new $(-1,-1,0),new $(-1,1,0),new $(1,1,0)),t=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:i,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new $,l=new $,c=new De;let u=new $;const f=[],d=[],m=[],g=[];v(),this.setIndex(g),this.setAttribute("position",new Ze(f,3)),this.setAttribute("normal",new Ze(d,3)),this.setAttribute("uv",new Ze(m,2));function v(){for(let w=0;w<t;w++)y(w);y(s===!1?t:0),_(),x()}function y(w){u=e.getPointAt(w/t,u);const A=o.normals[w],C=o.binormals[w];for(let E=0;E<=i;E++){const P=E/i*Math.PI*2,b=Math.sin(P),R=-Math.cos(P);l.x=R*A.x+b*C.x,l.y=R*A.y+b*C.y,l.z=R*A.z+b*C.z,l.normalize(),d.push(l.x,l.y,l.z),a.x=u.x+r*l.x,a.y=u.y+r*l.y,a.z=u.z+r*l.z,f.push(a.x,a.y,a.z)}}function x(){for(let w=1;w<=t;w++)for(let A=1;A<=i;A++){const C=(i+1)*(w-1)+(A-1),E=(i+1)*w+(A-1),P=(i+1)*w+A,b=(i+1)*(w-1)+A;g.push(C,E,b),g.push(E,P,b)}}function _(){for(let w=0;w<=t;w++)for(let A=0;A<=i;A++)c.x=w/t,c.y=A/i,m.push(c.x,c.y)}}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Vg(new PC[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class AN extends ht{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],r=new Set,i=new $,s=new $;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,u=l.length;c<u;++c){const f=l[c],d=f.start,m=f.count;for(let g=d,v=d+m;g<v;g+=3)for(let y=0;y<3;y++){const x=a.getX(g+y),_=a.getX(g+(y+1)%3);i.fromBufferAttribute(o,x),s.fromBufferAttribute(o,_),WR(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let c=0;c<3;c++){const u=3*a+c,f=3*a+(c+1)%3;i.fromBufferAttribute(o,u),s.fromBufferAttribute(o,f),WR(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new Ze(t,3))}}}function WR(n,e,t){const r=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(r)===!0||t.has(i)===!0?!1:(t.add(r),t.add(i),!0)}var jR=Object.freeze({__proto__:null,BoxGeometry:xc,CapsuleGeometry:Bg,CircleGeometry:Ig,ConeGeometry:Lg,CylinderGeometry:nf,DodecahedronGeometry:kg,EdgesGeometry:_N,ExtrudeGeometry:Og,IcosahedronGeometry:Fg,LatheGeometry:Ah,OctahedronGeometry:bh,PlaneGeometry:el,PolyhedronGeometry:tl,RingGeometry:Ng,ShapeGeometry:Ug,SphereGeometry:Mh,TetrahedronGeometry:zg,TorusGeometry:Gg,TorusKnotGeometry:Hg,TubeGeometry:Vg,WireframeGeometry:AN});class bN extends ir{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new He(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class MN extends So{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class ac extends ir{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new He(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new He(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=_c,this.normalScale=new De(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Mo extends ac{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new De(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Qn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new He(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new He(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new He(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class lm extends ir{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new He(16777215),this.specular=new He(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new He(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=_c,this.normalScale=new De(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Cg,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class CN extends ir{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new He(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new He(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=_c,this.normalScale=new De(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class EN extends ir{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=_c,this.normalScale=new De(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class RC extends ir{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new He(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new He(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=_c,this.normalScale=new De(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Cg,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class TN extends ir{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new He(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=_c,this.normalScale=new De(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class PN extends Lr{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Is(n,e,t){return DC(n)?new n.constructor(n.subarray(e,t!==void 0?t:n.length)):n.slice(e,t)}function gu(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function DC(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function RN(n){function e(i,s){return n[i]-n[s]}const t=n.length,r=new Array(t);for(let i=0;i!==t;++i)r[i]=i;return r.sort(e),r}function Qb(n,e,t){const r=n.length,i=new n.constructor(r);for(let s=0,o=0;o!==r;++s){const a=t[s]*e;for(let l=0;l!==e;++l)i[o++]=n[a+l]}return i}function BC(n,e,t,r){let i=1,s=n[0];for(;s!==void 0&&s[r]===void 0;)s=n[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=n[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(e.push(s.time),t.push(o)),s=n[i++];while(s!==void 0)}function HJ(n,e,t,r,i=30){const s=n.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],u=c.getValueSize(),f=[],d=[];for(let m=0;m<c.times.length;++m){const g=c.times[m]*i;if(!(g<t||g>=r)){f.push(c.times[m]);for(let v=0;v<u;++v)d.push(c.values[m*u+v])}}f.length!==0&&(c.times=gu(f,c.times.constructor),c.values=gu(d,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function VJ(n,e=0,t=n,r=30){r<=0&&(r=30);const i=t.tracks.length,s=e/r;for(let o=0;o<i;++o){const a=t.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=n.tracks.find(function(x){return x.name===a.name&&x.ValueTypeName===l});if(c===void 0)continue;let u=0;const f=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=f/3);let d=0;const m=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=m/3);const g=a.times.length-1;let v;if(s<=a.times[0]){const x=u,_=f-u;v=Is(a.values,x,_)}else if(s>=a.times[g]){const x=g*f+u,_=x+f-u;v=Is(a.values,x,_)}else{const x=a.createInterpolant(),_=u,w=f-u;x.evaluate(s),v=Is(x.resultBuffer,_,w)}l==="quaternion"&&new pn().fromArray(v).normalize().conjugate().toArray(v);const y=c.times.length;for(let x=0;x<y;++x){const _=x*m+d;if(l==="quaternion")pn.multiplyQuaternionsFlat(c.values,_,v,0,c.values,_);else{const w=m-d*2;for(let A=0;A<w;++A)c.values[_+A]-=v[A]}}}return n.blendMode=fC,n}var WJ=Object.freeze({__proto__:null,arraySlice:Is,convertArray:gu,isTypedArray:DC,getKeyframeOrder:RN,sortedArray:Qb,flattenJSON:BC,subclip:HJ,makeClipAdditive:VJ});class Ch{constructor(e,t,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let r=this._cachedIndex,i=t[r],s=t[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<s)break r;return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(s=i,i=t[++r],e<i)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(r=2,s=a);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=t[--r-1],e>=s)break t}o=r,r=0;break n}break e}for(;r<o;){const a=r+o>>>1;e<t[a]?o=a:r=a+1}if(i=t[r],s=t[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)t[o]=r[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class DN extends Ch{constructor(e,t,r,i){super(e,t,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:hu,endingEnd:hu}}intervalChanged_(e,t,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case pu:s=e,a=2*t-r;break;case $m:s=i.length-2,a=t+i[s]-i[s+1];break;default:s=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case pu:o=e,l=2*r-t;break;case $m:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=t}const c=(r-t)*.5,u=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(l-r),this._offsetPrev=s*u,this._offsetNext=o*u}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=this._offsetPrev,f=this._offsetNext,d=this._weightPrev,m=this._weightNext,g=(r-t)/(i-t),v=g*g,y=v*g,x=-d*y+2*d*v-d*g,_=(1+d)*y+(-1.5-2*d)*v+(-.5+d)*g+1,w=(-1-m)*y+(1.5+m)*v+.5*g,A=m*y-m*v;for(let C=0;C!==a;++C)s[C]=x*o[u+C]+_*o[c+C]+w*o[l+C]+A*o[f+C];return s}}class IC extends Ch{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=(r-t)/(i-t),f=1-u;for(let d=0;d!==a;++d)s[d]=o[c+d]*f+o[l+d]*u;return s}}class BN extends Ch{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Co{constructor(e,t,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=gu(t,this.TimeBufferType),this.values=gu(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:gu(e.times,Array),values:gu(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new BN(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new IC(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new DN(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case th:t=this.InterpolantFactoryMethodDiscrete;break;case Hu:t=this.InterpolantFactoryMethodLinear;break;case Gy:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return th;case this.InterpolantFactoryMethodLinear:return Hu;case this.InterpolantFactoryMethodSmooth:return Gy}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]*=e}return this}trim(e,t){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;o!==-1&&r[o]>t;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=Is(r,s,o),this.values=Is(this.values,s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(i!==void 0&&DC(i))for(let a=0,l=i.length;a!==l;++a){const c=i[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=Is(this.times),t=Is(this.values),r=this.getValueSize(),i=this.getInterpolation()===Gy,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a],u=e[a+1];if(c!==u&&(a!==1||c!==e[0]))if(i)l=!0;else{const f=a*r,d=f-r,m=f+r;for(let g=0;g!==r;++g){const v=t[f+g];if(v!==t[d+g]||v!==t[m+g]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const f=a*r,d=o*r;for(let m=0;m!==r;++m)t[d+m]=t[f+m]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,l=o*r,c=0;c!==r;++c)t[l+c]=t[a+c];++o}return o!==e.length?(this.times=Is(e,0,o),this.values=Is(t,0,o*r)):(this.times=e,this.values=t),this}clone(){const e=Is(this.times,0),t=Is(this.values,0),r=this.constructor,i=new r(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}Co.prototype.TimeBufferType=Float32Array;Co.prototype.ValueBufferType=Float32Array;Co.prototype.DefaultInterpolation=Hu;class rf extends Co{}rf.prototype.ValueTypeName="bool";rf.prototype.ValueBufferType=Array;rf.prototype.DefaultInterpolation=th;rf.prototype.InterpolantFactoryMethodLinear=void 0;rf.prototype.InterpolantFactoryMethodSmooth=void 0;class LC extends Co{}LC.prototype.ValueTypeName="color";class ju extends Co{}ju.prototype.ValueTypeName="number";class IN extends Ch{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(r-t)/(i-t);let c=e*a;for(let u=c+a;c!==u;c+=4)pn.slerpFlat(s,0,o,c-a,o,c,l);return s}}class Ha extends Co{InterpolantFactoryMethodLinear(e){return new IN(this.times,this.values,this.getValueSize(),e)}}Ha.prototype.ValueTypeName="quaternion";Ha.prototype.DefaultInterpolation=Hu;Ha.prototype.InterpolantFactoryMethodSmooth=void 0;class sf extends Co{}sf.prototype.ValueTypeName="string";sf.prototype.ValueBufferType=Array;sf.prototype.DefaultInterpolation=th;sf.prototype.InterpolantFactoryMethodLinear=void 0;sf.prototype.InterpolantFactoryMethodSmooth=void 0;class $u extends Co{}$u.prototype.ValueTypeName="vector";class Xu{constructor(e,t=-1,r,i=T_){this.name=e,this.tracks=r,this.duration=t,this.blendMode=i,this.uuid=is(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,a=r.length;o!==a;++o)t.push($J(r[o]).scale(i));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=r.length;s!==o;++s)t.push(Co.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,t,r,i){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const u=RN(l);l=Qb(l,1,u),c=Qb(c,1,u),!i&&l[0]===0&&(l.push(s),c.push(c[0])),o.push(new ju(".morphTargetInfluences["+t[a].name+"]",l,c).scale(1/r))}return new this(e,-1,o)}static findByName(e,t){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===t)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,t,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],u=c.name.match(s);if(u&&u.length>1){const f=u[1];let d=i[f];d||(i[f]=d=[]),d.push(c)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],t,r));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(f,d,m,g,v){if(m.length!==0){const y=[],x=[];BC(m,y,x,g),y.length!==0&&v.push(new f(d,y,x))}},i=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let f=0;f<c.length;f++){const d=c[f].keys;if(!(!d||d.length===0))if(d[0].morphTargets){const m={};let g;for(g=0;g<d.length;g++)if(d[g].morphTargets)for(let v=0;v<d[g].morphTargets.length;v++)m[d[g].morphTargets[v]]=-1;for(const v in m){const y=[],x=[];for(let _=0;_!==d[g].morphTargets.length;++_){const w=d[g];y.push(w.time),x.push(w.morphTarget===v?1:0)}i.push(new ju(".morphTargetInfluence["+v+"]",y,x))}l=m.length*o}else{const m=".bones["+t[f].name+"]";r($u,m+".position",d,"pos",i),r(Ha,m+".quaternion",d,"rot",i),r($u,m+".scale",d,"scl",i)}}return i.length===0?null:new this(s,l,i,a)}resetDuration(){const e=this.tracks;let t=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function jJ(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return ju;case"vector":case"vector2":case"vector3":case"vector4":return $u;case"color":return LC;case"quaternion":return Ha;case"bool":case"boolean":return rf;case"string":return sf}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function $J(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=jJ(n.type);if(n.times===void 0){const t=[],r=[];BC(n.keys,t,r,"value"),n.times=t,n.values=r}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const Ju={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class kC{constructor(e,t,r){const i=this;let s=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(u){a++,s===!1&&i.onStart!==void 0&&i.onStart(u,o,a),s=!0},this.itemEnd=function(u){o++,i.onProgress!==void 0&&i.onProgress(u,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(u){i.onError!==void 0&&i.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,f){return c.push(u,f),this},this.removeHandler=function(u){const f=c.indexOf(u);return f!==-1&&c.splice(f,2),this},this.getHandler=function(u){for(let f=0,d=c.length;f<d;f+=2){const m=c[f],g=c[f+1];if(m.global&&(m.lastIndex=0),m.test(u))return g}return null}}}const LN=new kC;class Qr{constructor(e){this.manager=e!==void 0?e:LN,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const r=this;return new Promise(function(i,s){r.load(e,i,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const ga={};class XJ extends Error{constructor(e,t){super(e),this.response=t}}class Ni extends Qr{constructor(e){super(e)}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Ju.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(ga[e]!==void 0){ga[e].push({onLoad:t,onProgress:r,onError:i});return}ga[e]=[],ga[e].push({onLoad:t,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const u=ga[e],f=c.body.getReader(),d=c.headers.get("Content-Length"),m=d?parseInt(d):0,g=m!==0;let v=0;const y=new ReadableStream({start(x){_();function _(){f.read().then(({done:w,value:A})=>{if(w)x.close();else{v+=A.byteLength;const C=new ProgressEvent("progress",{lengthComputable:g,loaded:v,total:m});for(let E=0,P=u.length;E<P;E++){const b=u[E];b.onProgress&&b.onProgress(C)}x.enqueue(A),_()}})}}});return new Response(y)}else throw new XJ(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>new DOMParser().parseFromString(u,a));case"json":return c.json();default:if(a===void 0)return c.text();{const f=/charset="?([^;"\s]*)"?/i.exec(a),d=f&&f[1]?f[1].toLowerCase():void 0,m=new TextDecoder(d);return c.arrayBuffer().then(g=>m.decode(g))}}}).then(c=>{Ju.add(e,c);const u=ga[e];delete ga[e];for(let f=0,d=u.length;f<d;f++){const m=u[f];m.onLoad&&m.onLoad(c)}}).catch(c=>{const u=ga[e];if(u===void 0)throw this.manager.itemError(e),c;delete ga[e];for(let f=0,d=u.length;f<d;f++){const m=u[f];m.onError&&m.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class JJ extends Qr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new Ni(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t=[];for(let r=0;r<e.length;r++){const i=Xu.parse(e[r]);t.push(i)}return t}}class KJ extends Qr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=[],a=new AC,l=new Ni(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function u(f){l.load(e[f],function(d){const m=s.parse(d,!0);o[f]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},c+=1,c===6&&(m.mipmapCount===1&&(a.minFilter=fn),a.image=o,a.format=m.format,a.needsUpdate=!0,t&&t(a))},r,i)}if(Array.isArray(e))for(let f=0,d=e.length;f<d;++f)u(f);else l.load(e,function(f){const d=s.parse(f,!0);if(d.isCubemap){const m=d.mipmaps.length/d.mipmapCount;for(let g=0;g<m;g++){o[g]={mipmaps:[]};for(let v=0;v<d.mipmapCount;v++)o[g].mipmaps.push(d.mipmaps[g*d.mipmapCount+v]),o[g].format=d.format,o[g].width=d.width,o[g].height=d.height}a.image=o}else a.image.width=d.width,a.image.height=d.height,a.mipmaps=d.mipmaps;d.mipmapCount===1&&(a.minFilter=fn),a.format=d.format,a.needsUpdate=!0,t&&t(a)},r,i);return a}}class eg extends Qr{constructor(e){super(e)}load(e,t,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Ju.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=Km("img");function l(){u(),Ju.add(e,this),t&&t(this),s.manager.itemEnd(e)}function c(f){u(),i&&i(f),s.manager.itemError(e),s.manager.itemEnd(e)}function u(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class YJ extends Qr{constructor(e){super(e)}load(e,t,r,i){const s=new Rg,o=new eg(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(e[c],function(u){s.images[c]=u,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,i)}for(let c=0;c<e.length;++c)l(c);return s}}class QJ extends Qr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new Fd,a=new Ni(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){const c=s.parse(l);c&&(c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:cr,o.wrapT=c.wrapT!==void 0?c.wrapT:cr,o.magFilter=c.magFilter!==void 0?c.magFilter:fn,o.minFilter=c.minFilter!==void 0?c.minFilter:fn,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.encoding!==void 0&&(o.encoding=c.encoding),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=Ya),c.mipmapCount===1&&(o.minFilter=fn),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,t&&t(o,c))},r,i),o}}class Eh extends Qr{constructor(e){super(e)}load(e,t,r,i){const s=new mn,o=new eg(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},r,i),s}}class wc extends Et{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new He(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class kN extends wc{constructor(e,t,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Et.DefaultUp),this.updateMatrix(),this.groundColor=new He(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const fS=new qe,$R=new $,XR=new $;class OC{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new De(512,512),this.map=null,this.mapPass=null,this.matrix=new qe,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new B_,this._frameExtents=new De(1,1),this._viewportCount=1,this._viewports=[new Ct(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;$R.setFromMatrixPosition(e.matrixWorld),t.position.copy($R),XR.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(XR),t.updateMatrixWorld(),fS.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(fS),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(fS)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class qJ extends OC{constructor(){super(new nr(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,r=Jm*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(r!==t.fov||i!==t.aspect||s!==t.far)&&(t.fov=r,t.aspect=i,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class V_ extends wc{constructor(e,t,r=0,i=Math.PI/3,s=0,o=1){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Et.DefaultUp),this.updateMatrix(),this.target=new Et,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new qJ}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const JR=new qe,Sp=new $,dS=new $;class ZJ extends OC{constructor(){super(new nr(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new De(4,2),this._viewportCount=6,this._viewports=[new Ct(2,1,1,1),new Ct(0,1,1,1),new Ct(3,1,1,1),new Ct(1,1,1,1),new Ct(3,0,1,1),new Ct(1,0,1,1)],this._cubeDirections=[new $(1,0,0),new $(-1,0,0),new $(0,0,1),new $(0,0,-1),new $(0,1,0),new $(0,-1,0)],this._cubeUps=[new $(0,1,0),new $(0,1,0),new $(0,1,0),new $(0,1,0),new $(0,0,1),new $(0,0,-1)]}updateMatrices(e,t=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),Sp.setFromMatrixPosition(e.matrixWorld),r.position.copy(Sp),dS.copy(r.position),dS.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(dS),r.updateMatrixWorld(),i.makeTranslation(-Sp.x,-Sp.y,-Sp.z),JR.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(JR)}}class tg extends wc{constructor(e,t,r=0,i=1){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new ZJ}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class eK extends OC{constructor(){super(new tf(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class W_ extends wc{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Et.DefaultUp),this.updateMatrix(),this.target=new Et,this.shadow=new eK}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class FC extends wc{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class ON extends wc{constructor(e,t,r=10,i=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class FN{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new $)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*i),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*r),t.addScaledVector(o[4],1.092548*(r*i)),t.addScaledVector(o[5],1.092548*(i*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(r*s)),t.addScaledVector(o[8],.546274*(r*r-i*i)),t}getIrradianceAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*i),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*r),t.addScaledVector(o[4],2*.429043*r*i),t.addScaledVector(o[5],2*.429043*i*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*r*s),t.addScaledVector(o[8],.429043*(r*r-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,t+i*3);return this}toArray(e=[],t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,t+i*3);return e}static getBasisAt(e,t){const r=e.x,i=e.y,s=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*s,t[3]=.488603*r,t[4]=1.092548*r*i,t[5]=1.092548*i*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*r*s,t[8]=.546274*(r*r-i*i)}}class j_ extends wc{constructor(e=new FN,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class $_ extends Qr{constructor(e){super(e),this.textures={}}load(e,t,r,i){const s=this,o=new Ni(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t=this.textures;function r(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const i=$_.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new He().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==1&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=r(o.value);break;case"c":i.uniforms[s].value=new He().setHex(o.value);break;case"v2":i.uniforms[s].value=new De().fromArray(o.value);break;case"v3":i.uniforms[s].value=new $().fromArray(o.value);break;case"v4":i.uniforms[s].value=new Ct().fromArray(o.value);break;case"m3":i.uniforms[s].value=new $r().fromArray(o.value);break;case"m4":i.uniforms[s].value=new qe().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new De().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new De().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:bN,SpriteMaterial:_C,RawShaderMaterial:MN,ShaderMaterial:So,PointsMaterial:U_,MeshPhysicalMaterial:Mo,MeshStandardMaterial:ac,MeshPhongMaterial:lm,MeshToonMaterial:CN,MeshNormalMaterial:EN,MeshLambertMaterial:RC,MeshDepthMaterial:L_,MeshDistanceMaterial:k_,MeshBasicMaterial:Ri,MeshMatcapMaterial:TN,LineDashedMaterial:PN,LineBasicMaterial:Lr,Material:ir};return new t[e]}}class ss{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let r=0,i=e.length;r<i;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class NC extends ht{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}clone(){return new this.constructor().copy(this)}toJSON(){const e=super.toJSON(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class NN extends Qr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new Ni(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t={},r={};function i(m,g){if(t[g]!==void 0)return t[g];const y=m.interleavedBuffers[g],x=s(m,y.buffer),_=_d(y.type,x),w=new Dg(_,y.stride);return w.uuid=y.uuid,t[g]=w,w}function s(m,g){if(r[g]!==void 0)return r[g];const y=m.arrayBuffers[g],x=new Uint32Array(y).buffer;return r[g]=x,x}const o=e.isInstancedBufferGeometry?new NC:new ht,a=e.data.index;if(a!==void 0){const m=_d(a.type,a.array);o.setIndex(new Jt(m,1))}const l=e.data.attributes;for(const m in l){const g=l[m];let v;if(g.isInterleavedBufferAttribute){const y=i(e.data,g.data);v=new oc(y,g.itemSize,g.offset,g.normalized)}else{const y=_d(g.type,g.array),x=g.isInstancedBufferAttribute?Vu:Jt;v=new x(y,g.itemSize,g.normalized)}g.name!==void 0&&(v.name=g.name),g.usage!==void 0&&v.setUsage(g.usage),g.updateRange!==void 0&&(v.updateRange.offset=g.updateRange.offset,v.updateRange.count=g.updateRange.count),o.setAttribute(m,v)}const c=e.data.morphAttributes;if(c)for(const m in c){const g=c[m],v=[];for(let y=0,x=g.length;y<x;y++){const _=g[y];let w;if(_.isInterleavedBufferAttribute){const A=i(e.data,_.data);w=new oc(A,_.itemSize,_.offset,_.normalized)}else{const A=_d(_.type,_.array);w=new Jt(A,_.itemSize,_.normalized)}_.name!==void 0&&(w.name=_.name),v.push(w)}o.morphAttributes[m]=v}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const f=e.data.groups||e.data.drawcalls||e.data.offsets;if(f!==void 0)for(let m=0,g=f.length;m!==g;++m){const v=f[m];o.addGroup(v.start,v.count,v.materialIndex)}const d=e.data.boundingSphere;if(d!==void 0){const m=new $;d.center!==void 0&&m.fromArray(d.center),o.boundingSphere=new Za(m,d.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class tK extends Qr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=this.path===""?ss.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new Ni(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(f){i!==void 0&&i(f),console.error("THREE:ObjectLoader: Can't parse "+e+".",f.message);return}const u=c.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry"){console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,t)},r,i)}async loadAsync(e,t){const r=this,i=this.path===""?ss.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new Ni(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,t){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){t!==void 0&&t(c)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,s,l,a,r),u=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,u),t!==void 0){let f=!1;for(const d in o)if(o[d].data instanceof HTMLImageElement){f=!0;break}f===!1&&t(c)}return c}async parseAsync(e){const t=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,a,o,t),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){const t={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new Tu().fromJSON(e[r]);t[s.uuid]=s}return t}parseSkeletons(e,t){const r={},i={};if(t.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new Sh().fromJSON(e[s],i);r[a.uuid]=a}return r}parseGeometries(e,t){const r={};if(e!==void 0){const i=new NN;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;default:l.type in jR?a=jR[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),a.isBufferGeometry===!0&&l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,t){const r={},i={};if(e!==void 0){const s=new $_;s.setTextures(t);for(let o=0,a=e.length;o<a;o++){const l=e[o];r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const t={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=Xu.parse(i);t[s.uuid]=s}return t}parseImages(e,t){const r=this,i={};let s;function o(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const c=l,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:r.resourcePath+c;return o(u)}else return l.data?{data:_d(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new kC(t);s=new eg(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,u=e.length;c<u;c++){const f=e[c],d=f.url;if(Array.isArray(d)){const m=[];for(let g=0,v=d.length;g<v;g++){const y=d[g],x=a(y);x!==null&&(x instanceof HTMLImageElement?m.push(x):m.push(new Fd(x.data,x.width,x.height)))}i[f.uuid]=new mu(m)}else{const m=a(f.url);i[f.uuid]=new mu(m)}}}return i}async parseImagesAsync(e){const t=this,r={};let i;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await i.loadAsync(l)}else return o.data?{data:_d(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new eg(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],c=l.url;if(Array.isArray(c)){const u=[];for(let f=0,d=c.length;f<d;f++){const m=c[f],g=await s(m);g!==null&&(g instanceof HTMLImageElement?u.push(g):u.push(new Fd(g.data,g.width,g.height)))}r[l.uuid]=new mu(u)}else{const u=await s(l.url);r[l.uuid]=new mu(u)}}}return r}parseTextures(e,t){function r(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=t[a.image],c=l.data;let u;Array.isArray(c)?(u=new Rg,c.length===6&&(u.needsUpdate=!0)):(c&&c.data?u=new Fd:u=new mn,c&&(u.needsUpdate=!0)),u.source=l,u.uuid=a.uuid,a.name!==void 0&&(u.name=a.name),a.mapping!==void 0&&(u.mapping=r(a.mapping,nK)),a.offset!==void 0&&u.offset.fromArray(a.offset),a.repeat!==void 0&&u.repeat.fromArray(a.repeat),a.center!==void 0&&u.center.fromArray(a.center),a.rotation!==void 0&&(u.rotation=a.rotation),a.wrap!==void 0&&(u.wrapS=r(a.wrap[0],KR),u.wrapT=r(a.wrap[1],KR)),a.format!==void 0&&(u.format=a.format),a.type!==void 0&&(u.type=a.type),a.encoding!==void 0&&(u.encoding=a.encoding),a.minFilter!==void 0&&(u.minFilter=r(a.minFilter,YR)),a.magFilter!==void 0&&(u.magFilter=r(a.magFilter,YR)),a.anisotropy!==void 0&&(u.anisotropy=a.anisotropy),a.flipY!==void 0&&(u.flipY=a.flipY),a.premultiplyAlpha!==void 0&&(u.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(u.unpackAlignment=a.unpackAlignment),a.userData!==void 0&&(u.userData=a.userData),i[a.uuid]=u}return i}parseObject(e,t,r,i,s){let o;function a(d){return t[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",d),t[d]}function l(d){if(d!==void 0){if(Array.isArray(d)){const m=[];for(let g=0,v=d.length;g<v;g++){const y=d[g];r[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",y),m.push(r[y])}return m}return r[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",d),r[d]}}function c(d){return i[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",d),i[d]}let u,f;switch(e.type){case"Scene":o=new E1,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new He(e.background):o.background=c(e.background)),e.environment!==void 0&&(o.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new F_(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new O_(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness);break;case"PerspectiveCamera":o=new nr(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new tf(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new FC(e.color,e.intensity);break;case"DirectionalLight":o=new W_(e.color,e.intensity);break;case"PointLight":o=new tg(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new ON(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new V_(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new kN(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new j_().fromJSON(e);break;case"SkinnedMesh":u=a(e.geometry),f=l(e.material),o=new N_(u,f),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":u=a(e.geometry),f=l(e.material),o=new Nn(u,f);break;case"InstancedMesh":u=a(e.geometry),f=l(e.material);const d=e.count,m=e.instanceMatrix,g=e.instanceColor;o=new xC(u,f,d),o.instanceMatrix=new Vu(new Float32Array(m.array),16),g!==void 0&&(o.instanceColor=new Vu(new Float32Array(g.array),g.itemSize));break;case"LOD":o=new dN;break;case"Line":o=new Yo(a(e.geometry),l(e.material));break;case"LineLoop":o=new wC(a(e.geometry),l(e.material));break;case"LineSegments":o=new bo(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new SC(a(e.geometry),l(e.material));break;case"Sprite":o=new fN(l(e.material));break;case"Group":o=new po;break;case"Bone":o=new rh;break;default:o=new Et}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const d=e.children;for(let m=0;m<d.length;m++)o.add(this.parseObject(d[m],t,r,i,s))}if(e.animations!==void 0){const d=e.animations;for(let m=0;m<d.length;m++){const g=d[m];o.animations.push(s[g])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const d=e.levels;for(let m=0;m<d.length;m++){const g=d[m],v=o.getObjectByProperty("uuid",g.object);v!==void 0&&o.addLevel(v,g.distance)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=t[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const nK={UVMapping:C_,CubeReflectionMapping:rc,CubeRefractionMapping:ic,EquirectangularReflectionMapping:qd,EquirectangularRefractionMapping:Vm,CubeUVReflectionMapping:xh},KR={RepeatWrapping:Ko,ClampToEdgeWrapping:cr,MirroredRepeatWrapping:Zd},YR={NearestFilter:Yn,NearestMipmapNearestFilter:Wm,NearestMipmapLinearFilter:jm,LinearFilter:fn,LinearMipmapNearestFilter:E_,LinearMipmapLinearFilter:Ya};class UN extends Qr{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Ju.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){Ju.add(e,l),t&&t(l),s.manager.itemEnd(e)}).catch(function(l){i&&i(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let Xv;class UC{static getContext(){return Xv===void 0&&(Xv=new(window.AudioContext||window.webkitAudioContext)),Xv}static setContext(e){Xv=e}}class rK extends Qr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new Ni(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{const l=a.slice(0);UC.getContext().decodeAudioData(l,function(u){t(u)})}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}}class iK extends j_{constructor(e,t,r=1){super(void 0,r),this.isHemisphereLightProbe=!0;const i=new He().set(e),s=new He().set(t),o=new $(i.r,i.g,i.b),a=new $(s.r,s.g,s.b),l=Math.sqrt(Math.PI),c=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(c)}}class sK extends j_{constructor(e,t=1){super(void 0,t),this.isAmbientLightProbe=!0;const r=new He().set(e);this.sh.coefficients[0].set(r.r,r.g,r.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const QR=new qe,qR=new qe,Wc=new qe;class oK{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new nr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new nr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Wc.copy(e.projectionMatrix);const i=t.eyeSep/2,s=i*t.near/t.focus,o=t.near*Math.tan(Mu*t.fov*.5)/t.zoom;let a,l;qR.elements[12]=-i,QR.elements[12]=i,a=-o*t.aspect+s,l=o*t.aspect+s,Wc.elements[0]=2*t.near/(l-a),Wc.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(Wc),a=-o*t.aspect-s,l=o*t.aspect-s,Wc.elements[0]=2*t.near/(l-a),Wc.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(Wc)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(qR),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(QR)}}class zC{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=ZR(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=ZR();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function ZR(){return(typeof performance>"u"?Date:performance).now()}const jc=new $,eD=new pn,aK=new $,$c=new $;class lK extends Et{constructor(){super(),this.type="AudioListener",this.context=UC.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new zC}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(jc,eD,aK),$c.set(0,0,-1).applyQuaternion(eD),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(jc.x,i),t.positionY.linearRampToValueAtTime(jc.y,i),t.positionZ.linearRampToValueAtTime(jc.z,i),t.forwardX.linearRampToValueAtTime($c.x,i),t.forwardY.linearRampToValueAtTime($c.y,i),t.forwardZ.linearRampToValueAtTime($c.z,i),t.upX.linearRampToValueAtTime(r.x,i),t.upY.linearRampToValueAtTime(r.y,i),t.upZ.linearRampToValueAtTime(r.z,i)}else t.setPosition(jc.x,jc.y,jc.z),t.setOrientation($c.x,$c.y,$c.z,r.x,r.y,r.z)}}class zN extends Et{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Xc=new $,tD=new pn,cK=new $,Jc=new $;class uK extends zN{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Xc,tD,cK),Jc.set(0,0,1).applyQuaternion(tD);const t=this.panner;if(t.positionX){const r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Xc.x,r),t.positionY.linearRampToValueAtTime(Xc.y,r),t.positionZ.linearRampToValueAtTime(Xc.z,r),t.orientationX.linearRampToValueAtTime(Jc.x,r),t.orientationY.linearRampToValueAtTime(Jc.y,r),t.orientationZ.linearRampToValueAtTime(Jc.z,r)}else t.setPosition(Xc.x,Xc.y,Xc.z),t.setOrientation(Jc.x,Jc.y,Jc.z)}}class fK{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let r=0;r<t.length;r++)e+=t[r];return e/t.length}}class GN{constructor(e,t,r){this.binding=e,this.valueSize=r;let i,s,o;switch(t){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const r=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)r[s+a]=r[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(r,s,0,a,i)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,r=this.buffer,i=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(r,i,l,1-s,t)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*t,1,t);for(let l=t,c=t+t;l!==c;++l)if(r[l]!==r[l+t]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,t=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(t,i);for(let s=r,o=i;s!==o;++s)t[s]=t[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let r=e;r<t;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]}_select(e,t,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[t+o]=e[r+o]}_slerp(e,t,r,i){pn.slerpFlat(e,t,e,t,e,r,i)}_slerpAdditive(e,t,r,i,s){const o=this._workIndex*s;pn.multiplyQuaternionsFlat(e,o,e,t,e,r),pn.slerpFlat(e,t,e,t,e,o,i)}_lerp(e,t,r,i,s){const o=1-i;for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]*o+e[r+a]*i}}_lerpAdditive(e,t,r,i,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[r+o]*i}}}const GC="\\[\\]\\.:\\/",dK=new RegExp("["+GC+"]","g"),HC="[^"+GC+"]",hK="[^"+GC.replace("\\.","")+"]",pK=/((?:WC+[\/:])*)/.source.replace("WC",HC),mK=/(WCOD+)?/.source.replace("WCOD",hK),gK=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",HC),vK=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",HC),yK=new RegExp("^"+pK+mK+gK+vK+"$"),_K=["material","materials","bones","map"];class xK{constructor(e,t,r){const i=r||Rt.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,t)}setValue(e,t){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}class Rt{constructor(e,t,r){this.path=t,this.parsedPath=r||Rt.parseTrackName(t),this.node=Rt.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,r){return e&&e.isAnimationObjectGroup?new Rt.Composite(e,t,r):new Rt(e,t,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(dK,"")}static parseTrackName(e){const t=yK.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);_K.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(t);if(r!==void 0)return r}if(e.children){const r=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[t++]=r[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,r=t.objectName,i=t.propertyName;let s=t.propertyIndex;if(e||(e=Rt.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(r){let c=t.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[i];if(o===void 0){const c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Rt.Composite=xK;Rt.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Rt.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Rt.prototype.GetterByBindingType=[Rt.prototype._getValue_direct,Rt.prototype._getValue_array,Rt.prototype._getValue_arrayElement,Rt.prototype._getValue_toArray];Rt.prototype.SetterByBindingTypeAndVersioning=[[Rt.prototype._setValue_direct,Rt.prototype._setValue_direct_setNeedsUpdate,Rt.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Rt.prototype._setValue_array,Rt.prototype._setValue_array_setNeedsUpdate,Rt.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Rt.prototype._setValue_arrayElement,Rt.prototype._setValue_arrayElement_setNeedsUpdate,Rt.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Rt.prototype._setValue_fromArray,Rt.prototype._setValue_fromArray_setNeedsUpdate,Rt.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class wK{constructor(){this.isAnimationObjectGroup=!0,this.uuid=is(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,c=this.nCachedObjects_;for(let u=0,f=arguments.length;u!==f;++u){const d=arguments[u],m=d.uuid;let g=t[m];if(g===void 0){g=l++,t[m]=g,e.push(d);for(let v=0,y=o;v!==y;++v)s[v].push(new Rt(d,r[v],i[v]))}else if(g<c){a=e[g];const v=--c,y=e[v];t[y.uuid]=g,e[g]=y,t[m]=v,e[v]=d;for(let x=0,_=o;x!==_;++x){const w=s[x],A=w[v];let C=w[g];w[g]=A,C===void 0&&(C=new Rt(d,r[x],i[x])),w[v]=C}}else e[g]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],c=l.uuid,u=t[c];if(u!==void 0&&u>=s){const f=s++,d=e[f];t[d.uuid]=u,e[u]=d,t[c]=f,e[f]=l;for(let m=0,g=i;m!==g;++m){const v=r[m],y=v[f],x=v[u];v[u]=y,v[f]=x}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],u=c.uuid,f=t[u];if(f!==void 0)if(delete t[u],f<s){const d=--s,m=e[d],g=--o,v=e[g];t[m.uuid]=f,e[f]=m,t[v.uuid]=d,e[d]=v,e.pop();for(let y=0,x=i;y!==x;++y){const _=r[y],w=_[d],A=_[g];_[f]=w,_[d]=A,_.pop()}}else{const d=--o,m=e[d];d>0&&(t[m.uuid]=f),e[f]=m,e.pop();for(let g=0,v=i;g!==v;++g){const y=r[g];y[f]=y[d],y.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,a=this._parsedPaths,l=this._objects,c=l.length,u=this.nCachedObjects_,f=new Array(c);i=s.length,r[e]=i,o.push(e),a.push(t),s.push(f);for(let d=u,m=l.length;d!==m;++d){const g=l[d];f[d]=new Rt(g,e,t)}return f}unsubscribe_(e){const t=this._bindingsIndicesByPath,r=t[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],c=e[a];t[c]=r,o[r]=l,o.pop(),s[r]=s[a],s.pop(),i[r]=i[a],i.pop()}}}class SK{constructor(e,t,r=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=r,this.blendMode=i;const s=t.tracks,o=s.length,a=new Array(o),l={endingStart:hu,endingEnd:hu};for(let c=0;c!==o;++c){const u=s[c].createInterpolant(null);a[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=W4,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,r){if(e.fadeOut(t),this.fadeIn(t),r){const i=this._clip.duration,s=e._clip.duration,o=s/i,a=i/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,r){return e.crossFadeFrom(this,t,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,r){const i=this._mixer,s=i.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,l[1]=s+r,c[0]=e/o,c[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;l<0||r===0?t=0:(this._startTime=null,t=r*l)}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case fC:for(let u=0,f=l.length;u!==f;++u)l[u].evaluate(o),c[u].accumulateAdditive(a);break;case T_:default:for(let u=0,f=l.length;u!==f;++u)l[u].evaluate(o),c[u].accumulate(i,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const o=r===j4;if(e===0)return s===-1?i:o&&(s&1)===1?t-i:i;if(r===V4){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=t||i<0){const a=Math.floor(i/t);i-=t*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&(s&1)===1)return t-i}return i}_setEndings(e,t,r){const i=this._interpolantSettings;r?(i.endingStart=pu,i.endingEnd=pu):(e?i.endingStart=this.zeroSlopeAtStart?pu:hu:i.endingStart=$m,t?i.endingEnd=this.zeroSlopeAtEnd?pu:hu:i.endingEnd=$m)}_scheduleFading(e,t,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=t,a[1]=s+e,l[1]=r,this}}const AK=new Float32Array(1);class HN extends Qa{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,a=e._interpolants,l=r.uuid,c=this._bindingsByRootAndName;let u=c[l];u===void 0&&(u={},c[l]=u);for(let f=0;f!==s;++f){const d=i[f],m=d.name;let g=u[m];if(g!==void 0)++g.referenceCount,o[f]=g;else{if(g=o[f],g!==void 0){g._cacheIndex===null&&(++g.referenceCount,this._addInactiveBinding(g,l,m));continue}const v=t&&t._propertyBindings[f].binding.parsedPath;g=new GN(Rt.create(r,m,v),d.ValueTypeName,d.getValueSize()),++g.referenceCount,this._addInactiveBinding(g,l,m),o[f]=g}a[f].resultBuffer=g.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,r){const i=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const t=this._actions,r=t[t.length-1],i=e._cacheIndex;r._cacheIndex=i,t[i]=r,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,c=l[l.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),e._byClipCacheIndex=null;const f=a.actionByRoot,d=(e._localRoot||this._root).uuid;delete f[d],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackAction(e){const t=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_addInactiveBinding(e,t,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[t];o===void 0&&(o={},i[t]=o),o[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,a=o[i],l=t[t.length-1],c=e._cacheIndex;l._cacheIndex=c,t[c]=l,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[i]}_lendBinding(e){const t=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackBinding(e){const t=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let r=e[t];return r===void 0&&(r=new IC(new Float32Array(2),new Float32Array(2),1,AK),r.__cacheIndex=t,e[t]=r),r}_takeBackControlInterpolant(e){const t=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=t[i];e.__cacheIndex=i,t[i]=e,s.__cacheIndex=r,t[r]=s}clipAction(e,t,r){const i=t||this._root,s=i.uuid;let o=typeof e=="string"?Xu.findByName(i,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let c=null;if(r===void 0&&(o!==null?r=o.blendMode:r=T_),l!==void 0){const f=l.actionByRoot[s];if(f!==void 0&&f.blendMode===r)return f;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const u=new SK(this,o,t,r);return this._bindAction(u,c),this._addInactiveAction(u,a,s),u}existingAction(e,t){const r=t||this._root,i=r.uuid,s=typeof e=="string"?Xu.findByName(r,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let r=t-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const t=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==r;++c)t[c]._update(i,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const u=c._cacheIndex,f=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,f._cacheIndex=u,t[u]=f,t.pop(),this._removeInactiveBindingsForAction(c)}delete i[r]}}uncacheRoot(e){const t=e.uuid,r=this._actionsByClip;for(const o in r){const a=r[o].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const r=this.existingAction(e,t);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class VC{constructor(e){this.value=e}clone(){return new VC(this.value.clone===void 0?this.value:this.value.clone())}}let bK=0;class MK extends Qa{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:bK++}),this.name="",this.usage=Xm,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let r=0,i=t.length;r<i;r++)this.uniforms.push(t[r].clone());return this}clone(){return new this.constructor().copy(this)}}class CK extends Dg{constructor(e,t,r=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class EK{constructor(e,t,r,i,s){this.isGLBufferAttribute=!0,this.buffer=e,this.type=t,this.itemSize=r,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class VN{constructor(e,t,r=0,i=1/0){this.ray=new Tg(e,t),this.near=r,this.far=i,this.camera=null,this.layers=new Eu,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,r=[]){return qb(e,this,r,t),r.sort(nD),r}intersectObjects(e,t=!0,r=[]){for(let i=0,s=e.length;i<s;i++)qb(e[i],this,r,t);return r.sort(nD),r}}function nD(n,e){return n.distance-e.distance}function qb(n,e,t,r){if(n.layers.test(e.layers)&&n.raycast(e,t),r===!0){const i=n.children;for(let s=0,o=i.length;s<o;s++)qb(i[s],e,t,!0)}}class WN{constructor(e=1,t=0,r=0){return this.radius=e,this.phi=t,this.theta=r,this}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Qn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class TK{constructor(e=1,t=0,r=0){return this.radius=e,this.theta=t,this.y=r,this}set(e,t,r){return this.radius=e,this.theta=t,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=t,this}clone(){return new this.constructor().copy(this)}}const rD=new De;class PK{constructor(e=new De(1/0,1/0),t=new De(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=rD.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return rD.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const iD=new $,Jv=new $;class RK{constructor(e=new $,t=new $){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){iD.subVectors(e,this.start),Jv.subVectors(this.end,this.start);const r=Jv.dot(Jv);let s=Jv.dot(iD)/r;return t&&(s=Qn(s,0,1)),s}closestPointToPoint(e,t,r){const i=this.closestPointToPointParameter(e,t);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const sD=new $;class DK extends Et{constructor(e,t){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;const r=new ht,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const c=o/l*Math.PI*2,u=a/l*Math.PI*2;i.push(Math.cos(c),Math.sin(c),1,Math.cos(u),Math.sin(u),1)}r.setAttribute("position",new Ze(i,3));const s=new Lr({fog:!1,toneMapped:!1});this.cone=new bo(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateMatrixWorld();const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),sD.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(sD),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Al=new $,Kv=new qe,hS=new qe;class BK extends bo{constructor(e){const t=jN(e),r=new ht,i=[],s=[],o=new He(0,0,1),a=new He(0,1,0);for(let c=0;c<t.length;c++){const u=t[c];u.parent&&u.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}r.setAttribute("position",new Ze(i,3)),r.setAttribute("color",new Ze(s,3));const l=new Lr({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,r=this.geometry,i=r.getAttribute("position");hS.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(Kv.multiplyMatrices(hS,a.matrixWorld),Al.setFromMatrixPosition(Kv),i.setXYZ(o,Al.x,Al.y,Al.z),Kv.multiplyMatrices(hS,a.parent.matrixWorld),Al.setFromMatrixPosition(Kv),i.setXYZ(o+1,Al.x,Al.y,Al.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function jN(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,jN(n.children[t]));return e}class IK extends Nn{constructor(e,t,r){const i=new Mh(t,4,2),s=new Ri({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.light.updateMatrixWorld(),this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const LK=new $,oD=new He,aD=new He;class kK extends Et{constructor(e,t,r){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r;const i=new bh(t);i.rotateY(Math.PI*.5),this.material=new Ri({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new Jt(o,3)),this.add(new Nn(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");oD.copy(this.light.color),aD.copy(this.light.groundColor);for(let r=0,i=t.count;r<i;r++){const s=r<i/2?oD:aD;t.setXYZ(r,s.r,s.g,s.b)}t.needsUpdate=!0}e.lookAt(LK.setFromMatrixPosition(this.light.matrixWorld).negate())}}class OK extends bo{constructor(e=10,t=10,r=4473924,i=8947848){r=new He(r),i=new He(i);const s=t/2,o=e/t,a=e/2,l=[],c=[];for(let d=0,m=0,g=-a;d<=t;d++,g+=o){l.push(-a,0,g,a,0,g),l.push(g,0,-a,g,0,a);const v=d===s?r:i;v.toArray(c,m),m+=3,v.toArray(c,m),m+=3,v.toArray(c,m),m+=3,v.toArray(c,m),m+=3}const u=new ht;u.setAttribute("position",new Ze(l,3)),u.setAttribute("color",new Ze(c,3));const f=new Lr({vertexColors:!0,toneMapped:!1});super(u,f),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class FK extends bo{constructor(e=10,t=16,r=8,i=64,s=4473924,o=8947848){s=new He(s),o=new He(o);const a=[],l=[];if(t>1)for(let f=0;f<t;f++){const d=f/t*(Math.PI*2),m=Math.sin(d)*e,g=Math.cos(d)*e;a.push(0,0,0),a.push(m,0,g);const v=f&1?s:o;l.push(v.r,v.g,v.b),l.push(v.r,v.g,v.b)}for(let f=0;f<r;f++){const d=f&1?s:o,m=e-e/r*f;for(let g=0;g<i;g++){let v=g/i*(Math.PI*2),y=Math.sin(v)*m,x=Math.cos(v)*m;a.push(y,0,x),l.push(d.r,d.g,d.b),v=(g+1)/i*(Math.PI*2),y=Math.sin(v)*m,x=Math.cos(v)*m,a.push(y,0,x),l.push(d.r,d.g,d.b)}}const c=new ht;c.setAttribute("position",new Ze(a,3)),c.setAttribute("color",new Ze(l,3));const u=new Lr({vertexColors:!0,toneMapped:!1});super(c,u),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const lD=new $,Yv=new $,cD=new $;class NK extends Et{constructor(e,t,r){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,t===void 0&&(t=1);let i=new ht;i.setAttribute("position",new Ze([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new Lr({fog:!1,toneMapped:!1});this.lightPlane=new Yo(i,s),this.add(this.lightPlane),i=new ht,i.setAttribute("position",new Ze([0,0,0,0,0,1],3)),this.targetLine=new Yo(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){lD.setFromMatrixPosition(this.light.matrixWorld),Yv.setFromMatrixPosition(this.light.target.matrixWorld),cD.subVectors(Yv,lD),this.lightPlane.lookAt(Yv),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Yv),this.targetLine.scale.z=cD.length()}}const Qv=new $,Ln=new Pg;class UK extends bo{constructor(e){const t=new ht,r=new Lr({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(g,v){l(g),l(v)}function l(g){i.push(0,0,0),s.push(0,0,0),o[g]===void 0&&(o[g]=[]),o[g].push(i.length/3-1)}t.setAttribute("position",new Ze(i,3)),t.setAttribute("color",new Ze(s,3)),super(t,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const c=new He(16755200),u=new He(16711680),f=new He(43775),d=new He(16777215),m=new He(3355443);this.setColors(c,u,f,d,m)}setColors(e,t,r,i,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,r.r,r.g,r.b),a.setXYZ(33,r.r,r.g,r.b),a.setXYZ(34,r.r,r.g,r.b),a.setXYZ(35,r.r,r.g,r.b),a.setXYZ(36,r.r,r.g,r.b),a.setXYZ(37,r.r,r.g,r.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,r=1,i=1;Ln.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),jn("c",t,e,Ln,0,0,-1),jn("t",t,e,Ln,0,0,1),jn("n1",t,e,Ln,-r,-i,-1),jn("n2",t,e,Ln,r,-i,-1),jn("n3",t,e,Ln,-r,i,-1),jn("n4",t,e,Ln,r,i,-1),jn("f1",t,e,Ln,-r,-i,1),jn("f2",t,e,Ln,r,-i,1),jn("f3",t,e,Ln,-r,i,1),jn("f4",t,e,Ln,r,i,1),jn("u1",t,e,Ln,r*.7,i*1.1,-1),jn("u2",t,e,Ln,-r*.7,i*1.1,-1),jn("u3",t,e,Ln,0,i*2,-1),jn("cf1",t,e,Ln,-r,0,1),jn("cf2",t,e,Ln,r,0,1),jn("cf3",t,e,Ln,0,-i,1),jn("cf4",t,e,Ln,0,i,1),jn("cn1",t,e,Ln,-r,0,-1),jn("cn2",t,e,Ln,r,0,-1),jn("cn3",t,e,Ln,0,-i,-1),jn("cn4",t,e,Ln,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function jn(n,e,t,r,i,s,o){Qv.set(i,s,o).unproject(r);const a=e[n];if(a!==void 0){const l=t.getAttribute("position");for(let c=0,u=a.length;c<u;c++)l.setXYZ(a[c],Qv.x,Qv.y,Qv.z)}}const qv=new qa;class zK extends bo{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new ht;s.setIndex(new Jt(r,1)),s.setAttribute("position",new Jt(i,3)),super(s,new Lr({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&qv.setFromObject(this.object),qv.isEmpty())return;const t=qv.min,r=qv.max,i=this.geometry.attributes.position,s=i.array;s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=t.x,s[4]=r.y,s[5]=r.z,s[6]=t.x,s[7]=t.y,s[8]=r.z,s[9]=r.x,s[10]=t.y,s[11]=r.z,s[12]=r.x,s[13]=r.y,s[14]=t.z,s[15]=t.x,s[16]=r.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=r.x,s[22]=t.y,s[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class GK extends bo{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new ht;s.setIndex(new Jt(r,1)),s.setAttribute("position",new Ze(i,3)),super(s,new Lr({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class HK extends Yo{constructor(e,t=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new ht;o.setAttribute("position",new Ze(s,3)),o.computeBoundingSphere(),super(o,new Lr({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new ht;l.setAttribute("position",new Ze(a,3)),l.computeBoundingSphere(),this.add(new Nn(l,new Ri({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const uD=new $;let Zv,pS;class VK extends Et{constructor(e=new $(0,0,1),t=new $(0,0,0),r=1,i=16776960,s=r*.2,o=s*.2){super(),this.type="ArrowHelper",Zv===void 0&&(Zv=new ht,Zv.setAttribute("position",new Ze([0,0,0,0,1,0],3)),pS=new nf(0,.5,1,5,1),pS.translate(0,-.5,0)),this.position.copy(t),this.line=new Yo(Zv,new Lr({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Nn(pS,new Ri({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{uD.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(uD,t)}}setLength(e,t=e*.2,r=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class WK extends bo{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new ht;i.setAttribute("position",new Ze(t,3)),i.setAttribute("color",new Ze(r,3));const s=new Lr({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,t,r){const i=new He,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(t),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class jK{constructor(){this.type="ShapePath",this.color=new He,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new Ym,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,r,i){return this.currentPath.quadraticCurveTo(e,t,r,i),this}bezierCurveTo(e,t,r,i,s,o){return this.currentPath.bezierCurveTo(e,t,r,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(x){const _=[];for(let w=0,A=x.length;w<A;w++){const C=x[w],E=new Tu;E.curves=C.curves,_.push(E)}return _}function r(x,_){const w=_.length;let A=!1;for(let C=w-1,E=0;E<w;C=E++){let P=_[C],b=_[E],R=b.x-P.x,D=b.y-P.y;if(Math.abs(D)>Number.EPSILON){if(D<0&&(P=_[E],R=-R,b=_[C],D=-D),x.y<P.y||x.y>b.y)continue;if(x.y===P.y){if(x.x===P.x)return!0}else{const L=D*(x.x-P.x)-R*(x.y-P.y);if(L===0)return!0;if(L<0)continue;A=!A}}else{if(x.y!==P.y)continue;if(b.x<=x.x&&x.x<=P.x||P.x<=x.x&&x.x<=b.x)return!0}}return A}const i=jo.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const c=[];if(s.length===1)return a=s[0],l=new Tu,l.curves=a.curves,c.push(l),c;let u=!i(s[0].getPoints());u=e?!u:u;const f=[],d=[];let m=[],g=0,v;d[g]=void 0,m[g]=[];for(let x=0,_=s.length;x<_;x++)a=s[x],v=a.getPoints(),o=i(v),o=e?!o:o,o?(!u&&d[g]&&g++,d[g]={s:new Tu,p:v},d[g].s.curves=a.curves,u&&g++,m[g]=[]):m[g].push({h:a,p:v[0]});if(!d[0])return t(s);if(d.length>1){let x=!1,_=0;for(let w=0,A=d.length;w<A;w++)f[w]=[];for(let w=0,A=d.length;w<A;w++){const C=m[w];for(let E=0;E<C.length;E++){const P=C[E];let b=!0;for(let R=0;R<d.length;R++)r(P.p,d[R].p)&&(w!==R&&_++,b?(b=!1,f[R].push(P)):x=!0);b&&f[w].push(P)}}_>0&&x===!1&&(m=f)}let y;for(let x=0,_=d.length;x<_;x++){l=d[x].s,c.push(l),y=m[x];for(let w=0,A=y.length;w<A;w++)l.holes.push(y[w].h)}return c}}const ba=$K();function $K(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):c<-14?(r[l]=1024>>-c-14,r[l|256]=1024>>-c-14|32768,i[l]=-c-1,i[l|256]=-c-1):c<=15?(r[l]=c+15<<10,r[l|256]=c+15<<10|32768,i[l]=13,i[l|256]=13):c<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,u=0;for(;!(c&8388608);)c<<=1,u-=8388608;c&=-8388609,u+=947912704,s[l]=c|u}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:t,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:o,offsetTable:a}}function XK(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=Qn(n,-65504,65504),ba.floatView[0]=n;const e=ba.uint32View[0],t=e>>23&511;return ba.baseTable[t]+((e&8388607)>>ba.shiftTable[t])}function JK(n){const e=n>>10;return ba.uint32View[0]=ba.mantissaTable[ba.offsetTable[e]+(n&1023)]+ba.exponentTable[e],ba.floatView[0]}var KK=Object.freeze({__proto__:null,toHalfFloat:XK,fromHalfFloat:JK});function YK(){console.error("THREE.ImmediateRenderObject has been removed.")}class QK extends Ks{constructor(e,t,r){console.error('THREE.WebGLMultisampleRenderTarget has been removed. Use a normal render target and set the "samples" property to greater 0 to enable multisampling.'),super(e,t,r),this.samples=4}}class qK extends Eg{constructor(e,t,r,i){console.warn("THREE.DataTexture2DArray has been renamed to DataArrayTexture."),super(e,t,r,i)}}class ZK extends P_{constructor(e,t,r,i){console.warn("THREE.DataTexture3D has been renamed to Data3DTexture."),super(e,t,r,i)}}class eY extends xc{constructor(e,t,r,i,s,o){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(e,t,r,i,s,o)}}class tY extends Bg{constructor(e,t,r,i){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(e,t,r,i)}}class nY extends Ig{constructor(e,t,r,i){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(e,t,r,i)}}class rY extends Lg{constructor(e,t,r,i,s,o,a){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(e,t,r,i,s,o,a)}}class iY extends nf{constructor(e,t,r,i,s,o,a,l){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(e,t,r,i,s,o,a,l)}}class sY extends kg{constructor(e,t){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(e,t)}}class oY extends Og{constructor(e,t){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(e,t)}}class aY extends Fg{constructor(e,t){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(e,t)}}class lY extends Ah{constructor(e,t,r,i){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(e,t,r,i)}}class cY extends bh{constructor(e,t){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(e,t)}}class uY extends el{constructor(e,t,r,i){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(e,t,r,i)}}class fY extends tl{constructor(e,t,r,i){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(e,t,r,i)}}class dY extends Ng{constructor(e,t,r,i,s,o){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(e,t,r,i,s,o)}}class hY extends Ug{constructor(e,t){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(e,t)}}class pY extends Mh{constructor(e,t,r,i,s,o,a){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(e,t,r,i,s,o,a)}}class mY extends zg{constructor(e,t){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(e,t)}}class gY extends Gg{constructor(e,t,r,i,s){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(e,t,r,i,s)}}class vY extends Hg{constructor(e,t,r,i,s,o){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(e,t,r,i,s,o)}}class yY extends Vg{constructor(e,t,r,i,s){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(e,t,r,i,s)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:_h}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=_h);const _Y=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:cC,AddEquation:au,AddOperation:A4,AdditiveAnimationBlendMode:fC,AdditiveBlending:yb,AlphaFormat:I4,AlwaysDepth:g4,AlwaysStencilFunc:K4,AmbientLight:FC,AmbientLightProbe:sK,AnimationClip:Xu,AnimationLoader:JJ,AnimationMixer:HN,AnimationObjectGroup:wK,AnimationUtils:WJ,ArcCurve:pN,ArrayCamera:aN,ArrowHelper:VK,Audio:zN,AudioAnalyser:fK,AudioContext:UC,AudioListener:lK,AudioLoader:rK,AxesHelper:WK,BackSide:mi,BasicDepthPacking:X4,BasicShadowMap:n4,Bone:rh,BooleanKeyframeTrack:rf,Box2:PK,Box3:qa,Box3Helper:GK,BoxBufferGeometry:eY,BoxGeometry:xc,BoxHelper:zK,BufferAttribute:Jt,BufferGeometry:ht,BufferGeometryLoader:NN,ByteType:T4,Cache:Ju,Camera:Pg,CameraHelper:UK,CanvasTexture:pJ,CapsuleBufferGeometry:tY,CapsuleGeometry:Bg,CatmullRomCurve3:mN,CineonToneMapping:C4,CircleBufferGeometry:nY,CircleGeometry:Ig,ClampToEdgeWrapping:cr,Clock:zC,Color:He,ColorKeyframeTrack:LC,ColorManagement:Ps,CompressedArrayTexture:hJ,CompressedTexture:AC,CompressedTextureLoader:KJ,ConeBufferGeometry:rY,ConeGeometry:Lg,CubeCamera:Z4,CubeReflectionMapping:rc,CubeRefractionMapping:ic,CubeTexture:Rg,CubeTextureLoader:YJ,CubeUVReflectionMapping:xh,CubicBezierCurve:MC,CubicBezierCurve3:gN,CubicInterpolant:DN,CullFaceBack:vb,CullFaceFront:t4,CullFaceFrontBack:wV,CullFaceNone:e4,Curve:qs,CurvePath:yN,CustomBlending:r4,CustomToneMapping:E4,CylinderBufferGeometry:iY,CylinderGeometry:nf,Cylindrical:TK,Data3DTexture:P_,DataArrayTexture:Eg,DataTexture:Fd,DataTexture2DArray:qK,DataTexture3D:ZK,DataTextureLoader:QJ,DataUtils:KK,DecrementStencilOp:RV,DecrementWrapStencilOp:BV,DefaultLoadingManager:LN,DepthFormat:ql,DepthStencilFormat:Gu,DepthTexture:lN,DirectionalLight:W_,DirectionalLightHelper:NK,DiscreteInterpolant:BN,DodecahedronBufferGeometry:sY,DodecahedronGeometry:kg,DoubleSide:Gs,DstAlphaFactor:u4,DstColorFactor:d4,DynamicCopyUsage:XV,DynamicDrawUsage:GV,DynamicReadUsage:WV,EdgesGeometry:_N,EllipseCurve:z_,EqualDepth:y4,EqualStencilFunc:OV,EquirectangularReflectionMapping:qd,EquirectangularRefractionMapping:Vm,Euler:ns,EventDispatcher:Qa,ExtrudeBufferGeometry:oY,ExtrudeGeometry:Og,FileLoader:Ni,Float16BufferAttribute:EW,Float32BufferAttribute:Ze,Float64BufferAttribute:TW,FloatType:Ta,Fog:F_,FogExp2:O_,FramebufferTexture:dJ,FrontSide:za,Frustum:B_,GLBufferAttribute:EK,GLSL1:KV,GLSL3:Wb,GreaterDepth:x4,GreaterEqualDepth:_4,GreaterEqualStencilFunc:zV,GreaterStencilFunc:NV,GridHelper:OK,Group:po,HalfFloatType:eh,HemisphereLight:kN,HemisphereLightHelper:kK,HemisphereLightProbe:iK,IcosahedronBufferGeometry:aY,IcosahedronGeometry:Fg,ImageBitmapLoader:UN,ImageLoader:eg,ImageUtils:mC,ImmediateRenderObject:YK,IncrementStencilOp:PV,IncrementWrapStencilOp:DV,InstancedBufferAttribute:Vu,InstancedBufferGeometry:NC,InstancedInterleavedBuffer:CK,InstancedMesh:xC,Int16BufferAttribute:MW,Int32BufferAttribute:CW,Int8BufferAttribute:SW,IntType:R4,InterleavedBuffer:Dg,InterleavedBufferAttribute:oc,Interpolant:Ch,InterpolateDiscrete:th,InterpolateLinear:Hu,InterpolateSmooth:Gy,InvertStencilOp:IV,KeepStencilOp:Hy,KeyframeTrack:Co,LOD:dN,LatheBufferGeometry:lY,LatheGeometry:Ah,Layers:Eu,LessDepth:v4,LessEqualDepth:A1,LessEqualStencilFunc:FV,LessStencilFunc:kV,Light:wc,LightProbe:j_,Line:Yo,Line3:RK,LineBasicMaterial:Lr,LineCurve:G_,LineCurve3:vN,LineDashedMaterial:PN,LineLoop:wC,LineSegments:bo,LinearEncoding:sc,LinearFilter:fn,LinearInterpolant:IC,LinearMipMapLinearFilter:MV,LinearMipMapNearestFilter:bV,LinearMipmapLinearFilter:Ya,LinearMipmapNearestFilter:E_,LinearSRGBColorSpace:Ul,LinearToneMapping:b4,Loader:Qr,LoaderUtils:ss,LoadingManager:kC,LoopOnce:V4,LoopPingPong:j4,LoopRepeat:W4,LuminanceAlphaFormat:O4,LuminanceFormat:k4,MOUSE:_V,Material:ir,MaterialLoader:$_,MathUtils:Ei,Matrix3:$r,Matrix4:qe,MaxEquation:Sb,Mesh:Nn,MeshBasicMaterial:Ri,MeshDepthMaterial:L_,MeshDistanceMaterial:k_,MeshLambertMaterial:RC,MeshMatcapMaterial:TN,MeshNormalMaterial:EN,MeshPhongMaterial:lm,MeshPhysicalMaterial:Mo,MeshStandardMaterial:ac,MeshToonMaterial:CN,MinEquation:wb,MirroredRepeatWrapping:Zd,MixOperation:S4,MultiplyBlending:xb,MultiplyOperation:Cg,NearestFilter:Yn,NearestMipMapLinearFilter:AV,NearestMipMapNearestFilter:SV,NearestMipmapLinearFilter:jm,NearestMipmapNearestFilter:Wm,NeverDepth:m4,NeverStencilFunc:LV,NoBlending:Ba,NoColorSpace:CV,NoToneMapping:vo,NormalAnimationBlendMode:T_,NormalBlending:Au,NotEqualDepth:w4,NotEqualStencilFunc:UV,NumberKeyframeTrack:ju,Object3D:Et,ObjectLoader:tK,ObjectSpaceNormalMap:J4,OctahedronBufferGeometry:cY,OctahedronGeometry:bh,OneFactor:a4,OneMinusDstAlphaFactor:f4,OneMinusDstColorFactor:h4,OneMinusSrcAlphaFactor:lC,OneMinusSrcColorFactor:c4,OrthographicCamera:tf,PCFShadowMap:M_,PCFSoftShadowMap:im,PMREMGenerator:$b,Path:Ym,PerspectiveCamera:nr,Plane:Rl,PlaneBufferGeometry:uY,PlaneGeometry:el,PlaneHelper:HK,PointLight:tg,PointLightHelper:IK,Points:SC,PointsMaterial:U_,PolarGridHelper:FK,PolyhedronBufferGeometry:fY,PolyhedronGeometry:tl,PositionalAudio:uK,PropertyBinding:Rt,PropertyMixer:GN,QuadraticBezierCurve:CC,QuadraticBezierCurve3:EC,Quaternion:pn,QuaternionKeyframeTrack:Ha,QuaternionLinearInterpolant:IN,REVISION:_h,RGBADepthPacking:hC,RGBAFormat:Ci,RGBAIntegerFormat:G4,RGBA_ASTC_10x10_Format:zb,RGBA_ASTC_10x5_Format:Fb,RGBA_ASTC_10x6_Format:Nb,RGBA_ASTC_10x8_Format:Ub,RGBA_ASTC_12x10_Format:Gb,RGBA_ASTC_12x12_Format:Hb,RGBA_ASTC_4x4_Format:Pb,RGBA_ASTC_5x4_Format:Rb,RGBA_ASTC_5x5_Format:Db,RGBA_ASTC_6x5_Format:Bb,RGBA_ASTC_6x6_Format:Ib,RGBA_ASTC_8x5_Format:Lb,RGBA_ASTC_8x6_Format:kb,RGBA_ASTC_8x8_Format:Ob,RGBA_BPTC_Format:Vb,RGBA_ETC2_EAC_Format:Tb,RGBA_PVRTC_2BPPV1_Format:Cb,RGBA_PVRTC_4BPPV1_Format:Mb,RGBA_S3TC_DXT1_Format:Ny,RGBA_S3TC_DXT3_Format:Uy,RGBA_S3TC_DXT5_Format:zy,RGBFormat:L4,RGB_ETC1_Format:H4,RGB_ETC2_Format:Eb,RGB_PVRTC_2BPPV1_Format:bb,RGB_PVRTC_4BPPV1_Format:Ab,RGB_S3TC_DXT1_Format:Fy,RGFormat:U4,RGIntegerFormat:z4,RawShaderMaterial:MN,Ray:Tg,Raycaster:VN,RectAreaLight:ON,RedFormat:F4,RedIntegerFormat:N4,ReinhardToneMapping:M4,RepeatWrapping:Ko,ReplaceStencilOp:TV,ReverseSubtractEquation:s4,RingBufferGeometry:dY,RingGeometry:Ng,SRGBColorSpace:Uo,Scene:E1,ShaderChunk:At,ShaderLib:ho,ShaderMaterial:So,ShadowMaterial:bN,Shape:Tu,ShapeBufferGeometry:hY,ShapeGeometry:Ug,ShapePath:jK,ShapeUtils:jo,ShortType:P4,Skeleton:Sh,SkeletonHelper:BK,SkinnedMesh:N_,Source:mu,Sphere:Za,SphereBufferGeometry:pY,SphereGeometry:Mh,Spherical:WN,SphericalHarmonics3:FN,SplineCurve:TC,SpotLight:V_,SpotLightHelper:DK,Sprite:fN,SpriteMaterial:_C,SrcAlphaFactor:aC,SrcAlphaSaturateFactor:p4,SrcColorFactor:l4,StaticCopyUsage:$V,StaticDrawUsage:Xm,StaticReadUsage:VV,StereoCamera:oK,StreamCopyUsage:JV,StreamDrawUsage:HV,StreamReadUsage:jV,StringKeyframeTrack:sf,SubtractEquation:i4,SubtractiveBlending:_b,TOUCH:xV,TangentSpaceNormalMap:_c,TetrahedronBufferGeometry:mY,TetrahedronGeometry:zg,Texture:mn,TextureLoader:Eh,TorusBufferGeometry:gY,TorusGeometry:Gg,TorusKnotBufferGeometry:vY,TorusKnotGeometry:Hg,Triangle:Ns,TriangleFanDrawMode:b1,TriangleStripDrawMode:dC,TrianglesDrawMode:$4,TubeBufferGeometry:yY,TubeGeometry:Vg,UVMapping:C_,Uint16BufferAttribute:R_,Uint32BufferAttribute:gC,Uint8BufferAttribute:AW,Uint8ClampedBufferAttribute:bW,Uniform:VC,UniformsGroup:MK,UniformsLib:Je,UniformsUtils:D_,UnsignedByteType:Ga,UnsignedInt248Type:bu,UnsignedIntType:Nl,UnsignedShort4444Type:D4,UnsignedShort5551Type:B4,UnsignedShortType:uC,VSMShadowMap:du,Vector2:De,Vector3:$,Vector4:Ct,VectorKeyframeTrack:$u,VideoTexture:hN,WebGL1Renderer:cN,WebGL3DRenderTarget:dW,WebGLArrayRenderTarget:fW,WebGLCubeRenderTarget:eN,WebGLMultipleRenderTargets:hW,WebGLMultisampleRenderTarget:QK,WebGLRenderTarget:Ks,WebGLRenderer:yC,WebGLUtils:oN,WireframeGeometry:AN,WrapAroundEnding:$m,ZeroCurvatureEnding:hu,ZeroFactor:o4,ZeroSlopeEnding:pu,ZeroStencilOp:EV,_SRGBAFormat:M1,sRGBEncoding:vn},Symbol.toStringTag,{value:"Module"}));var $N={exports:{}},of={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */of.ConcurrentRoot=1;of.ContinuousEventPriority=4;of.DefaultEventPriority=16;of.DiscreteEventPriority=1;of.IdleEventPriority=536870912;of.LegacyRoot=0;$N.exports=of;var Sd=$N.exports;function xY(n){let e;const t=new Set,r=(c,u)=>{const f=typeof c=="function"?c(e):c;if(f!==e){const d=e;e=u?f:Object.assign({},e,f),t.forEach(m=>m(e,d))}},i=()=>e,s=(c,u=i,f=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let d=u(e);function m(){const g=u(e);if(!f(d,g)){const v=d;c(d=g,v)}}return t.add(m),()=>t.delete(m)},l={setState:r,getState:i,subscribe:(c,u,f)=>u||f?s(c,u,f):(t.add(c),()=>t.delete(c)),destroy:()=>t.clear()};return e=n(r,i,l),l}const wY=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),fD=wY?B.useEffect:B.useLayoutEffect;function XN(n){const e=typeof n=="function"?xY(n):n,t=(r=e.getState,i=Object.is)=>{const[,s]=B.useReducer(y=>y+1,0),o=e.getState(),a=B.useRef(o),l=B.useRef(r),c=B.useRef(i),u=B.useRef(!1),f=B.useRef();f.current===void 0&&(f.current=r(o));let d,m=!1;(a.current!==o||l.current!==r||c.current!==i||u.current)&&(d=r(o),m=!i(f.current,d)),fD(()=>{m&&(f.current=d),a.current=o,l.current=r,c.current=i,u.current=!1});const g=B.useRef(o);fD(()=>{const y=()=>{try{const _=e.getState(),w=l.current(_);c.current(f.current,w)||(a.current=_,f.current=w,s())}catch{u.current=!0,s()}},x=e.subscribe(y);return e.getState()!==g.current&&y(),x},[]);const v=m?d:f.current;return B.useDebugValue(v),v};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[t,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},t}var JN={exports:{}},mS={exports:{}},gS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dD;function SY(){return dD||(dD=1,function(n){function e(O,U){var H=O.length;O.push(U);e:for(;0<H;){var G=H-1>>>1,X=O[G];if(0<i(X,U))O[G]=U,O[H]=X,H=G;else break e}}function t(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var U=O[0],H=O.pop();if(H!==U){O[0]=H;e:for(var G=0,X=O.length,Z=X>>>1;G<Z;){var re=2*(G+1)-1,ie=O[re],Q=re+1,ue=O[Q];if(0>i(ie,H))Q<X&&0>i(ue,ie)?(O[G]=ue,O[Q]=H,G=Q):(O[G]=ie,O[re]=H,G=re);else if(Q<X&&0>i(ue,H))O[G]=ue,O[Q]=H,G=Q;else break e}}return U}function i(O,U){var H=O.sortIndex-U.sortIndex;return H!==0?H:O.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,f=null,d=3,m=!1,g=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(O){for(var U=t(c);U!==null;){if(U.callback===null)r(c);else if(U.startTime<=O)r(c),U.sortIndex=U.expirationTime,e(l,U);else break;U=t(c)}}function A(O){if(v=!1,w(O),!g)if(t(l)!==null)g=!0,W(C);else{var U=t(c);U!==null&&Y(A,U.startTime-O)}}function C(O,U){g=!1,v&&(v=!1,x(b),b=-1),m=!0;var H=d;try{for(w(U),f=t(l);f!==null&&(!(f.expirationTime>U)||O&&!L());){var G=f.callback;if(typeof G=="function"){f.callback=null,d=f.priorityLevel;var X=G(f.expirationTime<=U);U=n.unstable_now(),typeof X=="function"?f.callback=X:f===t(l)&&r(l),w(U)}else r(l);f=t(l)}if(f!==null)var Z=!0;else{var re=t(c);re!==null&&Y(A,re.startTime-U),Z=!1}return Z}finally{f=null,d=H,m=!1}}var E=!1,P=null,b=-1,R=5,D=-1;function L(){return!(n.unstable_now()-D<R)}function N(){if(P!==null){var O=n.unstable_now();D=O;var U=!0;try{U=P(!0,O)}finally{U?z():(E=!1,P=null)}}else E=!1}var z;if(typeof _=="function")z=function(){_(N)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,V=k.port2;k.port1.onmessage=N,z=function(){V.postMessage(null)}}else z=function(){y(N,0)};function W(O){P=O,E||(E=!0,z())}function Y(O,U){b=y(function(){O(n.unstable_now())},U)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(O){O.callback=null},n.unstable_continueExecution=function(){g||m||(g=!0,W(C))},n.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<O?Math.floor(1e3/O):5},n.unstable_getCurrentPriorityLevel=function(){return d},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(O){switch(d){case 1:case 2:case 3:var U=3;break;default:U=d}var H=d;d=U;try{return O()}finally{d=H}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(O,U){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var H=d;d=O;try{return U()}finally{d=H}},n.unstable_scheduleCallback=function(O,U,H){var G=n.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?G+H:G):H=G,O){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=H+X,O={id:u++,callback:U,priorityLevel:O,startTime:H,expirationTime:X,sortIndex:-1},H>G?(O.sortIndex=H,e(c,O),t(l)===null&&O===t(c)&&(v?(x(b),b=-1):v=!0,Y(A,H-G))):(O.sortIndex=X,e(l,O),g||m||(g=!0,W(C))),O},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(O){var U=d;return function(){var H=d;d=U;try{return O.apply(this,arguments)}finally{d=H}}}}(gS)),gS}var hD;function AY(){return hD||(hD=1,mS.exports=SY()),mS.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bY=function(e){var t={},r=B,i=AY(),s=Object.assign;function o(h){for(var p="https://reactjs.org/docs/error-decoder.html?invariant="+h,S=1;S<arguments.length;S++)p+="&args[]="+encodeURIComponent(arguments[S]);return"Minified React error #"+h+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),g=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),A=Symbol.for("react.offscreen"),C=Symbol.iterator;function E(h){return h===null||typeof h!="object"?null:(h=C&&h[C]||h["@@iterator"],typeof h=="function"?h:null)}function P(h){if(h==null)return null;if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case u:return"Fragment";case c:return"Portal";case d:return"Profiler";case f:return"StrictMode";case y:return"Suspense";case x:return"SuspenseList"}if(typeof h=="object")switch(h.$$typeof){case g:return(h.displayName||"Context")+".Consumer";case m:return(h._context.displayName||"Context")+".Provider";case v:var p=h.render;return h=h.displayName,h||(h=p.displayName||p.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case _:return p=h.displayName||null,p!==null?p:P(h.type)||"Memo";case w:p=h._payload,h=h._init;try{return P(h(p))}catch{}}return null}function b(h){var p=h.type;switch(h.tag){case 24:return"Cache";case 9:return(p.displayName||"Context")+".Consumer";case 10:return(p._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return h=p.render,h=h.displayName||h.name||"",p.displayName||(h!==""?"ForwardRef("+h+")":"ForwardRef");case 7:return"Fragment";case 5:return p;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return P(p);case 8:return p===f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p}return null}function R(h){var p=h,S=h;if(h.alternate)for(;p.return;)p=p.return;else{h=p;do p=h,p.flags&4098&&(S=p.return),h=p.return;while(h)}return p.tag===3?S:null}function D(h){if(R(h)!==h)throw Error(o(188))}function L(h){var p=h.alternate;if(!p){if(p=R(h),p===null)throw Error(o(188));return p!==h?null:h}for(var S=h,M=p;;){var T=S.return;if(T===null)break;var I=T.alternate;if(I===null){if(M=T.return,M!==null){S=M;continue}break}if(T.child===I.child){for(I=T.child;I;){if(I===S)return D(T),h;if(I===M)return D(T),p;I=I.sibling}throw Error(o(188))}if(S.return!==M.return)S=T,M=I;else{for(var K=!1,se=T.child;se;){if(se===S){K=!0,S=T,M=I;break}if(se===M){K=!0,M=T,S=I;break}se=se.sibling}if(!K){for(se=I.child;se;){if(se===S){K=!0,S=I,M=T;break}if(se===M){K=!0,M=I,S=T;break}se=se.sibling}if(!K)throw Error(o(189))}}if(S.alternate!==M)throw Error(o(190))}if(S.tag!==3)throw Error(o(188));return S.stateNode.current===S?h:p}function N(h){return h=L(h),h!==null?z(h):null}function z(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){var p=z(h);if(p!==null)return p;h=h.sibling}return null}function k(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){if(h.tag!==4){var p=k(h);if(p!==null)return p}h=h.sibling}return null}var V=Array.isArray,W=e.getPublicInstance,Y=e.getRootHostContext,O=e.getChildHostContext,U=e.prepareForCommit,H=e.resetAfterCommit,G=e.createInstance,X=e.appendInitialChild,Z=e.finalizeInitialChildren,re=e.prepareUpdate,ie=e.shouldSetTextContent,Q=e.createTextInstance,ue=e.scheduleTimeout,he=e.cancelTimeout,be=e.noTimeout,ye=e.isPrimaryRenderer,Se=e.supportsMutation,ne=e.supportsPersistence,le=e.supportsHydration,Ee=e.getInstanceFromNode,Ce=e.preparePortalMount,Ae=e.getCurrentEventPriority,je=e.detachDeletedInstance,we=e.supportsMicrotasks,Le=e.scheduleMicrotask,Ue=e.supportsTestSelectors,_e=e.findFiberRoot,j=e.getBoundingRect,F=e.getTextContent,q=e.isHiddenSubtree,de=e.matchAccessibilityRole,Te=e.setFocusIfFocusable,Re=e.setupIntersectionObserver,Oe=e.appendChild,Be=e.appendChildToContainer,ge=e.commitTextUpdate,We=e.commitMount,Fe=e.commitUpdate,ze=e.insertBefore,Ne=e.insertInContainerBefore,Ie=e.removeChild,$e=e.removeChildFromContainer,st=e.resetTextContent,gt=e.hideInstance,te=e.hideTextInstance,me=e.unhideInstance,ke=e.unhideTextInstance,Xe=e.clearContainer,tt=e.cloneInstance,_t=e.createContainerChildSet,Nt=e.appendChildToContainerChildSet,Wt=e.finalizeContainerChildren,zt=e.replaceContainerChildren,Gt=e.cloneHiddenInstance,Ut=e.cloneHiddenTextInstance,Dt=e.canHydrateInstance,kr=e.canHydrateTextInstance,Mr=e.canHydrateSuspenseInstance,jt=e.isSuspenseInstancePending,xn=e.isSuspenseInstanceFallback,J=e.registerSuspenseInstanceRetry,fe=e.getNextHydratableSibling,ve=e.getFirstHydratableChild,ce=e.getFirstHydratableChildWithinContainer,Pe=e.getFirstHydratableChildWithinSuspenseInstance,nt=e.hydrateInstance,lt=e.hydrateTextInstance,xt=e.hydrateSuspenseInstance,mt=e.getNextHydratableInstanceAfterSuspenseInstance,Tt=e.commitHydratedContainer,wt=e.commitHydratedSuspenseInstance,Bt=e.clearSuspenseBoundary,en=e.clearSuspenseBoundaryFromContainer,yi=e.shouldDeleteUnhydratedTailInstances,ps=e.didNotMatchHydratedContainerTextInstance,ms=e.didNotMatchHydratedTextInstance,Qe;function St(h){if(Qe===void 0)try{throw Error()}catch(S){var p=S.stack.trim().match(/\n( *(at )?)/);Qe=p&&p[1]||""}return`
`+Qe+h}var gs=!1;function Yt(h,p){if(!h||gs)return"";gs=!0;var S=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(p)if(p=function(){throw Error()},Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(Ve){var M=Ve}Reflect.construct(h,[],p)}else{try{p.call()}catch(Ve){M=Ve}h.call(p.prototype)}else{try{throw Error()}catch(Ve){M=Ve}h()}}catch(Ve){if(Ve&&M&&typeof Ve.stack=="string"){for(var T=Ve.stack.split(`
`),I=M.stack.split(`
`),K=T.length-1,se=I.length-1;1<=K&&0<=se&&T[K]!==I[se];)se--;for(;1<=K&&0<=se;K--,se--)if(T[K]!==I[se]){if(K!==1||se!==1)do if(K--,se--,0>se||T[K]!==I[se]){var Me=`
`+T[K].replace(" at new "," at ");return h.displayName&&Me.includes("<anonymous>")&&(Me=Me.replace("<anonymous>",h.displayName)),Me}while(1<=K&&0<=se);break}}}finally{gs=!1,Error.prepareStackTrace=S}return(h=h?h.displayName||h.name:"")?St(h):""}var sr=Object.prototype.hasOwnProperty,Zr=[],Or=-1;function Cr(h){return{current:h}}function pt(h){0>Or||(h.current=Zr[Or],Zr[Or]=null,Or--)}function It(h,p){Or++,Zr[Or]=h.current,h.current=p}var Er={},Ht=Cr(Er),Bn=Cr(!1),vs=Er;function ei(h,p){var S=h.type.contextTypes;if(!S)return Er;var M=h.stateNode;if(M&&M.__reactInternalMemoizedUnmaskedChildContext===p)return M.__reactInternalMemoizedMaskedChildContext;var T={},I;for(I in S)T[I]=p[I];return M&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=p,h.__reactInternalMemoizedMaskedChildContext=T),T}function pr(h){return h=h.childContextTypes,h!=null}function eo(){pt(Bn),pt(Ht)}function df(h,p,S){if(Ht.current!==Er)throw Error(o(168));It(Ht,p),It(Bn,S)}function hf(h,p,S){var M=h.stateNode;if(p=p.childContextTypes,typeof M.getChildContext!="function")return S;M=M.getChildContext();for(var T in M)if(!(T in p))throw Error(o(108,b(h)||"Unknown",T));return s({},S,M)}function il(h){return h=(h=h.stateNode)&&h.__reactInternalMemoizedMergedChildContext||Er,vs=Ht.current,It(Ht,h),It(Bn,Bn.current),!0}function zi(h,p,S){var M=h.stateNode;if(!M)throw Error(o(169));S?(h=hf(h,p,vs),M.__reactInternalMemoizedMergedChildContext=h,pt(Bn),pt(Ht),It(Ht,h)):pt(Bn),It(Bn,S)}var Gi=Math.clz32?Math.clz32:a0,pf=Math.log,Mc=Math.LN2;function a0(h){return h>>>=0,h===0?32:31-(pf(h)/Mc|0)|0}var ta=64,na=4194304;function ra(h){switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return h&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return h}}function Cc(h,p){var S=h.pendingLanes;if(S===0)return 0;var M=0,T=h.suspendedLanes,I=h.pingedLanes,K=S&268435455;if(K!==0){var se=K&~T;se!==0?M=ra(se):(I&=K,I!==0&&(M=ra(I)))}else K=S&~T,K!==0?M=ra(K):I!==0&&(M=ra(I));if(M===0)return 0;if(p!==0&&p!==M&&!(p&T)&&(T=M&-M,I=p&-p,T>=I||T===16&&(I&4194240)!==0))return p;if(M&4&&(M|=S&16),p=h.entangledLanes,p!==0)for(h=h.entanglements,p&=M;0<p;)S=31-Gi(p),T=1<<S,M|=h[S],p&=~T;return M}function l0(h,p){switch(h){case 1:case 2:case 4:return p+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Oh(h,p){for(var S=h.suspendedLanes,M=h.pingedLanes,T=h.expirationTimes,I=h.pendingLanes;0<I;){var K=31-Gi(I),se=1<<K,Me=T[K];Me===-1?(!(se&S)||se&M)&&(T[K]=l0(se,p)):Me<=p&&(h.expiredLanes|=se),I&=~se}}function ia(h){return h=h.pendingLanes&-1073741825,h!==0?h:h&1073741824?1073741824:0}function mf(h){for(var p=[],S=0;31>S;S++)p.push(h);return p}function Po(h,p,S){h.pendingLanes|=p,p!==536870912&&(h.suspendedLanes=0,h.pingedLanes=0),h=h.eventTimes,p=31-Gi(p),h[p]=S}function sl(h,p){var S=h.pendingLanes&~p;h.pendingLanes=p,h.suspendedLanes=0,h.pingedLanes=0,h.expiredLanes&=p,h.mutableReadLanes&=p,h.entangledLanes&=p,p=h.entanglements;var M=h.eventTimes;for(h=h.expirationTimes;0<S;){var T=31-Gi(S),I=1<<T;p[T]=0,M[T]=-1,h[T]=-1,S&=~I}}function Ro(h,p){var S=h.entangledLanes|=p;for(h=h.entanglements;S;){var M=31-Gi(S),T=1<<M;T&p|h[M]&p&&(h[M]|=p),S&=~T}}var Pt=0;function Fh(h){return h&=-h,1<h?4<h?h&268435455?16:536870912:4:1}var sa=i.unstable_scheduleCallback,gf=i.unstable_cancelCallback,Nh=i.unstable_shouldYield,c0=i.unstable_requestPaint,wn=i.unstable_now,Ec=i.unstable_ImmediatePriority,u0=i.unstable_UserBlockingPriority,ti=i.unstable_NormalPriority,Uh=i.unstable_IdlePriority,Tc=null,Hi=null;function zh(h){if(Hi&&typeof Hi.onCommitFiberRoot=="function")try{Hi.onCommitFiberRoot(Tc,h,void 0,(h.current.flags&128)===128)}catch{}}function f0(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var Vi=typeof Object.is=="function"?Object.is:f0,ni=null,Do=!1,ys=!1;function Gh(h){ni===null?ni=[h]:ni.push(h)}function Hh(h){Do=!0,Gh(h)}function _i(){if(!ys&&ni!==null){ys=!0;var h=0,p=Pt;try{var S=ni;for(Pt=1;h<S.length;h++){var M=S[h];do M=M(!0);while(M!==null)}ni=null,Do=!1}catch(T){throw ni!==null&&(ni=ni.slice(h+1)),sa(Ec,_i),T}finally{Pt=p,ys=!1}}return null}var Pc=a.ReactCurrentBatchConfig;function Rc(h,p){if(Vi(h,p))return!0;if(typeof h!="object"||h===null||typeof p!="object"||p===null)return!1;var S=Object.keys(h),M=Object.keys(p);if(S.length!==M.length)return!1;for(M=0;M<S.length;M++){var T=S[M];if(!sr.call(p,T)||!Vi(h[T],p[T]))return!1}return!0}function Dc(h){switch(h.tag){case 5:return St(h.type);case 16:return St("Lazy");case 13:return St("Suspense");case 19:return St("SuspenseList");case 0:case 2:case 15:return h=Yt(h.type,!1),h;case 11:return h=Yt(h.type.render,!1),h;case 1:return h=Yt(h.type,!0),h;default:return""}}function ri(h,p){if(h&&h.defaultProps){p=s({},p),h=h.defaultProps;for(var S in h)p[S]===void 0&&(p[S]=h[S]);return p}return p}var mr=Cr(null),vf=null,to=null,ol=null;function yf(){ol=to=vf=null}function d0(h,p,S){ye?(It(mr,p._currentValue),p._currentValue=S):(It(mr,p._currentValue2),p._currentValue2=S)}function gr(h){var p=mr.current;pt(mr),ye?h._currentValue=p:h._currentValue2=p}function ii(h,p,S){for(;h!==null;){var M=h.alternate;if((h.childLanes&p)!==p?(h.childLanes|=p,M!==null&&(M.childLanes|=p)):M!==null&&(M.childLanes&p)!==p&&(M.childLanes|=p),h===S)break;h=h.return}}function Hn(h,p){vf=h,ol=to=null,h=h.dependencies,h!==null&&h.firstContext!==null&&(h.lanes&p&&(Xi=!0),h.firstContext=null)}function Vn(h){var p=ye?h._currentValue:h._currentValue2;if(ol!==h)if(h={context:h,memoizedValue:p,next:null},to===null){if(vf===null)throw Error(o(308));to=h,vf.dependencies={lanes:0,firstContext:h}}else to=to.next=h;return p}var Wi=null,al=!1;function mx(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cT(h,p){h=h.updateQueue,p.updateQueue===h&&(p.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,effects:h.effects})}function oa(h,p){return{eventTime:h,lane:p,tag:0,payload:null,callback:null,next:null}}function ll(h,p){var S=h.updateQueue;S!==null&&(S=S.shared,qn!==null&&h.mode&1&&!(Mt&2)?(h=S.interleaved,h===null?(p.next=p,Wi===null?Wi=[S]:Wi.push(S)):(p.next=h.next,h.next=p),S.interleaved=p):(h=S.pending,h===null?p.next=p:(p.next=h.next,h.next=p),S.pending=p))}function h0(h,p,S){if(p=p.updateQueue,p!==null&&(p=p.shared,(S&4194240)!==0)){var M=p.lanes;M&=h.pendingLanes,S|=M,p.lanes=S,Ro(h,S)}}function uT(h,p){var S=h.updateQueue,M=h.alternate;if(M!==null&&(M=M.updateQueue,S===M)){var T=null,I=null;if(S=S.firstBaseUpdate,S!==null){do{var K={eventTime:S.eventTime,lane:S.lane,tag:S.tag,payload:S.payload,callback:S.callback,next:null};I===null?T=I=K:I=I.next=K,S=S.next}while(S!==null);I===null?T=I=p:I=I.next=p}else T=I=p;S={baseState:M.baseState,firstBaseUpdate:T,lastBaseUpdate:I,shared:M.shared,effects:M.effects},h.updateQueue=S;return}h=S.lastBaseUpdate,h===null?S.firstBaseUpdate=p:h.next=p,S.lastBaseUpdate=p}function p0(h,p,S,M){var T=h.updateQueue;al=!1;var I=T.firstBaseUpdate,K=T.lastBaseUpdate,se=T.shared.pending;if(se!==null){T.shared.pending=null;var Me=se,Ve=Me.next;Me.next=null,K===null?I=Ve:K.next=Ve,K=Me;var rt=h.alternate;rt!==null&&(rt=rt.updateQueue,se=rt.lastBaseUpdate,se!==K&&(se===null?rt.firstBaseUpdate=Ve:se.next=Ve,rt.lastBaseUpdate=Me))}if(I!==null){var vt=T.baseState;K=0,rt=Ve=Me=null,se=I;do{var ct=se.lane,tn=se.eventTime;if((M&ct)===ct){rt!==null&&(rt=rt.next={eventTime:tn,lane:0,tag:se.tag,payload:se.payload,callback:se.callback,next:null});e:{var at=h,zr=se;switch(ct=p,tn=S,zr.tag){case 1:if(at=zr.payload,typeof at=="function"){vt=at.call(tn,vt,ct);break e}vt=at;break e;case 3:at.flags=at.flags&-65537|128;case 0:if(at=zr.payload,ct=typeof at=="function"?at.call(tn,vt,ct):at,ct==null)break e;vt=s({},vt,ct);break e;case 2:al=!0}}se.callback!==null&&se.lane!==0&&(h.flags|=64,ct=T.effects,ct===null?T.effects=[se]:ct.push(se))}else tn={eventTime:tn,lane:ct,tag:se.tag,payload:se.payload,callback:se.callback,next:null},rt===null?(Ve=rt=tn,Me=vt):rt=rt.next=tn,K|=ct;if(se=se.next,se===null){if(se=T.shared.pending,se===null)break;ct=se,se=ct.next,ct.next=null,T.lastBaseUpdate=ct,T.shared.pending=null}}while(1);if(rt===null&&(Me=vt),T.baseState=Me,T.firstBaseUpdate=Ve,T.lastBaseUpdate=rt,p=T.shared.interleaved,p!==null){T=p;do K|=T.lane,T=T.next;while(T!==p)}else I===null&&(T.shared.lanes=0);Ef|=K,h.lanes=K,h.memoizedState=vt}}function fT(h,p,S){if(h=p.effects,p.effects=null,h!==null)for(p=0;p<h.length;p++){var M=h[p],T=M.callback;if(T!==null){if(M.callback=null,M=S,typeof T!="function")throw Error(o(191,T));T.call(M)}}}var dT=new r.Component().refs;function gx(h,p,S,M){p=h.memoizedState,S=S(M,p),S=S==null?p:s({},p,S),h.memoizedState=S,h.lanes===0&&(h.updateQueue.baseState=S)}var m0={isMounted:function(h){return(h=h._reactInternals)?R(h)===h:!1},enqueueSetState:function(h,p,S){h=h._reactInternals;var M=oi(),T=fl(h),I=oa(M,T);I.payload=p,S!=null&&(I.callback=S),ll(h,I),p=As(h,T,M),p!==null&&h0(p,h,T)},enqueueReplaceState:function(h,p,S){h=h._reactInternals;var M=oi(),T=fl(h),I=oa(M,T);I.tag=1,I.payload=p,S!=null&&(I.callback=S),ll(h,I),p=As(h,T,M),p!==null&&h0(p,h,T)},enqueueForceUpdate:function(h,p){h=h._reactInternals;var S=oi(),M=fl(h),T=oa(S,M);T.tag=2,p!=null&&(T.callback=p),ll(h,T),p=As(h,M,S),p!==null&&h0(p,h,M)}};function hT(h,p,S,M,T,I,K){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(M,I,K):p.prototype&&p.prototype.isPureReactComponent?!Rc(S,M)||!Rc(T,I):!0}function pT(h,p,S){var M=!1,T=Er,I=p.contextType;return typeof I=="object"&&I!==null?I=Vn(I):(T=pr(p)?vs:Ht.current,M=p.contextTypes,I=(M=M!=null)?ei(h,T):Er),p=new p(S,I),h.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=m0,h.stateNode=p,p._reactInternals=h,M&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=T,h.__reactInternalMemoizedMaskedChildContext=I),p}function mT(h,p,S,M){h=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(S,M),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(S,M),p.state!==h&&m0.enqueueReplaceState(p,p.state,null)}function vx(h,p,S,M){var T=h.stateNode;T.props=S,T.state=h.memoizedState,T.refs=dT,mx(h);var I=p.contextType;typeof I=="object"&&I!==null?T.context=Vn(I):(I=pr(p)?vs:Ht.current,T.context=ei(h,I)),T.state=h.memoizedState,I=p.getDerivedStateFromProps,typeof I=="function"&&(gx(h,p,I,S),T.state=h.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(p=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),p!==T.state&&m0.enqueueReplaceState(T,T.state,null),p0(h,S,T,M),T.state=h.memoizedState),typeof T.componentDidMount=="function"&&(h.flags|=4194308)}var _f=[],xf=0,g0=null,v0=0,_s=[],xs=0,Bc=null,aa=1,la="";function Ic(h,p){_f[xf++]=v0,_f[xf++]=g0,g0=h,v0=p}function gT(h,p,S){_s[xs++]=aa,_s[xs++]=la,_s[xs++]=Bc,Bc=h;var M=aa;h=la;var T=32-Gi(M)-1;M&=~(1<<T),S+=1;var I=32-Gi(p)+T;if(30<I){var K=T-T%5;I=(M&(1<<K)-1).toString(32),M>>=K,T-=K,aa=1<<32-Gi(p)+T|S<<T|M,la=I+h}else aa=1<<I|S<<T|M,la=h}function yx(h){h.return!==null&&(Ic(h,1),gT(h,1,0))}function _x(h){for(;h===g0;)g0=_f[--xf],_f[xf]=null,v0=_f[--xf],_f[xf]=null;for(;h===Bc;)Bc=_s[--xs],_s[xs]=null,la=_s[--xs],_s[xs]=null,aa=_s[--xs],_s[xs]=null}var ji=null,$i=null,gn=!1,Vh=!1,no=null;function vT(h,p){var S=bs(5,null,null,0);S.elementType="DELETED",S.stateNode=p,S.return=h,p=h.deletions,p===null?(h.deletions=[S],h.flags|=16):p.push(S)}function yT(h,p){switch(h.tag){case 5:return p=Dt(p,h.type,h.pendingProps),p!==null?(h.stateNode=p,ji=h,$i=ve(p),!0):!1;case 6:return p=kr(p,h.pendingProps),p!==null?(h.stateNode=p,ji=h,$i=null,!0):!1;case 13:if(p=Mr(p),p!==null){var S=Bc!==null?{id:aa,overflow:la}:null;return h.memoizedState={dehydrated:p,treeContext:S,retryLane:1073741824},S=bs(18,null,null,0),S.stateNode=p,S.return=h,h.child=S,ji=h,$i=null,!0}return!1;default:return!1}}function xx(h){return(h.mode&1)!==0&&(h.flags&128)===0}function wx(h){if(gn){var p=$i;if(p){var S=p;if(!yT(h,p)){if(xx(h))throw Error(o(418));p=fe(S);var M=ji;p&&yT(h,p)?vT(M,S):(h.flags=h.flags&-4097|2,gn=!1,ji=h)}}else{if(xx(h))throw Error(o(418));h.flags=h.flags&-4097|2,gn=!1,ji=h}}}function _T(h){for(h=h.return;h!==null&&h.tag!==5&&h.tag!==3&&h.tag!==13;)h=h.return;ji=h}function Wh(h){if(!le||h!==ji)return!1;if(!gn)return _T(h),gn=!0,!1;if(h.tag!==3&&(h.tag!==5||yi(h.type)&&!ie(h.type,h.memoizedProps))){var p=$i;if(p){if(xx(h)){for(h=$i;h;)h=fe(h);throw Error(o(418))}for(;p;)vT(h,p),p=fe(p)}}if(_T(h),h.tag===13){if(!le)throw Error(o(316));if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(o(317));$i=mt(h)}else $i=ji?fe(h.stateNode):null;return!0}function wf(){le&&($i=ji=null,Vh=gn=!1)}function Sx(h){no===null?no=[h]:no.push(h)}function jh(h,p,S){if(h=S.ref,h!==null&&typeof h!="function"&&typeof h!="object"){if(S._owner){if(S=S._owner,S){if(S.tag!==1)throw Error(o(309));var M=S.stateNode}if(!M)throw Error(o(147,h));var T=M,I=""+h;return p!==null&&p.ref!==null&&typeof p.ref=="function"&&p.ref._stringRef===I?p.ref:(p=function(K){var se=T.refs;se===dT&&(se=T.refs={}),K===null?delete se[I]:se[I]=K},p._stringRef=I,p)}if(typeof h!="string")throw Error(o(284));if(!S._owner)throw Error(o(290,h))}return h}function y0(h,p){throw h=Object.prototype.toString.call(p),Error(o(31,h==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":h))}function xT(h){var p=h._init;return p(h._payload)}function wT(h){function p(pe,oe){if(h){var xe=pe.deletions;xe===null?(pe.deletions=[oe],pe.flags|=16):xe.push(oe)}}function S(pe,oe){if(!h)return null;for(;oe!==null;)p(pe,oe),oe=oe.sibling;return null}function M(pe,oe){for(pe=new Map;oe!==null;)oe.key!==null?pe.set(oe.key,oe):pe.set(oe.index,oe),oe=oe.sibling;return pe}function T(pe,oe){return pe=hl(pe,oe),pe.index=0,pe.sibling=null,pe}function I(pe,oe,xe){return pe.index=xe,h?(xe=pe.alternate,xe!==null?(xe=xe.index,xe<oe?(pe.flags|=2,oe):xe):(pe.flags|=2,oe)):(pe.flags|=1048576,oe)}function K(pe){return h&&pe.alternate===null&&(pe.flags|=2),pe}function se(pe,oe,xe,Ye){return oe===null||oe.tag!==6?(oe=sw(xe,pe.mode,Ye),oe.return=pe,oe):(oe=T(oe,xe),oe.return=pe,oe)}function Me(pe,oe,xe,Ye){var ot=xe.type;return ot===u?rt(pe,oe,xe.props.children,Ye,xe.key):oe!==null&&(oe.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===w&&xT(ot)===oe.type)?(Ye=T(oe,xe.props),Ye.ref=jh(pe,oe,xe),Ye.return=pe,Ye):(Ye=K0(xe.type,xe.key,xe.props,null,pe.mode,Ye),Ye.ref=jh(pe,oe,xe),Ye.return=pe,Ye)}function Ve(pe,oe,xe,Ye){return oe===null||oe.tag!==4||oe.stateNode.containerInfo!==xe.containerInfo||oe.stateNode.implementation!==xe.implementation?(oe=ow(xe,pe.mode,Ye),oe.return=pe,oe):(oe=T(oe,xe.children||[]),oe.return=pe,oe)}function rt(pe,oe,xe,Ye,ot){return oe===null||oe.tag!==7?(oe=zc(xe,pe.mode,Ye,ot),oe.return=pe,oe):(oe=T(oe,xe),oe.return=pe,oe)}function vt(pe,oe,xe){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return oe=sw(""+oe,pe.mode,xe),oe.return=pe,oe;if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case l:return xe=K0(oe.type,oe.key,oe.props,null,pe.mode,xe),xe.ref=jh(pe,null,oe),xe.return=pe,xe;case c:return oe=ow(oe,pe.mode,xe),oe.return=pe,oe;case w:var Ye=oe._init;return vt(pe,Ye(oe._payload),xe)}if(V(oe)||E(oe))return oe=zc(oe,pe.mode,xe,null),oe.return=pe,oe;y0(pe,oe)}return null}function ct(pe,oe,xe,Ye){var ot=oe!==null?oe.key:null;if(typeof xe=="string"&&xe!==""||typeof xe=="number")return ot!==null?null:se(pe,oe,""+xe,Ye);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case l:return xe.key===ot?Me(pe,oe,xe,Ye):null;case c:return xe.key===ot?Ve(pe,oe,xe,Ye):null;case w:return ot=xe._init,ct(pe,oe,ot(xe._payload),Ye)}if(V(xe)||E(xe))return ot!==null?null:rt(pe,oe,xe,Ye,null);y0(pe,xe)}return null}function tn(pe,oe,xe,Ye,ot){if(typeof Ye=="string"&&Ye!==""||typeof Ye=="number")return pe=pe.get(xe)||null,se(oe,pe,""+Ye,ot);if(typeof Ye=="object"&&Ye!==null){switch(Ye.$$typeof){case l:return pe=pe.get(Ye.key===null?xe:Ye.key)||null,Me(oe,pe,Ye,ot);case c:return pe=pe.get(Ye.key===null?xe:Ye.key)||null,Ve(oe,pe,Ye,ot);case w:var bt=Ye._init;return tn(pe,oe,xe,bt(Ye._payload),ot)}if(V(Ye)||E(Ye))return pe=pe.get(xe)||null,rt(oe,pe,Ye,ot,null);y0(oe,Ye)}return null}function at(pe,oe,xe,Ye){for(var ot=null,bt=null,yt=oe,$t=oe=0,yr=null;yt!==null&&$t<xe.length;$t++){yt.index>$t?(yr=yt,yt=null):yr=yt.sibling;var Xt=ct(pe,yt,xe[$t],Ye);if(Xt===null){yt===null&&(yt=yr);break}h&&yt&&Xt.alternate===null&&p(pe,yt),oe=I(Xt,oe,$t),bt===null?ot=Xt:bt.sibling=Xt,bt=Xt,yt=yr}if($t===xe.length)return S(pe,yt),gn&&Ic(pe,$t),ot;if(yt===null){for(;$t<xe.length;$t++)yt=vt(pe,xe[$t],Ye),yt!==null&&(oe=I(yt,oe,$t),bt===null?ot=yt:bt.sibling=yt,bt=yt);return gn&&Ic(pe,$t),ot}for(yt=M(pe,yt);$t<xe.length;$t++)yr=tn(yt,pe,$t,xe[$t],Ye),yr!==null&&(h&&yr.alternate!==null&&yt.delete(yr.key===null?$t:yr.key),oe=I(yr,oe,$t),bt===null?ot=yr:bt.sibling=yr,bt=yr);return h&&yt.forEach(function(pl){return p(pe,pl)}),gn&&Ic(pe,$t),ot}function zr(pe,oe,xe,Ye){var ot=E(xe);if(typeof ot!="function")throw Error(o(150));if(xe=ot.call(xe),xe==null)throw Error(o(151));for(var bt=ot=null,yt=oe,$t=oe=0,yr=null,Xt=xe.next();yt!==null&&!Xt.done;$t++,Xt=xe.next()){yt.index>$t?(yr=yt,yt=null):yr=yt.sibling;var pl=ct(pe,yt,Xt.value,Ye);if(pl===null){yt===null&&(yt=yr);break}h&&yt&&pl.alternate===null&&p(pe,yt),oe=I(pl,oe,$t),bt===null?ot=pl:bt.sibling=pl,bt=pl,yt=yr}if(Xt.done)return S(pe,yt),gn&&Ic(pe,$t),ot;if(yt===null){for(;!Xt.done;$t++,Xt=xe.next())Xt=vt(pe,Xt.value,Ye),Xt!==null&&(oe=I(Xt,oe,$t),bt===null?ot=Xt:bt.sibling=Xt,bt=Xt);return gn&&Ic(pe,$t),ot}for(yt=M(pe,yt);!Xt.done;$t++,Xt=xe.next())Xt=tn(yt,pe,$t,Xt.value,Ye),Xt!==null&&(h&&Xt.alternate!==null&&yt.delete(Xt.key===null?$t:Xt.key),oe=I(Xt,oe,$t),bt===null?ot=Xt:bt.sibling=Xt,bt=Xt);return h&&yt.forEach(function($8){return p(pe,$8)}),gn&&Ic(pe,$t),ot}function Ms(pe,oe,xe,Ye){if(typeof xe=="object"&&xe!==null&&xe.type===u&&xe.key===null&&(xe=xe.props.children),typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case l:e:{for(var ot=xe.key,bt=oe;bt!==null;){if(bt.key===ot){if(ot=xe.type,ot===u){if(bt.tag===7){S(pe,bt.sibling),oe=T(bt,xe.props.children),oe.return=pe,pe=oe;break e}}else if(bt.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===w&&xT(ot)===bt.type){S(pe,bt.sibling),oe=T(bt,xe.props),oe.ref=jh(pe,bt,xe),oe.return=pe,pe=oe;break e}S(pe,bt);break}else p(pe,bt);bt=bt.sibling}xe.type===u?(oe=zc(xe.props.children,pe.mode,Ye,xe.key),oe.return=pe,pe=oe):(Ye=K0(xe.type,xe.key,xe.props,null,pe.mode,Ye),Ye.ref=jh(pe,oe,xe),Ye.return=pe,pe=Ye)}return K(pe);case c:e:{for(bt=xe.key;oe!==null;){if(oe.key===bt)if(oe.tag===4&&oe.stateNode.containerInfo===xe.containerInfo&&oe.stateNode.implementation===xe.implementation){S(pe,oe.sibling),oe=T(oe,xe.children||[]),oe.return=pe,pe=oe;break e}else{S(pe,oe);break}else p(pe,oe);oe=oe.sibling}oe=ow(xe,pe.mode,Ye),oe.return=pe,pe=oe}return K(pe);case w:return bt=xe._init,Ms(pe,oe,bt(xe._payload),Ye)}if(V(xe))return at(pe,oe,xe,Ye);if(E(xe))return zr(pe,oe,xe,Ye);y0(pe,xe)}return typeof xe=="string"&&xe!==""||typeof xe=="number"?(xe=""+xe,oe!==null&&oe.tag===6?(S(pe,oe.sibling),oe=T(oe,xe),oe.return=pe,pe=oe):(S(pe,oe),oe=sw(xe,pe.mode,Ye),oe.return=pe,pe=oe),K(pe)):S(pe,oe)}return Ms}var Sf=wT(!0),ST=wT(!1),$h={},ws=Cr($h),Xh=Cr($h),Af=Cr($h);function Bo(h){if(h===$h)throw Error(o(174));return h}function Ax(h,p){It(Af,p),It(Xh,h),It(ws,$h),h=Y(p),pt(ws),It(ws,h)}function bf(){pt(ws),pt(Xh),pt(Af)}function AT(h){var p=Bo(Af.current),S=Bo(ws.current);p=O(S,h.type,p),S!==p&&(It(Xh,h),It(ws,p))}function bx(h){Xh.current===h&&(pt(ws),pt(Xh))}var Sn=Cr(0);function _0(h){for(var p=h;p!==null;){if(p.tag===13){var S=p.memoizedState;if(S!==null&&(S=S.dehydrated,S===null||jt(S)||xn(S)))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if(p.flags&128)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===h)break;for(;p.sibling===null;){if(p.return===null||p.return===h)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var Mx=[];function Cx(){for(var h=0;h<Mx.length;h++){var p=Mx[h];ye?p._workInProgressVersionPrimary=null:p._workInProgressVersionSecondary=null}Mx.length=0}var x0=a.ReactCurrentDispatcher,Ss=a.ReactCurrentBatchConfig,Mf=0,In=null,Fr=null,vr=null,w0=!1,Jh=!1,Kh=0,v8=0;function Nr(){throw Error(o(321))}function Ex(h,p){if(p===null)return!1;for(var S=0;S<p.length&&S<h.length;S++)if(!Vi(h[S],p[S]))return!1;return!0}function Tx(h,p,S,M,T,I){if(Mf=I,In=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,x0.current=h===null||h.memoizedState===null?w8:S8,h=S(M,T),Jh){I=0;do{if(Jh=!1,Kh=0,25<=I)throw Error(o(301));I+=1,vr=Fr=null,p.updateQueue=null,x0.current=A8,h=S(M,T)}while(Jh)}if(x0.current=C0,p=Fr!==null&&Fr.next!==null,Mf=0,vr=Fr=In=null,w0=!1,p)throw Error(o(300));return h}function Px(){var h=Kh!==0;return Kh=0,h}function ca(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vr===null?In.memoizedState=vr=h:vr=vr.next=h,vr}function Io(){if(Fr===null){var h=In.alternate;h=h!==null?h.memoizedState:null}else h=Fr.next;var p=vr===null?In.memoizedState:vr.next;if(p!==null)vr=p,Fr=h;else{if(h===null)throw Error(o(310));Fr=h,h={memoizedState:Fr.memoizedState,baseState:Fr.baseState,baseQueue:Fr.baseQueue,queue:Fr.queue,next:null},vr===null?In.memoizedState=vr=h:vr=vr.next=h}return vr}function Lc(h,p){return typeof p=="function"?p(h):p}function S0(h){var p=Io(),S=p.queue;if(S===null)throw Error(o(311));S.lastRenderedReducer=h;var M=Fr,T=M.baseQueue,I=S.pending;if(I!==null){if(T!==null){var K=T.next;T.next=I.next,I.next=K}M.baseQueue=T=I,S.pending=null}if(T!==null){I=T.next,M=M.baseState;var se=K=null,Me=null,Ve=I;do{var rt=Ve.lane;if((Mf&rt)===rt)Me!==null&&(Me=Me.next={lane:0,action:Ve.action,hasEagerState:Ve.hasEagerState,eagerState:Ve.eagerState,next:null}),M=Ve.hasEagerState?Ve.eagerState:h(M,Ve.action);else{var vt={lane:rt,action:Ve.action,hasEagerState:Ve.hasEagerState,eagerState:Ve.eagerState,next:null};Me===null?(se=Me=vt,K=M):Me=Me.next=vt,In.lanes|=rt,Ef|=rt}Ve=Ve.next}while(Ve!==null&&Ve!==I);Me===null?K=M:Me.next=se,Vi(M,p.memoizedState)||(Xi=!0),p.memoizedState=M,p.baseState=K,p.baseQueue=Me,S.lastRenderedState=M}if(h=S.interleaved,h!==null){T=h;do I=T.lane,In.lanes|=I,Ef|=I,T=T.next;while(T!==h)}else T===null&&(S.lanes=0);return[p.memoizedState,S.dispatch]}function A0(h){var p=Io(),S=p.queue;if(S===null)throw Error(o(311));S.lastRenderedReducer=h;var M=S.dispatch,T=S.pending,I=p.memoizedState;if(T!==null){S.pending=null;var K=T=T.next;do I=h(I,K.action),K=K.next;while(K!==T);Vi(I,p.memoizedState)||(Xi=!0),p.memoizedState=I,p.baseQueue===null&&(p.baseState=I),S.lastRenderedState=I}return[I,M]}function bT(){}function MT(h,p){var S=In,M=Io(),T=p(),I=!Vi(M.memoizedState,T);if(I&&(M.memoizedState=T,Xi=!0),M=M.queue,Qh(TT.bind(null,S,M,h),[h]),M.getSnapshot!==p||I||vr!==null&&vr.memoizedState.tag&1){if(S.flags|=2048,Yh(9,ET.bind(null,S,M,T,p),void 0,null),qn===null)throw Error(o(349));Mf&30||CT(S,p,T)}return T}function CT(h,p,S){h.flags|=16384,h={getSnapshot:p,value:S},p=In.updateQueue,p===null?(p={lastEffect:null,stores:null},In.updateQueue=p,p.stores=[h]):(S=p.stores,S===null?p.stores=[h]:S.push(h))}function ET(h,p,S,M){p.value=S,p.getSnapshot=M,PT(p)&&As(h,1,-1)}function TT(h,p,S){return S(function(){PT(p)&&As(h,1,-1)})}function PT(h){var p=h.getSnapshot;h=h.value;try{var S=p();return!Vi(h,S)}catch{return!0}}function Rx(h){var p=ca();return typeof h=="function"&&(h=h()),p.memoizedState=p.baseState=h,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Lc,lastRenderedState:h},p.queue=h,h=h.dispatch=x8.bind(null,In,h),[p.memoizedState,h]}function Yh(h,p,S,M){return h={tag:h,create:p,destroy:S,deps:M,next:null},p=In.updateQueue,p===null?(p={lastEffect:null,stores:null},In.updateQueue=p,p.lastEffect=h.next=h):(S=p.lastEffect,S===null?p.lastEffect=h.next=h:(M=S.next,S.next=h,h.next=M,p.lastEffect=h)),h}function RT(){return Io().memoizedState}function b0(h,p,S,M){var T=ca();In.flags|=h,T.memoizedState=Yh(1|p,S,void 0,M===void 0?null:M)}function M0(h,p,S,M){var T=Io();M=M===void 0?null:M;var I=void 0;if(Fr!==null){var K=Fr.memoizedState;if(I=K.destroy,M!==null&&Ex(M,K.deps)){T.memoizedState=Yh(p,S,I,M);return}}In.flags|=h,T.memoizedState=Yh(1|p,S,I,M)}function Dx(h,p){return b0(8390656,8,h,p)}function Qh(h,p){return M0(2048,8,h,p)}function DT(h,p){return M0(4,2,h,p)}function BT(h,p){return M0(4,4,h,p)}function IT(h,p){if(typeof p=="function")return h=h(),p(h),function(){p(null)};if(p!=null)return h=h(),p.current=h,function(){p.current=null}}function LT(h,p,S){return S=S!=null?S.concat([h]):null,M0(4,4,IT.bind(null,p,h),S)}function Bx(){}function kT(h,p){var S=Io();p=p===void 0?null:p;var M=S.memoizedState;return M!==null&&p!==null&&Ex(p,M[1])?M[0]:(S.memoizedState=[h,p],h)}function OT(h,p){var S=Io();p=p===void 0?null:p;var M=S.memoizedState;return M!==null&&p!==null&&Ex(p,M[1])?M[0]:(h=h(),S.memoizedState=[h,p],h)}function y8(h,p){var S=Pt;Pt=S!==0&&4>S?S:4,h(!0);var M=Ss.transition;Ss.transition={};try{h(!1),p()}finally{Pt=S,Ss.transition=M}}function FT(){return Io().memoizedState}function _8(h,p,S){var M=fl(h);S={lane:M,action:S,hasEagerState:!1,eagerState:null,next:null},NT(h)?UT(p,S):(zT(h,p,S),S=oi(),h=As(h,M,S),h!==null&&GT(h,p,M))}function x8(h,p,S){var M=fl(h),T={lane:M,action:S,hasEagerState:!1,eagerState:null,next:null};if(NT(h))UT(p,T);else{zT(h,p,T);var I=h.alternate;if(h.lanes===0&&(I===null||I.lanes===0)&&(I=p.lastRenderedReducer,I!==null))try{var K=p.lastRenderedState,se=I(K,S);if(T.hasEagerState=!0,T.eagerState=se,Vi(se,K))return}catch{}finally{}S=oi(),h=As(h,M,S),h!==null&&GT(h,p,M)}}function NT(h){var p=h.alternate;return h===In||p!==null&&p===In}function UT(h,p){Jh=w0=!0;var S=h.pending;S===null?p.next=p:(p.next=S.next,S.next=p),h.pending=p}function zT(h,p,S){qn!==null&&h.mode&1&&!(Mt&2)?(h=p.interleaved,h===null?(S.next=S,Wi===null?Wi=[p]:Wi.push(p)):(S.next=h.next,h.next=S),p.interleaved=S):(h=p.pending,h===null?S.next=S:(S.next=h.next,h.next=S),p.pending=S)}function GT(h,p,S){if(S&4194240){var M=p.lanes;M&=h.pendingLanes,S|=M,p.lanes=S,Ro(h,S)}}var C0={readContext:Vn,useCallback:Nr,useContext:Nr,useEffect:Nr,useImperativeHandle:Nr,useInsertionEffect:Nr,useLayoutEffect:Nr,useMemo:Nr,useReducer:Nr,useRef:Nr,useState:Nr,useDebugValue:Nr,useDeferredValue:Nr,useTransition:Nr,useMutableSource:Nr,useSyncExternalStore:Nr,useId:Nr,unstable_isNewReconciler:!1},w8={readContext:Vn,useCallback:function(h,p){return ca().memoizedState=[h,p===void 0?null:p],h},useContext:Vn,useEffect:Dx,useImperativeHandle:function(h,p,S){return S=S!=null?S.concat([h]):null,b0(4194308,4,IT.bind(null,p,h),S)},useLayoutEffect:function(h,p){return b0(4194308,4,h,p)},useInsertionEffect:function(h,p){return b0(4,2,h,p)},useMemo:function(h,p){var S=ca();return p=p===void 0?null:p,h=h(),S.memoizedState=[h,p],h},useReducer:function(h,p,S){var M=ca();return p=S!==void 0?S(p):p,M.memoizedState=M.baseState=p,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:p},M.queue=h,h=h.dispatch=_8.bind(null,In,h),[M.memoizedState,h]},useRef:function(h){var p=ca();return h={current:h},p.memoizedState=h},useState:Rx,useDebugValue:Bx,useDeferredValue:function(h){var p=Rx(h),S=p[0],M=p[1];return Dx(function(){var T=Ss.transition;Ss.transition={};try{M(h)}finally{Ss.transition=T}},[h]),S},useTransition:function(){var h=Rx(!1),p=h[0];return h=y8.bind(null,h[1]),ca().memoizedState=h,[p,h]},useMutableSource:function(){},useSyncExternalStore:function(h,p,S){var M=In,T=ca();if(gn){if(S===void 0)throw Error(o(407));S=S()}else{if(S=p(),qn===null)throw Error(o(349));Mf&30||CT(M,p,S)}T.memoizedState=S;var I={value:S,getSnapshot:p};return T.queue=I,Dx(TT.bind(null,M,I,h),[h]),M.flags|=2048,Yh(9,ET.bind(null,M,I,S,p),void 0,null),S},useId:function(){var h=ca(),p=qn.identifierPrefix;if(gn){var S=la,M=aa;S=(M&~(1<<32-Gi(M)-1)).toString(32)+S,p=":"+p+"R"+S,S=Kh++,0<S&&(p+="H"+S.toString(32)),p+=":"}else S=v8++,p=":"+p+"r"+S.toString(32)+":";return h.memoizedState=p},unstable_isNewReconciler:!1},S8={readContext:Vn,useCallback:kT,useContext:Vn,useEffect:Qh,useImperativeHandle:LT,useInsertionEffect:DT,useLayoutEffect:BT,useMemo:OT,useReducer:S0,useRef:RT,useState:function(){return S0(Lc)},useDebugValue:Bx,useDeferredValue:function(h){var p=S0(Lc),S=p[0],M=p[1];return Qh(function(){var T=Ss.transition;Ss.transition={};try{M(h)}finally{Ss.transition=T}},[h]),S},useTransition:function(){var h=S0(Lc)[0],p=Io().memoizedState;return[h,p]},useMutableSource:bT,useSyncExternalStore:MT,useId:FT,unstable_isNewReconciler:!1},A8={readContext:Vn,useCallback:kT,useContext:Vn,useEffect:Qh,useImperativeHandle:LT,useInsertionEffect:DT,useLayoutEffect:BT,useMemo:OT,useReducer:A0,useRef:RT,useState:function(){return A0(Lc)},useDebugValue:Bx,useDeferredValue:function(h){var p=A0(Lc),S=p[0],M=p[1];return Qh(function(){var T=Ss.transition;Ss.transition={};try{M(h)}finally{Ss.transition=T}},[h]),S},useTransition:function(){var h=A0(Lc)[0],p=Io().memoizedState;return[h,p]},useMutableSource:bT,useSyncExternalStore:MT,useId:FT,unstable_isNewReconciler:!1};function Ix(h,p){try{var S="",M=p;do S+=Dc(M),M=M.return;while(M);var T=S}catch(I){T=`
Error generating stack: `+I.message+`
`+I.stack}return{value:h,source:p,stack:T}}function Lx(h,p){try{console.error(p.value)}catch(S){setTimeout(function(){throw S})}}var b8=typeof WeakMap=="function"?WeakMap:Map;function HT(h,p,S){S=oa(-1,S),S.tag=3,S.payload={element:null};var M=p.value;return S.callback=function(){H0||(H0=!0,qx=M),Lx(h,p)},S}function VT(h,p,S){S=oa(-1,S),S.tag=3;var M=h.type.getDerivedStateFromError;if(typeof M=="function"){var T=p.value;S.payload=function(){return M(T)},S.callback=function(){Lx(h,p)}}var I=h.stateNode;return I!==null&&typeof I.componentDidCatch=="function"&&(S.callback=function(){Lx(h,p),typeof M!="function"&&(cl===null?cl=new Set([this]):cl.add(this));var K=p.stack;this.componentDidCatch(p.value,{componentStack:K!==null?K:""})}),S}function WT(h,p,S){var M=h.pingCache;if(M===null){M=h.pingCache=new b8;var T=new Set;M.set(p,T)}else T=M.get(p),T===void 0&&(T=new Set,M.set(p,T));T.has(S)||(T.add(S),h=N8.bind(null,h,p,S),p.then(h,h))}function jT(h){do{var p;if((p=h.tag===13)&&(p=h.memoizedState,p=p!==null?p.dehydrated!==null:!0),p)return h;h=h.return}while(h!==null);return null}function $T(h,p,S,M,T){return h.mode&1?(h.flags|=65536,h.lanes=T,h):(h===p?h.flags|=65536:(h.flags|=128,S.flags|=131072,S.flags&=-52805,S.tag===1&&(S.alternate===null?S.tag=17:(p=oa(-1,1),p.tag=2,ll(S,p))),S.lanes|=1),h)}function Lo(h){h.flags|=4}function XT(h,p){if(h!==null&&h.child===p.child)return!0;if(p.flags&16)return!1;for(h=p.child;h!==null;){if(h.flags&12854||h.subtreeFlags&12854)return!1;h=h.sibling}return!0}var qh,Zh,E0,T0;if(Se)qh=function(h,p){for(var S=p.child;S!==null;){if(S.tag===5||S.tag===6)X(h,S.stateNode);else if(S.tag!==4&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===p)break;for(;S.sibling===null;){if(S.return===null||S.return===p)return;S=S.return}S.sibling.return=S.return,S=S.sibling}},Zh=function(){},E0=function(h,p,S,M,T){if(h=h.memoizedProps,h!==M){var I=p.stateNode,K=Bo(ws.current);S=re(I,S,h,M,T,K),(p.updateQueue=S)&&Lo(p)}},T0=function(h,p,S,M){S!==M&&Lo(p)};else if(ne){qh=function(h,p,S,M){for(var T=p.child;T!==null;){if(T.tag===5){var I=T.stateNode;S&&M&&(I=Gt(I,T.type,T.memoizedProps,T)),X(h,I)}else if(T.tag===6)I=T.stateNode,S&&M&&(I=Ut(I,T.memoizedProps,T)),X(h,I);else if(T.tag!==4){if(T.tag===22&&T.memoizedState!==null)I=T.child,I!==null&&(I.return=T),qh(h,T,!0,!0);else if(T.child!==null){T.child.return=T,T=T.child;continue}}if(T===p)break;for(;T.sibling===null;){if(T.return===null||T.return===p)return;T=T.return}T.sibling.return=T.return,T=T.sibling}};var JT=function(h,p,S,M){for(var T=p.child;T!==null;){if(T.tag===5){var I=T.stateNode;S&&M&&(I=Gt(I,T.type,T.memoizedProps,T)),Nt(h,I)}else if(T.tag===6)I=T.stateNode,S&&M&&(I=Ut(I,T.memoizedProps,T)),Nt(h,I);else if(T.tag!==4){if(T.tag===22&&T.memoizedState!==null)I=T.child,I!==null&&(I.return=T),JT(h,T,!0,!0);else if(T.child!==null){T.child.return=T,T=T.child;continue}}if(T===p)break;for(;T.sibling===null;){if(T.return===null||T.return===p)return;T=T.return}T.sibling.return=T.return,T=T.sibling}};Zh=function(h,p){var S=p.stateNode;if(!XT(h,p)){h=S.containerInfo;var M=_t(h);JT(M,p,!1,!1),S.pendingChildren=M,Lo(p),Wt(h,M)}},E0=function(h,p,S,M,T){var I=h.stateNode,K=h.memoizedProps;if((h=XT(h,p))&&K===M)p.stateNode=I;else{var se=p.stateNode,Me=Bo(ws.current),Ve=null;K!==M&&(Ve=re(se,S,K,M,T,Me)),h&&Ve===null?p.stateNode=I:(I=tt(I,Ve,S,K,M,p,h,se),Z(I,S,M,T,Me)&&Lo(p),p.stateNode=I,h?Lo(p):qh(I,p,!1,!1))}},T0=function(h,p,S,M){S!==M?(h=Bo(Af.current),S=Bo(ws.current),p.stateNode=Q(M,h,S,p),Lo(p)):p.stateNode=h.stateNode}}else Zh=function(){},E0=function(){},T0=function(){};function ep(h,p){if(!gn)switch(h.tailMode){case"hidden":p=h.tail;for(var S=null;p!==null;)p.alternate!==null&&(S=p),p=p.sibling;S===null?h.tail=null:S.sibling=null;break;case"collapsed":S=h.tail;for(var M=null;S!==null;)S.alternate!==null&&(M=S),S=S.sibling;M===null?p||h.tail===null?h.tail=null:h.tail.sibling=null:M.sibling=null}}function Ur(h){var p=h.alternate!==null&&h.alternate.child===h.child,S=0,M=0;if(p)for(var T=h.child;T!==null;)S|=T.lanes|T.childLanes,M|=T.subtreeFlags&14680064,M|=T.flags&14680064,T.return=h,T=T.sibling;else for(T=h.child;T!==null;)S|=T.lanes|T.childLanes,M|=T.subtreeFlags,M|=T.flags,T.return=h,T=T.sibling;return h.subtreeFlags|=M,h.childLanes=S,p}function M8(h,p,S){var M=p.pendingProps;switch(_x(p),p.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ur(p),null;case 1:return pr(p.type)&&eo(),Ur(p),null;case 3:return M=p.stateNode,bf(),pt(Bn),pt(Ht),Cx(),M.pendingContext&&(M.context=M.pendingContext,M.pendingContext=null),(h===null||h.child===null)&&(Wh(p)?Lo(p):h===null||h.memoizedState.isDehydrated&&!(p.flags&256)||(p.flags|=1024,no!==null&&(tw(no),no=null))),Zh(h,p),Ur(p),null;case 5:bx(p),S=Bo(Af.current);var T=p.type;if(h!==null&&p.stateNode!=null)E0(h,p,T,M,S),h.ref!==p.ref&&(p.flags|=512,p.flags|=2097152);else{if(!M){if(p.stateNode===null)throw Error(o(166));return Ur(p),null}if(h=Bo(ws.current),Wh(p)){if(!le)throw Error(o(175));h=nt(p.stateNode,p.type,p.memoizedProps,S,h,p,!Vh),p.updateQueue=h,h!==null&&Lo(p)}else{var I=G(T,M,S,h,p);qh(I,p,!1,!1),p.stateNode=I,Z(I,T,M,S,h)&&Lo(p)}p.ref!==null&&(p.flags|=512,p.flags|=2097152)}return Ur(p),null;case 6:if(h&&p.stateNode!=null)T0(h,p,h.memoizedProps,M);else{if(typeof M!="string"&&p.stateNode===null)throw Error(o(166));if(h=Bo(Af.current),S=Bo(ws.current),Wh(p)){if(!le)throw Error(o(176));if(h=p.stateNode,M=p.memoizedProps,(S=lt(h,M,p,!Vh))&&(T=ji,T!==null))switch(I=(T.mode&1)!==0,T.tag){case 3:ps(T.stateNode.containerInfo,h,M,I);break;case 5:ms(T.type,T.memoizedProps,T.stateNode,h,M,I)}S&&Lo(p)}else p.stateNode=Q(M,h,S,p)}return Ur(p),null;case 13:if(pt(Sn),M=p.memoizedState,gn&&$i!==null&&p.mode&1&&!(p.flags&128)){for(h=$i;h;)h=fe(h);return wf(),p.flags|=98560,p}if(M!==null&&M.dehydrated!==null){if(M=Wh(p),h===null){if(!M)throw Error(o(318));if(!le)throw Error(o(344));if(h=p.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(o(317));xt(h,p)}else wf(),!(p.flags&128)&&(p.memoizedState=null),p.flags|=4;return Ur(p),null}return no!==null&&(tw(no),no=null),p.flags&128?(p.lanes=S,p):(M=M!==null,S=!1,h===null?Wh(p):S=h.memoizedState!==null,M&&!S&&(p.child.flags|=8192,p.mode&1&&(h===null||Sn.current&1?or===0&&(or=3):rw())),p.updateQueue!==null&&(p.flags|=4),Ur(p),null);case 4:return bf(),Zh(h,p),h===null&&Ce(p.stateNode.containerInfo),Ur(p),null;case 10:return gr(p.type._context),Ur(p),null;case 17:return pr(p.type)&&eo(),Ur(p),null;case 19:if(pt(Sn),T=p.memoizedState,T===null)return Ur(p),null;if(M=(p.flags&128)!==0,I=T.rendering,I===null)if(M)ep(T,!1);else{if(or!==0||h!==null&&h.flags&128)for(h=p.child;h!==null;){if(I=_0(h),I!==null){for(p.flags|=128,ep(T,!1),h=I.updateQueue,h!==null&&(p.updateQueue=h,p.flags|=4),p.subtreeFlags=0,h=S,M=p.child;M!==null;)S=M,T=h,S.flags&=14680066,I=S.alternate,I===null?(S.childLanes=0,S.lanes=T,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=I.childLanes,S.lanes=I.lanes,S.child=I.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=I.memoizedProps,S.memoizedState=I.memoizedState,S.updateQueue=I.updateQueue,S.type=I.type,T=I.dependencies,S.dependencies=T===null?null:{lanes:T.lanes,firstContext:T.firstContext}),M=M.sibling;return It(Sn,Sn.current&1|2),p.child}h=h.sibling}T.tail!==null&&wn()>Qx&&(p.flags|=128,M=!0,ep(T,!1),p.lanes=4194304)}else{if(!M)if(h=_0(I),h!==null){if(p.flags|=128,M=!0,h=h.updateQueue,h!==null&&(p.updateQueue=h,p.flags|=4),ep(T,!0),T.tail===null&&T.tailMode==="hidden"&&!I.alternate&&!gn)return Ur(p),null}else 2*wn()-T.renderingStartTime>Qx&&S!==1073741824&&(p.flags|=128,M=!0,ep(T,!1),p.lanes=4194304);T.isBackwards?(I.sibling=p.child,p.child=I):(h=T.last,h!==null?h.sibling=I:p.child=I,T.last=I)}return T.tail!==null?(p=T.tail,T.rendering=p,T.tail=p.sibling,T.renderingStartTime=wn(),p.sibling=null,h=Sn.current,It(Sn,M?h&1|2:h&1),p):(Ur(p),null);case 22:case 23:return nw(),M=p.memoizedState!==null,h!==null&&h.memoizedState!==null!==M&&(p.flags|=8192),M&&p.mode&1?Ji&1073741824&&(Ur(p),Se&&p.subtreeFlags&6&&(p.flags|=8192)):Ur(p),null;case 24:return null;case 25:return null}throw Error(o(156,p.tag))}var C8=a.ReactCurrentOwner,Xi=!1;function si(h,p,S,M){p.child=h===null?ST(p,null,S,M):Sf(p,h.child,S,M)}function KT(h,p,S,M,T){S=S.render;var I=p.ref;return Hn(p,T),M=Tx(h,p,S,M,I,T),S=Px(),h!==null&&!Xi?(p.updateQueue=h.updateQueue,p.flags&=-2053,h.lanes&=~T,ua(h,p,T)):(gn&&S&&yx(p),p.flags|=1,si(h,p,M,T),p.child)}function YT(h,p,S,M,T){if(h===null){var I=S.type;return typeof I=="function"&&!iw(I)&&I.defaultProps===void 0&&S.compare===null&&S.defaultProps===void 0?(p.tag=15,p.type=I,QT(h,p,I,M,T)):(h=K0(S.type,null,M,p,p.mode,T),h.ref=p.ref,h.return=p,p.child=h)}if(I=h.child,!(h.lanes&T)){var K=I.memoizedProps;if(S=S.compare,S=S!==null?S:Rc,S(K,M)&&h.ref===p.ref)return ua(h,p,T)}return p.flags|=1,h=hl(I,M),h.ref=p.ref,h.return=p,p.child=h}function QT(h,p,S,M,T){if(h!==null&&Rc(h.memoizedProps,M)&&h.ref===p.ref)if(Xi=!1,(h.lanes&T)!==0)h.flags&131072&&(Xi=!0);else return p.lanes=h.lanes,ua(h,p,T);return kx(h,p,S,M,T)}function qT(h,p,S){var M=p.pendingProps,T=M.children,I=h!==null?h.memoizedState:null;if(M.mode==="hidden")if(!(p.mode&1))p.memoizedState={baseLanes:0,cachePool:null},It(Cf,Ji),Ji|=S;else if(S&1073741824)p.memoizedState={baseLanes:0,cachePool:null},M=I!==null?I.baseLanes:S,It(Cf,Ji),Ji|=M;else return h=I!==null?I.baseLanes|S:S,p.lanes=p.childLanes=1073741824,p.memoizedState={baseLanes:h,cachePool:null},p.updateQueue=null,It(Cf,Ji),Ji|=h,null;else I!==null?(M=I.baseLanes|S,p.memoizedState=null):M=S,It(Cf,Ji),Ji|=M;return si(h,p,T,S),p.child}function ZT(h,p){var S=p.ref;(h===null&&S!==null||h!==null&&h.ref!==S)&&(p.flags|=512,p.flags|=2097152)}function kx(h,p,S,M,T){var I=pr(S)?vs:Ht.current;return I=ei(p,I),Hn(p,T),S=Tx(h,p,S,M,I,T),M=Px(),h!==null&&!Xi?(p.updateQueue=h.updateQueue,p.flags&=-2053,h.lanes&=~T,ua(h,p,T)):(gn&&M&&yx(p),p.flags|=1,si(h,p,S,T),p.child)}function e3(h,p,S,M,T){if(pr(S)){var I=!0;il(p)}else I=!1;if(Hn(p,T),p.stateNode===null)h!==null&&(h.alternate=null,p.alternate=null,p.flags|=2),pT(p,S,M),vx(p,S,M,T),M=!0;else if(h===null){var K=p.stateNode,se=p.memoizedProps;K.props=se;var Me=K.context,Ve=S.contextType;typeof Ve=="object"&&Ve!==null?Ve=Vn(Ve):(Ve=pr(S)?vs:Ht.current,Ve=ei(p,Ve));var rt=S.getDerivedStateFromProps,vt=typeof rt=="function"||typeof K.getSnapshotBeforeUpdate=="function";vt||typeof K.UNSAFE_componentWillReceiveProps!="function"&&typeof K.componentWillReceiveProps!="function"||(se!==M||Me!==Ve)&&mT(p,K,M,Ve),al=!1;var ct=p.memoizedState;K.state=ct,p0(p,M,K,T),Me=p.memoizedState,se!==M||ct!==Me||Bn.current||al?(typeof rt=="function"&&(gx(p,S,rt,M),Me=p.memoizedState),(se=al||hT(p,S,se,M,ct,Me,Ve))?(vt||typeof K.UNSAFE_componentWillMount!="function"&&typeof K.componentWillMount!="function"||(typeof K.componentWillMount=="function"&&K.componentWillMount(),typeof K.UNSAFE_componentWillMount=="function"&&K.UNSAFE_componentWillMount()),typeof K.componentDidMount=="function"&&(p.flags|=4194308)):(typeof K.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=M,p.memoizedState=Me),K.props=M,K.state=Me,K.context=Ve,M=se):(typeof K.componentDidMount=="function"&&(p.flags|=4194308),M=!1)}else{K=p.stateNode,cT(h,p),se=p.memoizedProps,Ve=p.type===p.elementType?se:ri(p.type,se),K.props=Ve,vt=p.pendingProps,ct=K.context,Me=S.contextType,typeof Me=="object"&&Me!==null?Me=Vn(Me):(Me=pr(S)?vs:Ht.current,Me=ei(p,Me));var tn=S.getDerivedStateFromProps;(rt=typeof tn=="function"||typeof K.getSnapshotBeforeUpdate=="function")||typeof K.UNSAFE_componentWillReceiveProps!="function"&&typeof K.componentWillReceiveProps!="function"||(se!==vt||ct!==Me)&&mT(p,K,M,Me),al=!1,ct=p.memoizedState,K.state=ct,p0(p,M,K,T);var at=p.memoizedState;se!==vt||ct!==at||Bn.current||al?(typeof tn=="function"&&(gx(p,S,tn,M),at=p.memoizedState),(Ve=al||hT(p,S,Ve,M,ct,at,Me)||!1)?(rt||typeof K.UNSAFE_componentWillUpdate!="function"&&typeof K.componentWillUpdate!="function"||(typeof K.componentWillUpdate=="function"&&K.componentWillUpdate(M,at,Me),typeof K.UNSAFE_componentWillUpdate=="function"&&K.UNSAFE_componentWillUpdate(M,at,Me)),typeof K.componentDidUpdate=="function"&&(p.flags|=4),typeof K.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof K.componentDidUpdate!="function"||se===h.memoizedProps&&ct===h.memoizedState||(p.flags|=4),typeof K.getSnapshotBeforeUpdate!="function"||se===h.memoizedProps&&ct===h.memoizedState||(p.flags|=1024),p.memoizedProps=M,p.memoizedState=at),K.props=M,K.state=at,K.context=Me,M=Ve):(typeof K.componentDidUpdate!="function"||se===h.memoizedProps&&ct===h.memoizedState||(p.flags|=4),typeof K.getSnapshotBeforeUpdate!="function"||se===h.memoizedProps&&ct===h.memoizedState||(p.flags|=1024),M=!1)}return Ox(h,p,S,M,I,T)}function Ox(h,p,S,M,T,I){ZT(h,p);var K=(p.flags&128)!==0;if(!M&&!K)return T&&zi(p,S,!1),ua(h,p,I);M=p.stateNode,C8.current=p;var se=K&&typeof S.getDerivedStateFromError!="function"?null:M.render();return p.flags|=1,h!==null&&K?(p.child=Sf(p,h.child,null,I),p.child=Sf(p,null,se,I)):si(h,p,se,I),p.memoizedState=M.state,T&&zi(p,S,!0),p.child}function t3(h){var p=h.stateNode;p.pendingContext?df(h,p.pendingContext,p.pendingContext!==p.context):p.context&&df(h,p.context,!1),Ax(h,p.containerInfo)}function n3(h,p,S,M,T){return wf(),Sx(T),p.flags|=256,si(h,p,S,M),p.child}var P0={dehydrated:null,treeContext:null,retryLane:0};function R0(h){return{baseLanes:h,cachePool:null}}function r3(h,p,S){var M=p.pendingProps,T=Sn.current,I=!1,K=(p.flags&128)!==0,se;if((se=K)||(se=h!==null&&h.memoizedState===null?!1:(T&2)!==0),se?(I=!0,p.flags&=-129):(h===null||h.memoizedState!==null)&&(T|=1),It(Sn,T&1),h===null)return wx(p),h=p.memoizedState,h!==null&&(h=h.dehydrated,h!==null)?(p.mode&1?xn(h)?p.lanes=8:p.lanes=1073741824:p.lanes=1,null):(T=M.children,h=M.fallback,I?(M=p.mode,I=p.child,T={mode:"hidden",children:T},!(M&1)&&I!==null?(I.childLanes=0,I.pendingProps=T):I=Y0(T,M,0,null),h=zc(h,M,S,null),I.return=p,h.return=p,I.sibling=h,p.child=I,p.child.memoizedState=R0(S),p.memoizedState=P0,h):Fx(p,T));if(T=h.memoizedState,T!==null){if(se=T.dehydrated,se!==null){if(K)return p.flags&256?(p.flags&=-257,D0(h,p,S,Error(o(422)))):p.memoizedState!==null?(p.child=h.child,p.flags|=128,null):(I=M.fallback,T=p.mode,M=Y0({mode:"visible",children:M.children},T,0,null),I=zc(I,T,S,null),I.flags|=2,M.return=p,I.return=p,M.sibling=I,p.child=M,p.mode&1&&Sf(p,h.child,null,S),p.child.memoizedState=R0(S),p.memoizedState=P0,I);if(!(p.mode&1))p=D0(h,p,S,null);else if(xn(se))p=D0(h,p,S,Error(o(419)));else if(M=(S&h.childLanes)!==0,Xi||M){if(M=qn,M!==null){switch(S&-S){case 4:I=2;break;case 16:I=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:I=32;break;case 536870912:I=268435456;break;default:I=0}M=I&(M.suspendedLanes|S)?0:I,M!==0&&M!==T.retryLane&&(T.retryLane=M,As(h,M,-1))}rw(),p=D0(h,p,S,Error(o(421)))}else jt(se)?(p.flags|=128,p.child=h.child,p=U8.bind(null,h),J(se,p),p=null):(S=T.treeContext,le&&($i=Pe(se),ji=p,gn=!0,no=null,Vh=!1,S!==null&&(_s[xs++]=aa,_s[xs++]=la,_s[xs++]=Bc,aa=S.id,la=S.overflow,Bc=p)),p=Fx(p,p.pendingProps.children),p.flags|=4096);return p}return I?(M=s3(h,p,M.children,M.fallback,S),I=p.child,T=h.child.memoizedState,I.memoizedState=T===null?R0(S):{baseLanes:T.baseLanes|S,cachePool:null},I.childLanes=h.childLanes&~S,p.memoizedState=P0,M):(S=i3(h,p,M.children,S),p.memoizedState=null,S)}return I?(M=s3(h,p,M.children,M.fallback,S),I=p.child,T=h.child.memoizedState,I.memoizedState=T===null?R0(S):{baseLanes:T.baseLanes|S,cachePool:null},I.childLanes=h.childLanes&~S,p.memoizedState=P0,M):(S=i3(h,p,M.children,S),p.memoizedState=null,S)}function Fx(h,p){return p=Y0({mode:"visible",children:p},h.mode,0,null),p.return=h,h.child=p}function i3(h,p,S,M){var T=h.child;return h=T.sibling,S=hl(T,{mode:"visible",children:S}),!(p.mode&1)&&(S.lanes=M),S.return=p,S.sibling=null,h!==null&&(M=p.deletions,M===null?(p.deletions=[h],p.flags|=16):M.push(h)),p.child=S}function s3(h,p,S,M,T){var I=p.mode;h=h.child;var K=h.sibling,se={mode:"hidden",children:S};return!(I&1)&&p.child!==h?(S=p.child,S.childLanes=0,S.pendingProps=se,p.deletions=null):(S=hl(h,se),S.subtreeFlags=h.subtreeFlags&14680064),K!==null?M=hl(K,M):(M=zc(M,I,T,null),M.flags|=2),M.return=p,S.return=p,S.sibling=M,p.child=S,M}function D0(h,p,S,M){return M!==null&&Sx(M),Sf(p,h.child,null,S),h=Fx(p,p.pendingProps.children),h.flags|=2,p.memoizedState=null,h}function o3(h,p,S){h.lanes|=p;var M=h.alternate;M!==null&&(M.lanes|=p),ii(h.return,p,S)}function Nx(h,p,S,M,T){var I=h.memoizedState;I===null?h.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:M,tail:S,tailMode:T}:(I.isBackwards=p,I.rendering=null,I.renderingStartTime=0,I.last=M,I.tail=S,I.tailMode=T)}function a3(h,p,S){var M=p.pendingProps,T=M.revealOrder,I=M.tail;if(si(h,p,M.children,S),M=Sn.current,M&2)M=M&1|2,p.flags|=128;else{if(h!==null&&h.flags&128)e:for(h=p.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&o3(h,S,p);else if(h.tag===19)o3(h,S,p);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===p)break e;for(;h.sibling===null;){if(h.return===null||h.return===p)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}M&=1}if(It(Sn,M),!(p.mode&1))p.memoizedState=null;else switch(T){case"forwards":for(S=p.child,T=null;S!==null;)h=S.alternate,h!==null&&_0(h)===null&&(T=S),S=S.sibling;S=T,S===null?(T=p.child,p.child=null):(T=S.sibling,S.sibling=null),Nx(p,!1,T,S,I);break;case"backwards":for(S=null,T=p.child,p.child=null;T!==null;){if(h=T.alternate,h!==null&&_0(h)===null){p.child=T;break}h=T.sibling,T.sibling=S,S=T,T=h}Nx(p,!0,S,null,I);break;case"together":Nx(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function ua(h,p,S){if(h!==null&&(p.dependencies=h.dependencies),Ef|=p.lanes,!(S&p.childLanes))return null;if(h!==null&&p.child!==h.child)throw Error(o(153));if(p.child!==null){for(h=p.child,S=hl(h,h.pendingProps),p.child=S,S.return=p;h.sibling!==null;)h=h.sibling,S=S.sibling=hl(h,h.pendingProps),S.return=p;S.sibling=null}return p.child}function E8(h,p,S){switch(p.tag){case 3:t3(p),wf();break;case 5:AT(p);break;case 1:pr(p.type)&&il(p);break;case 4:Ax(p,p.stateNode.containerInfo);break;case 10:d0(p,p.type._context,p.memoizedProps.value);break;case 13:var M=p.memoizedState;if(M!==null)return M.dehydrated!==null?(It(Sn,Sn.current&1),p.flags|=128,null):S&p.child.childLanes?r3(h,p,S):(It(Sn,Sn.current&1),h=ua(h,p,S),h!==null?h.sibling:null);It(Sn,Sn.current&1);break;case 19:if(M=(S&p.childLanes)!==0,h.flags&128){if(M)return a3(h,p,S);p.flags|=128}var T=p.memoizedState;if(T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),It(Sn,Sn.current),M)break;return null;case 22:case 23:return p.lanes=0,qT(h,p,S)}return ua(h,p,S)}function T8(h,p){switch(_x(p),p.tag){case 1:return pr(p.type)&&eo(),h=p.flags,h&65536?(p.flags=h&-65537|128,p):null;case 3:return bf(),pt(Bn),pt(Ht),Cx(),h=p.flags,h&65536&&!(h&128)?(p.flags=h&-65537|128,p):null;case 5:return bx(p),null;case 13:if(pt(Sn),h=p.memoizedState,h!==null&&h.dehydrated!==null){if(p.alternate===null)throw Error(o(340));wf()}return h=p.flags,h&65536?(p.flags=h&-65537|128,p):null;case 19:return pt(Sn),null;case 4:return bf(),null;case 10:return gr(p.type._context),null;case 22:case 23:return nw(),null;case 24:return null;default:return null}}var B0=!1,kc=!1,P8=typeof WeakSet=="function"?WeakSet:Set,Ke=null;function I0(h,p){var S=h.ref;if(S!==null)if(typeof S=="function")try{S(null)}catch(M){Si(h,p,M)}else S.current=null}function Ux(h,p,S){try{S()}catch(M){Si(h,p,M)}}var l3=!1;function R8(h,p){for(U(h.containerInfo),Ke=p;Ke!==null;)if(h=Ke,p=h.child,(h.subtreeFlags&1028)!==0&&p!==null)p.return=h,Ke=p;else for(;Ke!==null;){h=Ke;try{var S=h.alternate;if(h.flags&1024)switch(h.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var M=S.memoizedProps,T=S.memoizedState,I=h.stateNode,K=I.getSnapshotBeforeUpdate(h.elementType===h.type?M:ri(h.type,M),T);I.__reactInternalSnapshotBeforeUpdate=K}break;case 3:Se&&Xe(h.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(se){Si(h,h.return,se)}if(p=h.sibling,p!==null){p.return=h.return,Ke=p;break}Ke=h.return}return S=l3,l3=!1,S}function Oc(h,p,S){var M=p.updateQueue;if(M=M!==null?M.lastEffect:null,M!==null){var T=M=M.next;do{if((T.tag&h)===h){var I=T.destroy;T.destroy=void 0,I!==void 0&&Ux(p,S,I)}T=T.next}while(T!==M)}}function tp(h,p){if(p=p.updateQueue,p=p!==null?p.lastEffect:null,p!==null){var S=p=p.next;do{if((S.tag&h)===h){var M=S.create;S.destroy=M()}S=S.next}while(S!==p)}}function zx(h){var p=h.ref;if(p!==null){var S=h.stateNode;switch(h.tag){case 5:h=W(S);break;default:h=S}typeof p=="function"?p(h):p.current=h}}function c3(h,p,S){if(Hi&&typeof Hi.onCommitFiberUnmount=="function")try{Hi.onCommitFiberUnmount(Tc,p)}catch{}switch(p.tag){case 0:case 11:case 14:case 15:if(h=p.updateQueue,h!==null&&(h=h.lastEffect,h!==null)){var M=h=h.next;do{var T=M,I=T.destroy;T=T.tag,I!==void 0&&(T&2||T&4)&&Ux(p,S,I),M=M.next}while(M!==h)}break;case 1:if(I0(p,S),h=p.stateNode,typeof h.componentWillUnmount=="function")try{h.props=p.memoizedProps,h.state=p.memoizedState,h.componentWillUnmount()}catch(K){Si(p,S,K)}break;case 5:I0(p,S);break;case 4:Se?m3(h,p,S):ne&&ne&&(p=p.stateNode.containerInfo,S=_t(p),zt(p,S))}}function u3(h,p,S){for(var M=p;;)if(c3(h,M,S),M.child===null||Se&&M.tag===4){if(M===p)break;for(;M.sibling===null;){if(M.return===null||M.return===p)return;M=M.return}M.sibling.return=M.return,M=M.sibling}else M.child.return=M,M=M.child}function f3(h){var p=h.alternate;p!==null&&(h.alternate=null,f3(p)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(p=h.stateNode,p!==null&&je(p)),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}function d3(h){return h.tag===5||h.tag===3||h.tag===4}function h3(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||d3(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function p3(h){if(Se){e:{for(var p=h.return;p!==null;){if(d3(p))break e;p=p.return}throw Error(o(160))}var S=p;switch(S.tag){case 5:p=S.stateNode,S.flags&32&&(st(p),S.flags&=-33),S=h3(h),Hx(h,S,p);break;case 3:case 4:p=S.stateNode.containerInfo,S=h3(h),Gx(h,S,p);break;default:throw Error(o(161))}}}function Gx(h,p,S){var M=h.tag;if(M===5||M===6)h=h.stateNode,p?Ne(S,h,p):Be(S,h);else if(M!==4&&(h=h.child,h!==null))for(Gx(h,p,S),h=h.sibling;h!==null;)Gx(h,p,S),h=h.sibling}function Hx(h,p,S){var M=h.tag;if(M===5||M===6)h=h.stateNode,p?ze(S,h,p):Oe(S,h);else if(M!==4&&(h=h.child,h!==null))for(Hx(h,p,S),h=h.sibling;h!==null;)Hx(h,p,S),h=h.sibling}function m3(h,p,S){for(var M=p,T=!1,I,K;;){if(!T){T=M.return;e:for(;;){if(T===null)throw Error(o(160));switch(I=T.stateNode,T.tag){case 5:K=!1;break e;case 3:I=I.containerInfo,K=!0;break e;case 4:I=I.containerInfo,K=!0;break e}T=T.return}T=!0}if(M.tag===5||M.tag===6)u3(h,M,S),K?$e(I,M.stateNode):Ie(I,M.stateNode);else if(M.tag===18)K?en(I,M.stateNode):Bt(I,M.stateNode);else if(M.tag===4){if(M.child!==null){I=M.stateNode.containerInfo,K=!0,M.child.return=M,M=M.child;continue}}else if(c3(h,M,S),M.child!==null){M.child.return=M,M=M.child;continue}if(M===p)break;for(;M.sibling===null;){if(M.return===null||M.return===p)return;M=M.return,M.tag===4&&(T=!1)}M.sibling.return=M.return,M=M.sibling}}function Vx(h,p){if(Se){switch(p.tag){case 0:case 11:case 14:case 15:Oc(3,p,p.return),tp(3,p),Oc(5,p,p.return);return;case 1:return;case 5:var S=p.stateNode;if(S!=null){var M=p.memoizedProps;h=h!==null?h.memoizedProps:M;var T=p.type,I=p.updateQueue;p.updateQueue=null,I!==null&&Fe(S,I,T,h,M,p)}return;case 6:if(p.stateNode===null)throw Error(o(162));S=p.memoizedProps,ge(p.stateNode,h!==null?h.memoizedProps:S,S);return;case 3:le&&h!==null&&h.memoizedState.isDehydrated&&Tt(p.stateNode.containerInfo);return;case 12:return;case 13:L0(p);return;case 19:L0(p);return;case 17:return}throw Error(o(163))}switch(p.tag){case 0:case 11:case 14:case 15:Oc(3,p,p.return),tp(3,p),Oc(5,p,p.return);return;case 12:return;case 13:L0(p);return;case 19:L0(p);return;case 3:le&&h!==null&&h.memoizedState.isDehydrated&&Tt(p.stateNode.containerInfo);break;case 22:case 23:return}e:if(ne){switch(p.tag){case 1:case 5:case 6:break e;case 3:case 4:p=p.stateNode,zt(p.containerInfo,p.pendingChildren);break e}throw Error(o(163))}}function L0(h){var p=h.updateQueue;if(p!==null){h.updateQueue=null;var S=h.stateNode;S===null&&(S=h.stateNode=new P8),p.forEach(function(M){var T=z8.bind(null,h,M);S.has(M)||(S.add(M),M.then(T,T))})}}function D8(h,p){for(Ke=p;Ke!==null;){p=Ke;var S=p.deletions;if(S!==null)for(var M=0;M<S.length;M++){var T=S[M];try{var I=h;Se?m3(I,T,p):u3(I,T,p);var K=T.alternate;K!==null&&(K.return=null),T.return=null}catch(ot){Si(T,p,ot)}}if(S=p.child,p.subtreeFlags&12854&&S!==null)S.return=p,Ke=S;else for(;Ke!==null;){p=Ke;try{var se=p.flags;if(se&32&&Se&&st(p.stateNode),se&512){var Me=p.alternate;if(Me!==null){var Ve=Me.ref;Ve!==null&&(typeof Ve=="function"?Ve(null):Ve.current=null)}}if(se&8192)switch(p.tag){case 13:if(p.memoizedState!==null){var rt=p.alternate;(rt===null||rt.memoizedState===null)&&(Yx=wn())}break;case 22:var vt=p.memoizedState!==null,ct=p.alternate,tn=ct!==null&&ct.memoizedState!==null;if(S=p,Se){e:if(M=S,T=vt,I=null,Se)for(var at=M;;){if(at.tag===5){if(I===null){I=at;var zr=at.stateNode;T?gt(zr):me(at.stateNode,at.memoizedProps)}}else if(at.tag===6){if(I===null){var Ms=at.stateNode;T?te(Ms):ke(Ms,at.memoizedProps)}}else if((at.tag!==22&&at.tag!==23||at.memoizedState===null||at===M)&&at.child!==null){at.child.return=at,at=at.child;continue}if(at===M)break;for(;at.sibling===null;){if(at.return===null||at.return===M)break e;I===at&&(I=null),at=at.return}I===at&&(I=null),at.sibling.return=at.return,at=at.sibling}}if(vt&&!tn&&S.mode&1){Ke=S;for(var pe=S.child;pe!==null;){for(S=Ke=pe;Ke!==null;){M=Ke;var oe=M.child;switch(M.tag){case 0:case 11:case 14:case 15:Oc(4,M,M.return);break;case 1:I0(M,M.return);var xe=M.stateNode;if(typeof xe.componentWillUnmount=="function"){var Ye=M.return;try{xe.props=M.memoizedProps,xe.state=M.memoizedState,xe.componentWillUnmount()}catch(ot){Si(M,Ye,ot)}}break;case 5:I0(M,M.return);break;case 22:if(M.memoizedState!==null){y3(S);continue}}oe!==null?(oe.return=M,Ke=oe):y3(S)}pe=pe.sibling}}}switch(se&4102){case 2:p3(p),p.flags&=-3;break;case 6:p3(p),p.flags&=-3,Vx(p.alternate,p);break;case 4096:p.flags&=-4097;break;case 4100:p.flags&=-4097,Vx(p.alternate,p);break;case 4:Vx(p.alternate,p)}}catch(ot){Si(p,p.return,ot)}if(S=p.sibling,S!==null){S.return=p.return,Ke=S;break}Ke=p.return}}}function B8(h,p,S){Ke=h,g3(h)}function g3(h,p,S){for(var M=(h.mode&1)!==0;Ke!==null;){var T=Ke,I=T.child;if(T.tag===22&&M){var K=T.memoizedState!==null||B0;if(!K){var se=T.alternate,Me=se!==null&&se.memoizedState!==null||kc;se=B0;var Ve=kc;if(B0=K,(kc=Me)&&!Ve)for(Ke=T;Ke!==null;)K=Ke,Me=K.child,K.tag===22&&K.memoizedState!==null?_3(T):Me!==null?(Me.return=K,Ke=Me):_3(T);for(;I!==null;)Ke=I,g3(I),I=I.sibling;Ke=T,B0=se,kc=Ve}v3(h)}else T.subtreeFlags&8772&&I!==null?(I.return=T,Ke=I):v3(h)}}function v3(h){for(;Ke!==null;){var p=Ke;if(p.flags&8772){var S=p.alternate;try{if(p.flags&8772)switch(p.tag){case 0:case 11:case 15:kc||tp(5,p);break;case 1:var M=p.stateNode;if(p.flags&4&&!kc)if(S===null)M.componentDidMount();else{var T=p.elementType===p.type?S.memoizedProps:ri(p.type,S.memoizedProps);M.componentDidUpdate(T,S.memoizedState,M.__reactInternalSnapshotBeforeUpdate)}var I=p.updateQueue;I!==null&&fT(p,I,M);break;case 3:var K=p.updateQueue;if(K!==null){if(S=null,p.child!==null)switch(p.child.tag){case 5:S=W(p.child.stateNode);break;case 1:S=p.child.stateNode}fT(p,K,S)}break;case 5:var se=p.stateNode;S===null&&p.flags&4&&We(se,p.type,p.memoizedProps,p);break;case 6:break;case 4:break;case 12:break;case 13:if(le&&p.memoizedState===null){var Me=p.alternate;if(Me!==null){var Ve=Me.memoizedState;if(Ve!==null){var rt=Ve.dehydrated;rt!==null&&wt(rt)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}kc||p.flags&512&&zx(p)}catch(vt){Si(p,p.return,vt)}}if(p===h){Ke=null;break}if(S=p.sibling,S!==null){S.return=p.return,Ke=S;break}Ke=p.return}}function y3(h){for(;Ke!==null;){var p=Ke;if(p===h){Ke=null;break}var S=p.sibling;if(S!==null){S.return=p.return,Ke=S;break}Ke=p.return}}function _3(h){for(;Ke!==null;){var p=Ke;try{switch(p.tag){case 0:case 11:case 15:var S=p.return;try{tp(4,p)}catch(Me){Si(p,S,Me)}break;case 1:var M=p.stateNode;if(typeof M.componentDidMount=="function"){var T=p.return;try{M.componentDidMount()}catch(Me){Si(p,T,Me)}}var I=p.return;try{zx(p)}catch(Me){Si(p,I,Me)}break;case 5:var K=p.return;try{zx(p)}catch(Me){Si(p,K,Me)}}}catch(Me){Si(p,p.return,Me)}if(p===h){Ke=null;break}var se=p.sibling;if(se!==null){se.return=p.return,Ke=se;break}Ke=p.return}}var k0=0,O0=1,F0=2,N0=3,U0=4;if(typeof Symbol=="function"&&Symbol.for){var np=Symbol.for;k0=np("selector.component"),O0=np("selector.has_pseudo_class"),F0=np("selector.role"),N0=np("selector.test_id"),U0=np("selector.text")}function Wx(h){var p=Ee(h);if(p!=null){if(typeof p.memoizedProps["data-testname"]!="string")throw Error(o(364));return p}if(h=_e(h),h===null)throw Error(o(362));return h.stateNode.current}function jx(h,p){switch(p.$$typeof){case k0:if(h.type===p.value)return!0;break;case O0:e:{p=p.value,h=[h,0];for(var S=0;S<h.length;){var M=h[S++],T=h[S++],I=p[T];if(M.tag!==5||!q(M)){for(;I!=null&&jx(M,I);)T++,I=p[T];if(T===p.length){p=!0;break e}else for(M=M.child;M!==null;)h.push(M,T),M=M.sibling}}p=!1}return p;case F0:if(h.tag===5&&de(h.stateNode,p.value))return!0;break;case U0:if((h.tag===5||h.tag===6)&&(h=F(h),h!==null&&0<=h.indexOf(p.value)))return!0;break;case N0:if(h.tag===5&&(h=h.memoizedProps["data-testname"],typeof h=="string"&&h.toLowerCase()===p.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function $x(h){switch(h.$$typeof){case k0:return"<"+(P(h.value)||"Unknown")+">";case O0:return":has("+($x(h)||"")+")";case F0:return'[role="'+h.value+'"]';case U0:return'"'+h.value+'"';case N0:return'[data-testname="'+h.value+'"]';default:throw Error(o(365))}}function x3(h,p){var S=[];h=[h,0];for(var M=0;M<h.length;){var T=h[M++],I=h[M++],K=p[I];if(T.tag!==5||!q(T)){for(;K!=null&&jx(T,K);)I++,K=p[I];if(I===p.length)S.push(T);else for(T=T.child;T!==null;)h.push(T,I),T=T.sibling}}return S}function Xx(h,p){if(!Ue)throw Error(o(363));h=Wx(h),h=x3(h,p),p=[],h=Array.from(h);for(var S=0;S<h.length;){var M=h[S++];if(M.tag===5)q(M)||p.push(M.stateNode);else for(M=M.child;M!==null;)h.push(M),M=M.sibling}return p}var I8=Math.ceil,z0=a.ReactCurrentDispatcher,Jx=a.ReactCurrentOwner,Wn=a.ReactCurrentBatchConfig,Mt=0,qn=null,Zn=null,Tr=0,Ji=0,Cf=Cr(0),or=0,rp=null,Ef=0,G0=0,Kx=0,ip=null,xi=null,Yx=0,Qx=1/0;function Tf(){Qx=wn()+500}var H0=!1,qx=null,cl=null,V0=!1,ul=null,W0=0,sp=0,Zx=null,j0=-1,$0=0;function oi(){return Mt&6?wn():j0!==-1?j0:j0=wn()}function fl(h){return h.mode&1?Mt&2&&Tr!==0?Tr&-Tr:Pc.transition!==null?($0===0&&(h=ta,ta<<=1,!(ta&4194240)&&(ta=64),$0=h),$0):(h=Pt,h!==0?h:Ae()):1}function As(h,p,S){if(50<sp)throw sp=0,Zx=null,Error(o(185));var M=X0(h,p);return M===null?null:(Po(M,p,S),(!(Mt&2)||M!==qn)&&(M===qn&&(!(Mt&2)&&(G0|=p),or===4&&dl(M,Tr)),wi(M,S),p===1&&Mt===0&&!(h.mode&1)&&(Tf(),Do&&_i())),M)}function X0(h,p){h.lanes|=p;var S=h.alternate;for(S!==null&&(S.lanes|=p),S=h,h=h.return;h!==null;)h.childLanes|=p,S=h.alternate,S!==null&&(S.childLanes|=p),S=h,h=h.return;return S.tag===3?S.stateNode:null}function wi(h,p){var S=h.callbackNode;Oh(h,p);var M=Cc(h,h===qn?Tr:0);if(M===0)S!==null&&gf(S),h.callbackNode=null,h.callbackPriority=0;else if(p=M&-M,h.callbackPriority!==p){if(S!=null&&gf(S),p===1)h.tag===0?Hh(S3.bind(null,h)):Gh(S3.bind(null,h)),we?Le(function(){Mt===0&&_i()}):sa(Ec,_i),S=null;else{switch(Fh(M)){case 1:S=Ec;break;case 4:S=u0;break;case 16:S=ti;break;case 536870912:S=Uh;break;default:S=ti}S=D3(S,w3.bind(null,h))}h.callbackPriority=p,h.callbackNode=S}}function w3(h,p){if(j0=-1,$0=0,Mt&6)throw Error(o(327));var S=h.callbackNode;if(Uc()&&h.callbackNode!==S)return null;var M=Cc(h,h===qn?Tr:0);if(M===0)return null;if(M&30||M&h.expiredLanes||p)p=J0(h,M);else{p=M;var T=Mt;Mt|=2;var I=M3();(qn!==h||Tr!==p)&&(Tf(),Fc(h,p));do try{O8();break}catch(se){b3(h,se)}while(1);yf(),z0.current=I,Mt=T,Zn!==null?p=0:(qn=null,Tr=0,p=or)}if(p!==0){if(p===2&&(T=ia(h),T!==0&&(M=T,p=ew(h,T))),p===1)throw S=rp,Fc(h,0),dl(h,M),wi(h,wn()),S;if(p===6)dl(h,M);else{if(T=h.current.alternate,!(M&30)&&!L8(T)&&(p=J0(h,M),p===2&&(I=ia(h),I!==0&&(M=I,p=ew(h,I))),p===1))throw S=rp,Fc(h,0),dl(h,M),wi(h,wn()),S;switch(h.finishedWork=T,h.finishedLanes=M,p){case 0:case 1:throw Error(o(345));case 2:Nc(h,xi);break;case 3:if(dl(h,M),(M&130023424)===M&&(p=Yx+500-wn(),10<p)){if(Cc(h,0)!==0)break;if(T=h.suspendedLanes,(T&M)!==M){oi(),h.pingedLanes|=h.suspendedLanes&T;break}h.timeoutHandle=ue(Nc.bind(null,h,xi),p);break}Nc(h,xi);break;case 4:if(dl(h,M),(M&4194240)===M)break;for(p=h.eventTimes,T=-1;0<M;){var K=31-Gi(M);I=1<<K,K=p[K],K>T&&(T=K),M&=~I}if(M=T,M=wn()-M,M=(120>M?120:480>M?480:1080>M?1080:1920>M?1920:3e3>M?3e3:4320>M?4320:1960*I8(M/1960))-M,10<M){h.timeoutHandle=ue(Nc.bind(null,h,xi),M);break}Nc(h,xi);break;case 5:Nc(h,xi);break;default:throw Error(o(329))}}}return wi(h,wn()),h.callbackNode===S?w3.bind(null,h):null}function ew(h,p){var S=ip;return h.current.memoizedState.isDehydrated&&(Fc(h,p).flags|=256),h=J0(h,p),h!==2&&(p=xi,xi=S,p!==null&&tw(p)),h}function tw(h){xi===null?xi=h:xi.push.apply(xi,h)}function L8(h){for(var p=h;;){if(p.flags&16384){var S=p.updateQueue;if(S!==null&&(S=S.stores,S!==null))for(var M=0;M<S.length;M++){var T=S[M],I=T.getSnapshot;T=T.value;try{if(!Vi(I(),T))return!1}catch{return!1}}}if(S=p.child,p.subtreeFlags&16384&&S!==null)S.return=p,p=S;else{if(p===h)break;for(;p.sibling===null;){if(p.return===null||p.return===h)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function dl(h,p){for(p&=~Kx,p&=~G0,h.suspendedLanes|=p,h.pingedLanes&=~p,h=h.expirationTimes;0<p;){var S=31-Gi(p),M=1<<S;h[S]=-1,p&=~M}}function S3(h){if(Mt&6)throw Error(o(327));Uc();var p=Cc(h,0);if(!(p&1))return wi(h,wn()),null;var S=J0(h,p);if(h.tag!==0&&S===2){var M=ia(h);M!==0&&(p=M,S=ew(h,M))}if(S===1)throw S=rp,Fc(h,0),dl(h,p),wi(h,wn()),S;if(S===6)throw Error(o(345));return h.finishedWork=h.current.alternate,h.finishedLanes=p,Nc(h,xi),wi(h,wn()),null}function A3(h){ul!==null&&ul.tag===0&&!(Mt&6)&&Uc();var p=Mt;Mt|=1;var S=Wn.transition,M=Pt;try{if(Wn.transition=null,Pt=1,h)return h()}finally{Pt=M,Wn.transition=S,Mt=p,!(Mt&6)&&_i()}}function nw(){Ji=Cf.current,pt(Cf)}function Fc(h,p){h.finishedWork=null,h.finishedLanes=0;var S=h.timeoutHandle;if(S!==be&&(h.timeoutHandle=be,he(S)),Zn!==null)for(S=Zn.return;S!==null;){var M=S;switch(_x(M),M.tag){case 1:M=M.type.childContextTypes,M!=null&&eo();break;case 3:bf(),pt(Bn),pt(Ht),Cx();break;case 5:bx(M);break;case 4:bf();break;case 13:pt(Sn);break;case 19:pt(Sn);break;case 10:gr(M.type._context);break;case 22:case 23:nw()}S=S.return}if(qn=h,Zn=h=hl(h.current,null),Tr=Ji=p,or=0,rp=null,Kx=G0=Ef=0,xi=ip=null,Wi!==null){for(p=0;p<Wi.length;p++)if(S=Wi[p],M=S.interleaved,M!==null){S.interleaved=null;var T=M.next,I=S.pending;if(I!==null){var K=I.next;I.next=T,M.next=K}S.pending=M}Wi=null}return h}function b3(h,p){do{var S=Zn;try{if(yf(),x0.current=C0,w0){for(var M=In.memoizedState;M!==null;){var T=M.queue;T!==null&&(T.pending=null),M=M.next}w0=!1}if(Mf=0,vr=Fr=In=null,Jh=!1,Kh=0,Jx.current=null,S===null||S.return===null){or=1,rp=p,Zn=null;break}e:{var I=h,K=S.return,se=S,Me=p;if(p=Tr,se.flags|=32768,Me!==null&&typeof Me=="object"&&typeof Me.then=="function"){var Ve=Me,rt=se,vt=rt.tag;if(!(rt.mode&1)&&(vt===0||vt===11||vt===15)){var ct=rt.alternate;ct?(rt.updateQueue=ct.updateQueue,rt.memoizedState=ct.memoizedState,rt.lanes=ct.lanes):(rt.updateQueue=null,rt.memoizedState=null)}var tn=jT(K);if(tn!==null){tn.flags&=-257,$T(tn,K,se,I,p),tn.mode&1&&WT(I,Ve,p),p=tn,Me=Ve;var at=p.updateQueue;if(at===null){var zr=new Set;zr.add(Me),p.updateQueue=zr}else at.add(Me);break e}else{if(!(p&1)){WT(I,Ve,p),rw();break e}Me=Error(o(426))}}else if(gn&&se.mode&1){var Ms=jT(K);if(Ms!==null){!(Ms.flags&65536)&&(Ms.flags|=256),$T(Ms,K,se,I,p),Sx(Me);break e}}I=Me,or!==4&&(or=2),ip===null?ip=[I]:ip.push(I),Me=Ix(Me,se),se=K;do{switch(se.tag){case 3:se.flags|=65536,p&=-p,se.lanes|=p;var pe=HT(se,Me,p);uT(se,pe);break e;case 1:I=Me;var oe=se.type,xe=se.stateNode;if(!(se.flags&128)&&(typeof oe.getDerivedStateFromError=="function"||xe!==null&&typeof xe.componentDidCatch=="function"&&(cl===null||!cl.has(xe)))){se.flags|=65536,p&=-p,se.lanes|=p;var Ye=VT(se,I,p);uT(se,Ye);break e}}se=se.return}while(se!==null)}E3(S)}catch(ot){p=ot,Zn===S&&S!==null&&(Zn=S=S.return);continue}break}while(1)}function M3(){var h=z0.current;return z0.current=C0,h===null?C0:h}function rw(){(or===0||or===3||or===2)&&(or=4),qn===null||!(Ef&268435455)&&!(G0&268435455)||dl(qn,Tr)}function J0(h,p){var S=Mt;Mt|=2;var M=M3();qn===h&&Tr===p||Fc(h,p);do try{k8();break}catch(T){b3(h,T)}while(1);if(yf(),Mt=S,z0.current=M,Zn!==null)throw Error(o(261));return qn=null,Tr=0,or}function k8(){for(;Zn!==null;)C3(Zn)}function O8(){for(;Zn!==null&&!Nh();)C3(Zn)}function C3(h){var p=R3(h.alternate,h,Ji);h.memoizedProps=h.pendingProps,p===null?E3(h):Zn=p,Jx.current=null}function E3(h){var p=h;do{var S=p.alternate;if(h=p.return,p.flags&32768){if(S=T8(S,p),S!==null){S.flags&=32767,Zn=S;return}if(h!==null)h.flags|=32768,h.subtreeFlags=0,h.deletions=null;else{or=6,Zn=null;return}}else if(S=M8(S,p,Ji),S!==null){Zn=S;return}if(p=p.sibling,p!==null){Zn=p;return}Zn=p=h}while(p!==null);or===0&&(or=5)}function Nc(h,p){var S=Pt,M=Wn.transition;try{Wn.transition=null,Pt=1,F8(h,p,S)}finally{Wn.transition=M,Pt=S}return null}function F8(h,p,S){do Uc();while(ul!==null);if(Mt&6)throw Error(o(327));var M=h.finishedWork,T=h.finishedLanes;if(M===null)return null;if(h.finishedWork=null,h.finishedLanes=0,M===h.current)throw Error(o(177));h.callbackNode=null,h.callbackPriority=0;var I=M.lanes|M.childLanes;if(sl(h,I),h===qn&&(Zn=qn=null,Tr=0),!(M.subtreeFlags&2064)&&!(M.flags&2064)||V0||(V0=!0,D3(ti,function(){return Uc(),null})),I=(M.flags&15990)!==0,M.subtreeFlags&15990||I){I=Wn.transition,Wn.transition=null;var K=Pt;Pt=1;var se=Mt;Mt|=4,Jx.current=null,R8(h,M),D8(h,M),H(h.containerInfo),h.current=M,B8(M),c0(),Mt=se,Pt=K,Wn.transition=I}else h.current=M;if(V0&&(V0=!1,ul=h,W0=T),I=h.pendingLanes,I===0&&(cl=null),zh(M.stateNode),wi(h,wn()),p!==null)for(S=h.onRecoverableError,M=0;M<p.length;M++)S(p[M]);if(H0)throw H0=!1,h=qx,qx=null,h;return W0&1&&h.tag!==0&&Uc(),I=h.pendingLanes,I&1?h===Zx?sp++:(sp=0,Zx=h):sp=0,_i(),null}function Uc(){if(ul!==null){var h=Fh(W0),p=Wn.transition,S=Pt;try{if(Wn.transition=null,Pt=16>h?16:h,ul===null)var M=!1;else{if(h=ul,ul=null,W0=0,Mt&6)throw Error(o(331));var T=Mt;for(Mt|=4,Ke=h.current;Ke!==null;){var I=Ke,K=I.child;if(Ke.flags&16){var se=I.deletions;if(se!==null){for(var Me=0;Me<se.length;Me++){var Ve=se[Me];for(Ke=Ve;Ke!==null;){var rt=Ke;switch(rt.tag){case 0:case 11:case 15:Oc(8,rt,I)}var vt=rt.child;if(vt!==null)vt.return=rt,Ke=vt;else for(;Ke!==null;){rt=Ke;var ct=rt.sibling,tn=rt.return;if(f3(rt),rt===Ve){Ke=null;break}if(ct!==null){ct.return=tn,Ke=ct;break}Ke=tn}}}var at=I.alternate;if(at!==null){var zr=at.child;if(zr!==null){at.child=null;do{var Ms=zr.sibling;zr.sibling=null,zr=Ms}while(zr!==null)}}Ke=I}}if(I.subtreeFlags&2064&&K!==null)K.return=I,Ke=K;else e:for(;Ke!==null;){if(I=Ke,I.flags&2048)switch(I.tag){case 0:case 11:case 15:Oc(9,I,I.return)}var pe=I.sibling;if(pe!==null){pe.return=I.return,Ke=pe;break e}Ke=I.return}}var oe=h.current;for(Ke=oe;Ke!==null;){K=Ke;var xe=K.child;if(K.subtreeFlags&2064&&xe!==null)xe.return=K,Ke=xe;else e:for(K=oe;Ke!==null;){if(se=Ke,se.flags&2048)try{switch(se.tag){case 0:case 11:case 15:tp(9,se)}}catch(ot){Si(se,se.return,ot)}if(se===K){Ke=null;break e}var Ye=se.sibling;if(Ye!==null){Ye.return=se.return,Ke=Ye;break e}Ke=se.return}}if(Mt=T,_i(),Hi&&typeof Hi.onPostCommitFiberRoot=="function")try{Hi.onPostCommitFiberRoot(Tc,h)}catch{}M=!0}return M}finally{Pt=S,Wn.transition=p}}return!1}function T3(h,p,S){p=Ix(S,p),p=HT(h,p,1),ll(h,p),p=oi(),h=X0(h,1),h!==null&&(Po(h,1,p),wi(h,p))}function Si(h,p,S){if(h.tag===3)T3(h,h,S);else for(;p!==null;){if(p.tag===3){T3(p,h,S);break}else if(p.tag===1){var M=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof M.componentDidCatch=="function"&&(cl===null||!cl.has(M))){h=Ix(S,h),h=VT(p,h,1),ll(p,h),h=oi(),p=X0(p,1),p!==null&&(Po(p,1,h),wi(p,h));break}}p=p.return}}function N8(h,p,S){var M=h.pingCache;M!==null&&M.delete(p),p=oi(),h.pingedLanes|=h.suspendedLanes&S,qn===h&&(Tr&S)===S&&(or===4||or===3&&(Tr&130023424)===Tr&&500>wn()-Yx?Fc(h,0):Kx|=S),wi(h,p)}function P3(h,p){p===0&&(h.mode&1?(p=na,na<<=1,!(na&130023424)&&(na=4194304)):p=1);var S=oi();h=X0(h,p),h!==null&&(Po(h,p,S),wi(h,S))}function U8(h){var p=h.memoizedState,S=0;p!==null&&(S=p.retryLane),P3(h,S)}function z8(h,p){var S=0;switch(h.tag){case 13:var M=h.stateNode,T=h.memoizedState;T!==null&&(S=T.retryLane);break;case 19:M=h.stateNode;break;default:throw Error(o(314))}M!==null&&M.delete(p),P3(h,S)}var R3;R3=function(h,p,S){if(h!==null)if(h.memoizedProps!==p.pendingProps||Bn.current)Xi=!0;else{if(!(h.lanes&S)&&!(p.flags&128))return Xi=!1,E8(h,p,S);Xi=!!(h.flags&131072)}else Xi=!1,gn&&p.flags&1048576&&gT(p,v0,p.index);switch(p.lanes=0,p.tag){case 2:var M=p.type;h!==null&&(h.alternate=null,p.alternate=null,p.flags|=2),h=p.pendingProps;var T=ei(p,Ht.current);Hn(p,S),T=Tx(null,p,M,h,T,S);var I=Px();return p.flags|=1,typeof T=="object"&&T!==null&&typeof T.render=="function"&&T.$$typeof===void 0?(p.tag=1,p.memoizedState=null,p.updateQueue=null,pr(M)?(I=!0,il(p)):I=!1,p.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,mx(p),T.updater=m0,p.stateNode=T,T._reactInternals=p,vx(p,M,h,S),p=Ox(null,p,M,!0,I,S)):(p.tag=0,gn&&I&&yx(p),si(null,p,T,S),p=p.child),p;case 16:M=p.elementType;e:{switch(h!==null&&(h.alternate=null,p.alternate=null,p.flags|=2),h=p.pendingProps,T=M._init,M=T(M._payload),p.type=M,T=p.tag=H8(M),h=ri(M,h),T){case 0:p=kx(null,p,M,h,S);break e;case 1:p=e3(null,p,M,h,S);break e;case 11:p=KT(null,p,M,h,S);break e;case 14:p=YT(null,p,M,ri(M.type,h),S);break e}throw Error(o(306,M,""))}return p;case 0:return M=p.type,T=p.pendingProps,T=p.elementType===M?T:ri(M,T),kx(h,p,M,T,S);case 1:return M=p.type,T=p.pendingProps,T=p.elementType===M?T:ri(M,T),e3(h,p,M,T,S);case 3:e:{if(t3(p),h===null)throw Error(o(387));M=p.pendingProps,I=p.memoizedState,T=I.element,cT(h,p),p0(p,M,null,S);var K=p.memoizedState;if(M=K.element,le&&I.isDehydrated)if(I={element:M,isDehydrated:!1,cache:K.cache,transitions:K.transitions},p.updateQueue.baseState=I,p.memoizedState=I,p.flags&256){T=Error(o(423)),p=n3(h,p,M,S,T);break e}else if(M!==T){T=Error(o(424)),p=n3(h,p,M,S,T);break e}else for(le&&($i=ce(p.stateNode.containerInfo),ji=p,gn=!0,no=null,Vh=!1),S=ST(p,null,M,S),p.child=S;S;)S.flags=S.flags&-3|4096,S=S.sibling;else{if(wf(),M===T){p=ua(h,p,S);break e}si(h,p,M,S)}p=p.child}return p;case 5:return AT(p),h===null&&wx(p),M=p.type,T=p.pendingProps,I=h!==null?h.memoizedProps:null,K=T.children,ie(M,T)?K=null:I!==null&&ie(M,I)&&(p.flags|=32),ZT(h,p),si(h,p,K,S),p.child;case 6:return h===null&&wx(p),null;case 13:return r3(h,p,S);case 4:return Ax(p,p.stateNode.containerInfo),M=p.pendingProps,h===null?p.child=Sf(p,null,M,S):si(h,p,M,S),p.child;case 11:return M=p.type,T=p.pendingProps,T=p.elementType===M?T:ri(M,T),KT(h,p,M,T,S);case 7:return si(h,p,p.pendingProps,S),p.child;case 8:return si(h,p,p.pendingProps.children,S),p.child;case 12:return si(h,p,p.pendingProps.children,S),p.child;case 10:e:{if(M=p.type._context,T=p.pendingProps,I=p.memoizedProps,K=T.value,d0(p,M,K),I!==null)if(Vi(I.value,K)){if(I.children===T.children&&!Bn.current){p=ua(h,p,S);break e}}else for(I=p.child,I!==null&&(I.return=p);I!==null;){var se=I.dependencies;if(se!==null){K=I.child;for(var Me=se.firstContext;Me!==null;){if(Me.context===M){if(I.tag===1){Me=oa(-1,S&-S),Me.tag=2;var Ve=I.updateQueue;if(Ve!==null){Ve=Ve.shared;var rt=Ve.pending;rt===null?Me.next=Me:(Me.next=rt.next,rt.next=Me),Ve.pending=Me}}I.lanes|=S,Me=I.alternate,Me!==null&&(Me.lanes|=S),ii(I.return,S,p),se.lanes|=S;break}Me=Me.next}}else if(I.tag===10)K=I.type===p.type?null:I.child;else if(I.tag===18){if(K=I.return,K===null)throw Error(o(341));K.lanes|=S,se=K.alternate,se!==null&&(se.lanes|=S),ii(K,S,p),K=I.sibling}else K=I.child;if(K!==null)K.return=I;else for(K=I;K!==null;){if(K===p){K=null;break}if(I=K.sibling,I!==null){I.return=K.return,K=I;break}K=K.return}I=K}si(h,p,T.children,S),p=p.child}return p;case 9:return T=p.type,M=p.pendingProps.children,Hn(p,S),T=Vn(T),M=M(T),p.flags|=1,si(h,p,M,S),p.child;case 14:return M=p.type,T=ri(M,p.pendingProps),T=ri(M.type,T),YT(h,p,M,T,S);case 15:return QT(h,p,p.type,p.pendingProps,S);case 17:return M=p.type,T=p.pendingProps,T=p.elementType===M?T:ri(M,T),h!==null&&(h.alternate=null,p.alternate=null,p.flags|=2),p.tag=1,pr(M)?(h=!0,il(p)):h=!1,Hn(p,S),pT(p,M,T),vx(p,M,T,S),Ox(null,p,M,!0,h,S);case 19:return a3(h,p,S);case 22:return qT(h,p,S)}throw Error(o(156,p.tag))};function D3(h,p){return sa(h,p)}function G8(h,p,S,M){this.tag=h,this.key=S,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=M,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bs(h,p,S,M){return new G8(h,p,S,M)}function iw(h){return h=h.prototype,!(!h||!h.isReactComponent)}function H8(h){if(typeof h=="function")return iw(h)?1:0;if(h!=null){if(h=h.$$typeof,h===v)return 11;if(h===_)return 14}return 2}function hl(h,p){var S=h.alternate;return S===null?(S=bs(h.tag,p,h.key,h.mode),S.elementType=h.elementType,S.type=h.type,S.stateNode=h.stateNode,S.alternate=h,h.alternate=S):(S.pendingProps=p,S.type=h.type,S.flags=0,S.subtreeFlags=0,S.deletions=null),S.flags=h.flags&14680064,S.childLanes=h.childLanes,S.lanes=h.lanes,S.child=h.child,S.memoizedProps=h.memoizedProps,S.memoizedState=h.memoizedState,S.updateQueue=h.updateQueue,p=h.dependencies,S.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},S.sibling=h.sibling,S.index=h.index,S.ref=h.ref,S}function K0(h,p,S,M,T,I){var K=2;if(M=h,typeof h=="function")iw(h)&&(K=1);else if(typeof h=="string")K=5;else e:switch(h){case u:return zc(S.children,T,I,p);case f:K=8,T|=8;break;case d:return h=bs(12,S,p,T|2),h.elementType=d,h.lanes=I,h;case y:return h=bs(13,S,p,T),h.elementType=y,h.lanes=I,h;case x:return h=bs(19,S,p,T),h.elementType=x,h.lanes=I,h;case A:return Y0(S,T,I,p);default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case m:K=10;break e;case g:K=9;break e;case v:K=11;break e;case _:K=14;break e;case w:K=16,M=null;break e}throw Error(o(130,h==null?h:typeof h,""))}return p=bs(K,S,p,T),p.elementType=h,p.type=M,p.lanes=I,p}function zc(h,p,S,M){return h=bs(7,h,M,p),h.lanes=S,h}function Y0(h,p,S,M){return h=bs(22,h,M,p),h.elementType=A,h.lanes=S,h.stateNode={},h}function sw(h,p,S){return h=bs(6,h,null,p),h.lanes=S,h}function ow(h,p,S){return p=bs(4,h.children!==null?h.children:[],h.key,p),p.lanes=S,p.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},p}function V8(h,p,S,M,T){this.tag=p,this.containerInfo=h,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=be,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mf(0),this.expirationTimes=mf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mf(0),this.identifierPrefix=M,this.onRecoverableError=T,le&&(this.mutableSourceEagerHydrationData=null)}function B3(h,p,S,M,T,I,K,se,Me){return h=new V8(h,p,S,se,Me),p===1?(p=1,I===!0&&(p|=8)):p=0,I=bs(3,null,null,p),h.current=I,I.stateNode=h,I.memoizedState={element:M,isDehydrated:S,cache:null,transitions:null},mx(I),h}function I3(h){if(!h)return Er;h=h._reactInternals;e:{if(R(h)!==h||h.tag!==1)throw Error(o(170));var p=h;do{switch(p.tag){case 3:p=p.stateNode.context;break e;case 1:if(pr(p.type)){p=p.stateNode.__reactInternalMemoizedMergedChildContext;break e}}p=p.return}while(p!==null);throw Error(o(171))}if(h.tag===1){var S=h.type;if(pr(S))return hf(h,S,p)}return p}function L3(h){var p=h._reactInternals;if(p===void 0)throw typeof h.render=="function"?Error(o(188)):(h=Object.keys(h).join(","),Error(o(268,h)));return h=N(p),h===null?null:h.stateNode}function k3(h,p){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var S=h.retryLane;h.retryLane=S!==0&&S<p?S:p}}function aw(h,p){k3(h,p),(h=h.alternate)&&k3(h,p)}function W8(h){return h=N(h),h===null?null:h.stateNode}function j8(){return null}return t.attemptContinuousHydration=function(h){if(h.tag===13){var p=oi();As(h,134217728,p),aw(h,134217728)}},t.attemptHydrationAtCurrentPriority=function(h){if(h.tag===13){var p=oi(),S=fl(h);As(h,S,p),aw(h,S)}},t.attemptSynchronousHydration=function(h){switch(h.tag){case 3:var p=h.stateNode;if(p.current.memoizedState.isDehydrated){var S=ra(p.pendingLanes);S!==0&&(Ro(p,S|1),wi(p,wn()),!(Mt&6)&&(Tf(),_i()))}break;case 13:var M=oi();A3(function(){return As(h,1,M)}),aw(h,1)}},t.batchedUpdates=function(h,p){var S=Mt;Mt|=1;try{return h(p)}finally{Mt=S,Mt===0&&(Tf(),Do&&_i())}},t.createComponentSelector=function(h){return{$$typeof:k0,value:h}},t.createContainer=function(h,p,S,M,T,I,K){return B3(h,p,!1,null,S,M,T,I,K)},t.createHasPseudoClassSelector=function(h){return{$$typeof:O0,value:h}},t.createHydrationContainer=function(h,p,S,M,T,I,K,se,Me){return h=B3(S,M,!0,h,T,I,K,se,Me),h.context=I3(null),S=h.current,M=oi(),T=fl(S),I=oa(M,T),I.callback=p??null,ll(S,I),h.current.lanes=T,Po(h,T,M),wi(h,M),h},t.createPortal=function(h,p,S){var M=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:M==null?null:""+M,children:h,containerInfo:p,implementation:S}},t.createRoleSelector=function(h){return{$$typeof:F0,value:h}},t.createTestNameSelector=function(h){return{$$typeof:N0,value:h}},t.createTextSelector=function(h){return{$$typeof:U0,value:h}},t.deferredUpdates=function(h){var p=Pt,S=Wn.transition;try{return Wn.transition=null,Pt=16,h()}finally{Pt=p,Wn.transition=S}},t.discreteUpdates=function(h,p,S,M,T){var I=Pt,K=Wn.transition;try{return Wn.transition=null,Pt=1,h(p,S,M,T)}finally{Pt=I,Wn.transition=K,Mt===0&&Tf()}},t.findAllNodes=Xx,t.findBoundingRects=function(h,p){if(!Ue)throw Error(o(363));p=Xx(h,p),h=[];for(var S=0;S<p.length;S++)h.push(j(p[S]));for(p=h.length-1;0<p;p--){S=h[p];for(var M=S.x,T=M+S.width,I=S.y,K=I+S.height,se=p-1;0<=se;se--)if(p!==se){var Me=h[se],Ve=Me.x,rt=Ve+Me.width,vt=Me.y,ct=vt+Me.height;if(M>=Ve&&I>=vt&&T<=rt&&K<=ct){h.splice(p,1);break}else if(M!==Ve||S.width!==Me.width||ct<I||vt>K){if(!(I!==vt||S.height!==Me.height||rt<M||Ve>T)){Ve>M&&(Me.width+=Ve-M,Me.x=M),rt<T&&(Me.width=T-Ve),h.splice(p,1);break}}else{vt>I&&(Me.height+=vt-I,Me.y=I),ct<K&&(Me.height=K-vt),h.splice(p,1);break}}}return h},t.findHostInstance=L3,t.findHostInstanceWithNoPortals=function(h){return h=L(h),h=h!==null?k(h):null,h===null?null:h.stateNode},t.findHostInstanceWithWarning=function(h){return L3(h)},t.flushControlled=function(h){var p=Mt;Mt|=1;var S=Wn.transition,M=Pt;try{Wn.transition=null,Pt=1,h()}finally{Pt=M,Wn.transition=S,Mt=p,Mt===0&&(Tf(),_i())}},t.flushPassiveEffects=Uc,t.flushSync=A3,t.focusWithin=function(h,p){if(!Ue)throw Error(o(363));for(h=Wx(h),p=x3(h,p),p=Array.from(p),h=0;h<p.length;){var S=p[h++];if(!q(S)){if(S.tag===5&&Te(S.stateNode))return!0;for(S=S.child;S!==null;)p.push(S),S=S.sibling}}return!1},t.getCurrentUpdatePriority=function(){return Pt},t.getFindAllNodesFailureDescription=function(h,p){if(!Ue)throw Error(o(363));var S=0,M=[];h=[Wx(h),0];for(var T=0;T<h.length;){var I=h[T++],K=h[T++],se=p[K];if((I.tag!==5||!q(I))&&(jx(I,se)&&(M.push($x(se)),K++,K>S&&(S=K)),K<p.length))for(I=I.child;I!==null;)h.push(I,K),I=I.sibling}if(S<p.length){for(h=[];S<p.length;S++)h.push($x(p[S]));return`findAllNodes was able to match part of the selector:
  `+(M.join(" > ")+`

No matching component was found for:
  `)+h.join(" > ")}return null},t.getPublicRootInstance=function(h){if(h=h.current,!h.child)return null;switch(h.child.tag){case 5:return W(h.child.stateNode);default:return h.child.stateNode}},t.injectIntoDevTools=function(h){if(h={bundleType:h.bundleType,version:h.version,rendererPackageName:h.rendererPackageName,rendererConfig:h.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:W8,findFiberByHostInstance:h.findFiberByHostInstance||j8,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")h=!1;else{var p=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(p.isDisabled||!p.supportsFiber)h=!0;else{try{Tc=p.inject(h),Hi=p}catch{}h=!!p.checkDCE}}return h},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(h,p,S,M){if(!Ue)throw Error(o(363));h=Xx(h,p);var T=Re(h,S,M).disconnect;return{disconnect:function(){T()}}},t.registerMutableSourceForHydration=function(h,p){var S=p._getVersion;S=S(p._source),h.mutableSourceEagerHydrationData==null?h.mutableSourceEagerHydrationData=[p,S]:h.mutableSourceEagerHydrationData.push(p,S)},t.runWithPriority=function(h,p){var S=Pt;try{return Pt=h,p()}finally{Pt=S}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(h,p,S,M){var T=p.current,I=oi(),K=fl(T);return S=I3(S),p.context===null?p.context=S:p.pendingContext=S,p=oa(I,K),p.payload={element:h},M=M===void 0?null:M,M!==null&&(p.callback=M),ll(T,p),h=As(T,K,I),h!==null&&h0(h,T,K),K},t};JN.exports=bY;var MY=JN.exports;const CY=mh(MY);var KN={exports:{}},YN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(O,U){var H=O.length;O.push(U);e:for(;0<H;){var G=H-1>>>1,X=O[G];if(0<i(X,U))O[G]=U,O[H]=X,H=G;else break e}}function t(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var U=O[0],H=O.pop();if(H!==U){O[0]=H;e:for(var G=0,X=O.length,Z=X>>>1;G<Z;){var re=2*(G+1)-1,ie=O[re],Q=re+1,ue=O[Q];if(0>i(ie,H))Q<X&&0>i(ue,ie)?(O[G]=ue,O[Q]=H,G=Q):(O[G]=ie,O[re]=H,G=re);else if(Q<X&&0>i(ue,H))O[G]=ue,O[Q]=H,G=Q;else break e}}return U}function i(O,U){var H=O.sortIndex-U.sortIndex;return H!==0?H:O.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,f=null,d=3,m=!1,g=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(O){for(var U=t(c);U!==null;){if(U.callback===null)r(c);else if(U.startTime<=O)r(c),U.sortIndex=U.expirationTime,e(l,U);else break;U=t(c)}}function A(O){if(v=!1,w(O),!g)if(t(l)!==null)g=!0,W(C);else{var U=t(c);U!==null&&Y(A,U.startTime-O)}}function C(O,U){g=!1,v&&(v=!1,x(b),b=-1),m=!0;var H=d;try{for(w(U),f=t(l);f!==null&&(!(f.expirationTime>U)||O&&!L());){var G=f.callback;if(typeof G=="function"){f.callback=null,d=f.priorityLevel;var X=G(f.expirationTime<=U);U=n.unstable_now(),typeof X=="function"?f.callback=X:f===t(l)&&r(l),w(U)}else r(l);f=t(l)}if(f!==null)var Z=!0;else{var re=t(c);re!==null&&Y(A,re.startTime-U),Z=!1}return Z}finally{f=null,d=H,m=!1}}var E=!1,P=null,b=-1,R=5,D=-1;function L(){return!(n.unstable_now()-D<R)}function N(){if(P!==null){var O=n.unstable_now();D=O;var U=!0;try{U=P(!0,O)}finally{U?z():(E=!1,P=null)}}else E=!1}var z;if(typeof _=="function")z=function(){_(N)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,V=k.port2;k.port1.onmessage=N,z=function(){V.postMessage(null)}}else z=function(){y(N,0)};function W(O){P=O,E||(E=!0,z())}function Y(O,U){b=y(function(){O(n.unstable_now())},U)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(O){O.callback=null},n.unstable_continueExecution=function(){g||m||(g=!0,W(C))},n.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<O?Math.floor(1e3/O):5},n.unstable_getCurrentPriorityLevel=function(){return d},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(O){switch(d){case 1:case 2:case 3:var U=3;break;default:U=d}var H=d;d=U;try{return O()}finally{d=H}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(O,U){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var H=d;d=O;try{return U()}finally{d=H}},n.unstable_scheduleCallback=function(O,U,H){var G=n.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?G+H:G):H=G,O){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=H+X,O={id:u++,callback:U,priorityLevel:O,startTime:H,expirationTime:X,sortIndex:-1},H>G?(O.sortIndex=H,e(c,O),t(l)===null&&O===t(c)&&(v?(x(b),b=-1):v=!0,Y(A,H-G))):(O.sortIndex=X,e(l,O),g||m||(g=!0,W(C))),O},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(O){var U=d;return function(){var H=d;d=U;try{return O.apply(this,arguments)}finally{d=H}}}})(YN);KN.exports=YN;var pD=KN.exports;const EY=n=>typeof n=="object"&&typeof n.then=="function",vu=[];function QN(n,e,t=(r,i)=>r===i){if(n===e)return!0;if(!n||!e)return!1;const r=n.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!t(n[i],e[i]))return!1;return!0}function qN(n,e=null,t=!1,r={}){e===null&&(e=[n]);for(const s of vu)if(QN(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return r.lifespan&&r.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,r.lifespan)),s.response;if(!t)throw s.promise}const i={keys:e,equal:r.equal,remove:()=>{const s=vu.indexOf(i);s!==-1&&vu.splice(s,1)},promise:(EY(n)?n:n(...e)).then(s=>{i.response=s,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(s=>i.error=s)};if(vu.push(i),!t)throw i.promise}const WC=(n,e,t)=>qN(n,e,!1,t),TY=(n,e,t)=>void qN(n,e,!0,t),PY=n=>{if(n===void 0||n.length===0)vu.splice(0,vu.length);else{const e=vu.find(t=>QN(n,t.keys,t.equal));e&&e.remove()}},jC={},ZN=n=>void Object.assign(jC,n);function RY(n,e){function t(u,{args:f=[],attach:d,...m},g){let v=`${u[0].toUpperCase()}${u.slice(1)}`,y;if(u==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const x=m.object;y=sd(x,{type:u,root:g,attach:d,primitive:!0})}else{const x=jC[v];if(!x)throw new Error(`R3F: ${v} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(f))throw new Error("R3F: The args prop must be an array!");y=sd(new x(...f),{type:u,root:g,attach:d,memoizedProps:{args:f}})}return y.__r3f.attach===void 0&&(y instanceof ht?y.__r3f.attach="geometry":y instanceof ir&&(y.__r3f.attach="material")),v!=="inject"&&_S(y,m),y}function r(u,f){let d=!1;if(f){var m,g;(m=f.__r3f)!=null&&m.attach?yS(u,f,f.__r3f.attach):f.isObject3D&&u.isObject3D&&(u.add(f),d=!0),d||(g=u.__r3f)==null||g.objects.push(f),f.__r3f||sd(f,{}),f.__r3f.parent=u,eM(f),od(f)}}function i(u,f,d){let m=!1;if(f){var g,v;if((g=f.__r3f)!=null&&g.attach)yS(u,f,f.__r3f.attach);else if(f.isObject3D&&u.isObject3D){f.parent=u,f.dispatchEvent({type:"added"});const y=u.children.filter(_=>_!==f),x=y.indexOf(d);u.children=[...y.slice(0,x),f,...y.slice(x)],m=!0}m||(v=u.__r3f)==null||v.objects.push(f),f.__r3f||sd(f,{}),f.__r3f.parent=u,eM(f),od(f)}}function s(u,f,d=!1){u&&[...u].forEach(m=>o(f,m,d))}function o(u,f,d){if(f){var m,g,v;if(f.__r3f&&(f.__r3f.parent=null),(m=u.__r3f)!=null&&m.objects&&(u.__r3f.objects=u.__r3f.objects.filter(A=>A!==f)),(g=f.__r3f)!=null&&g.attach)_D(u,f,f.__r3f.attach);else if(f.isObject3D&&u.isObject3D){var y;u.remove(f),(y=f.__r3f)!=null&&y.root&&UY(f.__r3f.root,f)}const _=(v=f.__r3f)==null?void 0:v.primitive,w=d===void 0?f.dispose!==null&&!_:d;if(!_){var x;s((x=f.__r3f)==null?void 0:x.objects,f,w),s(f.children,f,w)}delete f.__r3f,w&&f.dispose&&f.type!=="Scene"&&pD.unstable_scheduleCallback(pD.unstable_IdlePriority,()=>{try{f.dispose()}catch{}}),od(u)}}function a(u,f,d,m){var g;const v=(g=u.__r3f)==null?void 0:g.parent;if(!v)return;const y=t(f,d,u.__r3f.root);if(u.children){for(const x of u.children)x.__r3f&&r(y,x);u.children=u.children.filter(x=>!x.__r3f)}u.__r3f.objects.forEach(x=>r(y,x)),u.__r3f.objects=[],u.__r3f.autoRemovedBeforeAppend||o(v,u),y.parent&&(y.__r3f.autoRemovedBeforeAppend=!0),r(v,y),y.raycast&&y.__r3f.eventCount&&y.__r3f.root.getState().internal.interaction.push(y),[m,m.alternate].forEach(x=>{x!==null&&(x.stateNode=y,x.ref&&(typeof x.ref=="function"?x.ref(y):x.ref.current=y))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:CY({createInstance:t,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(u,f)=>{if(!f)return;const d=u.getState().scene;d.__r3f&&(d.__r3f.root=u,r(d,f))},removeChildFromContainer:(u,f)=>{f&&o(u.getState().scene,f)},insertInContainerBefore:(u,f,d)=>{if(!f||!d)return;const m=u.getState().scene;m.__r3f&&i(m,f,d)},getRootHostContext:()=>null,getChildHostContext:u=>u,finalizeInitialChildren(u){var f;return!!((f=u==null?void 0:u.__r3f)!=null?f:{}).handlers},prepareUpdate(u,f,d,m){var g;if(((g=u==null?void 0:u.__r3f)!=null?g:{}).primitive&&m.object&&m.object!==u)return[!0];{const{args:y=[],children:x,..._}=m,{args:w=[],children:A,...C}=d;if(!Array.isArray(y))throw new Error("R3F: the args prop must be an array!");if(y.some((P,b)=>P!==w[b]))return[!0];const E=oU(u,_,C,!0);return E.changes.length?[!1,E]:null}},commitUpdate(u,[f,d],m,g,v,y){f?a(u,m,v,y):_S(u,d)},commitMount(u,f,d,m){var g;const v=(g=u.__r3f)!=null?g:{};u.raycast&&v.handlers&&v.eventCount&&u.__r3f.root.getState().internal.interaction.push(u)},getPublicInstance:u=>u,prepareForCommit:()=>null,preparePortalMount:u=>sd(u.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(u){var f;const{attach:d,parent:m}=(f=u.__r3f)!=null?f:{};d&&m&&_D(m,u,d),u.isObject3D&&(u.visible=!1),od(u)},unhideInstance(u,f){var d;const{attach:m,parent:g}=(d=u.__r3f)!=null?d:{};m&&g&&yS(g,u,m),(u.isObject3D&&f.visible==null||f.visible)&&(u.visible=!0),od(u)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():Sd.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&un.fun(performance.now)?performance.now:un.fun(Date.now)?Date.now:()=>0,scheduleTimeout:un.fun(setTimeout)?setTimeout:void 0,cancelTimeout:un.fun(clearTimeout)?clearTimeout:void 0}),applyProps:_S}}var mD,gD;const vS=n=>"colorSpace"in n||"outputColorSpace"in n,eU=()=>{var n;return(n=jC.ColorManagement)!=null?n:null},tU=n=>n&&n.isOrthographicCamera,DY=n=>n&&n.hasOwnProperty("current"),Wg=typeof window<"u"&&((mD=window.document)!=null&&mD.createElement||((gD=window.navigator)==null?void 0:gD.product)==="ReactNative")?B.useLayoutEffect:B.useEffect;function nU(n){const e=B.useRef(n);return Wg(()=>void(e.current=n),[n]),e}function BY({set:n}){return Wg(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}class rU extends B.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}rU.getDerivedStateFromError=()=>({error:!0});const iU="__default",vD=new Map,IY=n=>n&&!!n.memoized&&!!n.changes;function sU(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}const Ap=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()},un={obj:n=>n===Object(n)&&!un.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:r="reference",strict:i=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(un.str(n)||un.num(n))return n===e;const s=un.obj(n);if(s&&r==="reference")return n===e;const o=un.arr(n);if(o&&t==="reference")return n===e;if((o||s)&&n===e)return!0;let a;for(a in n)if(!(a in e))return!1;if(s&&t==="shallow"&&r==="shallow"){for(a in i?e:n)if(!un.equ(n[a],e[a],{strict:i,objects:"reference"}))return!1}else for(a in i?e:n)if(n[a]!==e[a])return!1;if(un.und(a)){if(o&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function LY(n){const e={nodes:{},materials:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function kY(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function sd(n,e){const t=n;return t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},n}function Zb(n,e){let t=n;if(e.includes("-")){const r=e.split("-"),i=r.pop();return t=r.reduce((s,o)=>s[o],n),{target:t,key:i}}else return{target:t,key:e}}const yD=/-\d+$/;function yS(n,e,t){if(un.str(t)){if(yD.test(t)){const s=t.replace(yD,""),{target:o,key:a}=Zb(n,s);Array.isArray(o[a])||(o[a]=[])}const{target:r,key:i}=Zb(n,t);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=t(n,e)}function _D(n,e,t){var r,i;if(un.str(t)){const{target:s,key:o}=Zb(n,t),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(n,e);(i=e.__r3f)==null||delete i.previousAttach}function oU(n,{children:e,key:t,ref:r,...i},{children:s,key:o,ref:a,...l}={},c=!1){var u;const f=(u=n==null?void 0:n.__r3f)!=null?u:{},d=Object.entries(i),m=[];if(c){const v=Object.keys(l);for(let y=0;y<v.length;y++)i.hasOwnProperty(v[y])||d.unshift([v[y],iU+"remove"])}d.forEach(([v,y])=>{var x;if((x=n.__r3f)!=null&&x.primitive&&v==="object"||un.equ(y,l[v]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(v))return m.push([v,y,!0,[]]);let _=[];v.includes("-")&&(_=v.split("-")),m.push([v,y,!1,_]);for(const w in i){const A=i[w];w.startsWith(`${v}-`)&&m.push([w,A,!1,w.split("-")])}});const g={...i};return f.memoizedProps&&f.memoizedProps.args&&(g.args=f.memoizedProps.args),f.memoizedProps&&f.memoizedProps.attach&&(g.attach=f.memoizedProps.attach),{memoized:g,changes:m}}const OY=typeof process<"u"&&!1;function _S(n,e){var t,r,i;const s=(t=n.__r3f)!=null?t:{},o=s.root,a=(r=o==null||o.getState==null?void 0:o.getState())!=null?r:{},{memoized:l,changes:c}=IY(e)?e:oU(n,e),u=s.eventCount;n.__r3f&&(n.__r3f.memoizedProps=l);for(let d=0;d<c.length;d++){let[m,g,v,y]=c[d];if(vS(n)){const A="srgb",C="srgb-linear";m==="encoding"?(m="colorSpace",g=g===3001?A:C):m==="outputEncoding"&&(m="outputColorSpace",g=g===3001?A:C)}let x=n,_=x[m];if(y.length&&(_=y.reduce((w,A)=>w[A],n),!(_&&_.set))){const[w,...A]=y.reverse();x=A.reverse().reduce((C,E)=>C[E],n),m=w}if(g===iU+"remove")if(x.constructor){let w=vD.get(x.constructor);w||(w=new x.constructor,vD.set(x.constructor,w)),g=w[m]}else g=0;if(v)g?s.handlers[m]=g:delete s.handlers[m],s.eventCount=Object.keys(s.handlers).length;else if(_&&_.set&&(_.copy||_ instanceof Eu)){if(Array.isArray(g))_.fromArray?_.fromArray(g):_.set(...g);else if(_.copy&&g&&g.constructor&&(OY?_.constructor.name===g.constructor.name:_.constructor===g.constructor))_.copy(g);else if(g!==void 0){const w=_ instanceof He;!w&&_.setScalar?_.setScalar(g):_ instanceof Eu&&g instanceof Eu?_.mask=g.mask:_.set(g),!eU()&&!a.linear&&w&&_.convertSRGBToLinear()}}else if(x[m]=g,x[m]instanceof mn&&x[m].format===Ci&&x[m].type===Ga){const w=x[m];vS(w)&&vS(a.gl)?w.colorSpace=a.gl.outputColorSpace:w.encoding=a.gl.outputEncoding}od(n)}if(s.parent&&a.internal&&n.raycast&&u!==s.eventCount){const d=a.internal.interaction.indexOf(n);d>-1&&a.internal.interaction.splice(d,1),s.eventCount&&a.internal.interaction.push(n)}return!(c.length===1&&c[0][0]==="onUpdate")&&c.length&&(i=n.__r3f)!=null&&i.parent&&eM(n),n}function od(n){var e,t;const r=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();r&&r.internal.frames===0&&r.invalidate()}function eM(n){n.onUpdate==null||n.onUpdate(n)}function FY(n,e){n.manual||(tU(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function ey(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function NY(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Sd.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Sd.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Sd.ContinuousEventPriority;default:return Sd.DefaultEventPriority}}function aU(n,e,t,r){const i=t.get(e);i&&(t.delete(e),t.size===0&&(n.delete(r),i.target.releasePointerCapture(r)))}function UY(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(r=>r!==e),t.initialHits=t.initialHits.filter(r=>r!==e),t.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&t.hovered.delete(i)}),t.capturedMap.forEach((r,i)=>{aU(t.capturedMap,e,r,i)})}function zY(n){function e(l){const{internal:c}=n.getState(),u=l.offsetX-c.initialClick[0],f=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(u*u+f*f))}function t(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(u=>{var f;return(f=c.__r3f)==null?void 0:f.handlers["onPointer"+u]}))}function r(l,c){const u=n.getState(),f=new Set,d=[],m=c?c(u.internal.interaction):u.internal.interaction;for(let x=0;x<m.length;x++){const _=Ap(m[x]);_&&(_.raycaster.camera=void 0)}u.previousRoot||u.events.compute==null||u.events.compute(l,u);function g(x){const _=Ap(x);if(!_||!_.events.enabled||_.raycaster.camera===null)return[];if(_.raycaster.camera===void 0){var w;_.events.compute==null||_.events.compute(l,_,(w=_.previousRoot)==null?void 0:w.getState()),_.raycaster.camera===void 0&&(_.raycaster.camera=null)}return _.raycaster.camera?_.raycaster.intersectObject(x,!0):[]}let v=m.flatMap(g).sort((x,_)=>{const w=Ap(x.object),A=Ap(_.object);return!w||!A?x.distance-_.distance:A.events.priority-w.events.priority||x.distance-_.distance}).filter(x=>{const _=ey(x);return f.has(_)?!1:(f.add(_),!0)});u.events.filter&&(v=u.events.filter(v,u));for(const x of v){let _=x.object;for(;_;){var y;(y=_.__r3f)!=null&&y.eventCount&&d.push({...x,eventObject:_}),_=_.parent}}if("pointerId"in l&&u.internal.capturedMap.has(l.pointerId))for(let x of u.internal.capturedMap.get(l.pointerId).values())f.has(ey(x.intersection))||d.push(x.intersection);return d}function i(l,c,u,f){const d=n.getState();if(l.length){const m={stopped:!1};for(const g of l){const v=Ap(g.object)||d,{raycaster:y,pointer:x,camera:_,internal:w}=v,A=new $(x.x,x.y,0).unproject(_),C=D=>{var L,N;return(L=(N=w.capturedMap.get(D))==null?void 0:N.has(g.eventObject))!=null?L:!1},E=D=>{const L={intersection:g,target:c.target};w.capturedMap.has(D)?w.capturedMap.get(D).set(g.eventObject,L):w.capturedMap.set(D,new Map([[g.eventObject,L]])),c.target.setPointerCapture(D)},P=D=>{const L=w.capturedMap.get(D);L&&aU(w.capturedMap,g.eventObject,L,D)};let b={};for(let D in c){let L=c[D];typeof L!="function"&&(b[D]=L)}let R={...g,...b,pointer:x,intersections:l,stopped:m.stopped,delta:u,unprojectedPoint:A,ray:y.ray,camera:_,stopPropagation(){const D="pointerId"in c&&w.capturedMap.get(c.pointerId);if((!D||D.has(g.eventObject))&&(R.stopped=m.stopped=!0,w.hovered.size&&Array.from(w.hovered.values()).find(L=>L.eventObject===g.eventObject))){const L=l.slice(0,l.indexOf(g));s([...L,g])}},target:{hasPointerCapture:C,setPointerCapture:E,releasePointerCapture:P},currentTarget:{hasPointerCapture:C,setPointerCapture:E,releasePointerCapture:P},nativeEvent:c};if(f(R),m.stopped===!0)break}}return l}function s(l){const{internal:c}=n.getState();for(const u of c.hovered.values())if(!l.length||!l.find(f=>f.object===u.object&&f.index===u.index&&f.instanceId===u.instanceId)){const d=u.eventObject.__r3f,m=d==null?void 0:d.handlers;if(c.hovered.delete(ey(u)),d!=null&&d.eventCount){const g={...u,intersections:l};m.onPointerOut==null||m.onPointerOut(g),m.onPointerLeave==null||m.onPointerLeave(g)}}}function o(l,c){for(let u=0;u<c.length;u++){const f=c[u].__r3f;f==null||f.handlers.onPointerMissed==null||f.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return c=>{const{internal:u}=n.getState();"pointerId"in c&&u.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{u.capturedMap.has(c.pointerId)&&(u.capturedMap.delete(c.pointerId),s([]))})}}return function(u){const{onPointerMissed:f,internal:d}=n.getState();d.lastEvent.current=u;const m=l==="onPointerMove",g=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",y=r(u,m?t:void 0),x=g?e(u):0;l==="onPointerDown"&&(d.initialClick=[u.offsetX,u.offsetY],d.initialHits=y.map(w=>w.eventObject)),g&&!y.length&&x<=2&&(o(u,d.interaction),f&&f(u)),m&&s(y);function _(w){const A=w.eventObject,C=A.__r3f,E=C==null?void 0:C.handlers;if(C!=null&&C.eventCount)if(m){if(E.onPointerOver||E.onPointerEnter||E.onPointerOut||E.onPointerLeave){const P=ey(w),b=d.hovered.get(P);b?b.stopped&&w.stopPropagation():(d.hovered.set(P,w),E.onPointerOver==null||E.onPointerOver(w),E.onPointerEnter==null||E.onPointerEnter(w))}E.onPointerMove==null||E.onPointerMove(w)}else{const P=E[l];P?(!g||d.initialHits.includes(A))&&(o(u,d.interaction.filter(b=>!d.initialHits.includes(b))),P(w)):g&&d.initialHits.includes(A)&&o(u,d.interaction.filter(b=>!d.initialHits.includes(b)))}}i(y,u,x,_)}}return{handlePointer:a}}const lU=n=>!!(n!=null&&n.render),T1=B.createContext(null),GY=(n,e)=>{const t=XN((a,l)=>{const c=new $,u=new $,f=new $;function d(x=l().camera,_=u,w=l().size){const{width:A,height:C,top:E,left:P}=w,b=A/C;_ instanceof $?f.copy(_):f.set(..._);const R=x.getWorldPosition(c).distanceTo(f);if(tU(x))return{width:A/x.zoom,height:C/x.zoom,top:E,left:P,factor:1,distance:R,aspect:b};{const D=x.fov*Math.PI/180,L=2*Math.tan(D/2)*R,N=L*(A/C);return{width:N,height:L,top:E,left:P,factor:A/N,distance:R,aspect:b}}}let m;const g=x=>a(_=>({performance:{..._.performance,current:x}})),v=new De;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(x=1)=>n(l(),x),advance:(x,_)=>e(x,_,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new zC,pointer:v,mouse:v,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const x=l();m&&clearTimeout(m),x.performance.current!==x.performance.min&&g(x.performance.min),m=setTimeout(()=>g(l().performance.max),x.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:d},setEvents:x=>a(_=>({..._,events:{..._.events,...x}})),setSize:(x,_,w,A,C)=>{const E=l().camera,P={width:x,height:_,top:A||0,left:C||0,updateStyle:w};a(b=>({size:P,viewport:{...b.viewport,...d(E,u,P)}}))},setDpr:x=>a(_=>{const w=sU(x);return{viewport:{..._.viewport,dpr:w,initialDpr:_.viewport.initialDpr||w}}}),setFrameloop:(x="always")=>{const _=l().clock;_.stop(),_.elapsedTime=0,x!=="never"&&(_.start(),_.elapsedTime=0),a(()=>({frameloop:x}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:B.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(x,_,w)=>{const A=l().internal;return A.priority=A.priority+(_>0?1:0),A.subscribers.push({ref:x,priority:_,store:w}),A.subscribers=A.subscribers.sort((C,E)=>C.priority-E.priority),()=>{const C=l().internal;C!=null&&C.subscribers&&(C.priority=C.priority-(_>0?1:0),C.subscribers=C.subscribers.filter(E=>E.ref!==x))}}}}}),r=t.getState();let i=r.size,s=r.viewport.dpr,o=r.camera;return t.subscribe(()=>{const{camera:a,size:l,viewport:c,gl:u,set:f}=t.getState();if(l.width!==i.width||l.height!==i.height||c.dpr!==s){var d;i=l,s=c.dpr,FY(a,l),u.setPixelRatio(c.dpr);const m=(d=l.updateStyle)!=null?d:typeof HTMLCanvasElement<"u"&&u.domElement instanceof HTMLCanvasElement;u.setSize(l.width,l.height,m)}a!==o&&(o=a,f(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(a)}})))}),t.subscribe(a=>n(a)),t};let ty,HY=new Set,VY=new Set,WY=new Set;function xS(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function bp(n,e){switch(n){case"before":return xS(HY,e);case"after":return xS(VY,e);case"tail":return xS(WY,e)}}let wS,SS;function AS(n,e,t){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(r=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),wS=e.internal.subscribers,ty=0;ty<wS.length;ty++)SS=wS[ty],SS.ref.current(SS.store.getState(),r,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function jY(n){let e=!1,t,r,i;function s(l){r=requestAnimationFrame(s),e=!0,t=0,bp("before",l);for(const u of n.values()){var c;i=u.store.getState(),i.internal.active&&(i.frameloop==="always"||i.internal.frames>0)&&!((c=i.gl.xr)!=null&&c.isPresenting)&&(t+=AS(l,i))}if(bp("after",l),t===0)return bp("tail",l),e=!1,cancelAnimationFrame(r)}function o(l,c=1){var u;if(!l)return n.forEach(f=>o(f.store.getState()),c);(u=l.gl.xr)!=null&&u.isPresenting||!l.internal.active||l.frameloop==="never"||(l.internal.frames=Math.min(60,l.internal.frames+c),e||(e=!0,requestAnimationFrame(s)))}function a(l,c=!0,u,f){if(c&&bp("before",l),u)AS(l,u,f);else for(const d of n.values())AS(l,d.store.getState());c&&bp("after",l)}return{loop:s,invalidate:o,advance:a}}function cU(){const n=B.useContext(T1);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function Sc(n=t=>t,e){return cU()(n,e)}function hs(n,e=0){const t=cU(),r=t.getState().internal.subscribe,i=nU(n);return Wg(()=>r(i,e,t),[e,r,t]),null}const xD=new WeakMap;function uU(n,e){return function(t,...r){let i=xD.get(t);return i||(i=new t,xD.set(t,i)),n&&n(i),Promise.all(r.map(s=>new Promise((o,a)=>i.load(s,l=>{l.scene&&Object.assign(l,LY(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l==null?void 0:l.message}`)))))).finally(()=>i.dispose==null?void 0:i.dispose())}}function Eo(n,e,t,r){const i=Array.isArray(e)?e:[e],s=WC(uU(t,r),[n,...i],{equal:un.equ});return Array.isArray(e)?s:s[0]}Eo.preload=function(n,e,t){const r=Array.isArray(e)?e:[e];return TY(uU(t),[n,...r])};Eo.clear=function(n,e){const t=Array.isArray(e)?e:[e];return PY([n,...t])};const ih=new Map,{invalidate:wD,advance:SD}=jY(ih),{reconciler:P1,applyProps:Jf}=RY(ih,NY),Kf={objects:"shallow",strict:!1},$Y=(n,e)=>{const t=typeof n=="function"?n(e):n;return lU(t)?t:new yC({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function XY(n,e){const t=typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement;if(e){const{width:r,height:i,top:s,left:o,updateStyle:a=t}=e;return{width:r,height:i,top:s,left:o,updateStyle:a}}else if(typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:r,height:i,top:s,left:o}=n.parentElement.getBoundingClientRect();return{width:r,height:i,top:s,left:o,updateStyle:t}}else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0,updateStyle:t};return{width:0,height:0,top:0,left:0}}function JY(n){const e=ih.get(n),t=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||GY(wD,SD),o=t||P1.createContainer(s,Sd.ConcurrentRoot,null,!1,null,"",i,null);e||ih.set(n,{fiber:o,store:s});let a,l=!1,c;return{configure(u={}){let{gl:f,size:d,scene:m,events:g,onCreated:v,shadows:y=!1,linear:x=!1,flat:_=!1,legacy:w=!1,orthographic:A=!1,frameloop:C="always",dpr:E=[1,2],performance:P,raycaster:b,camera:R,onPointerMissed:D}=u,L=s.getState(),N=L.gl;L.gl||L.set({gl:N=$Y(f,n)});let z=L.raycaster;z||L.set({raycaster:z=new VN});const{params:k,...V}=b||{};if(un.equ(V,z,Kf)||Jf(z,{...V}),un.equ(k,z.params,Kf)||Jf(z,{params:{...z.params,...k}}),!L.camera||L.camera===c&&!un.equ(c,R,Kf)){c=R;const X=R instanceof Pg,Z=X?R:A?new tf(0,0,0,0,.1,1e3):new nr(75,0,.1,1e3);X||(Z.position.z=5,R&&Jf(Z,R),!L.camera&&!(R!=null&&R.rotation)&&Z.lookAt(0,0,0)),L.set({camera:Z}),z.camera=Z}if(!L.scene){let X;m instanceof E1?X=m:(X=new E1,m&&Jf(X,m)),L.set({scene:sd(X)})}if(!L.xr){var W;const X=(ie,Q)=>{const ue=s.getState();ue.frameloop!=="never"&&SD(ie,!0,ue,Q)},Z=()=>{const ie=s.getState();ie.gl.xr.enabled=ie.gl.xr.isPresenting,ie.gl.xr.setAnimationLoop(ie.gl.xr.isPresenting?X:null),ie.gl.xr.isPresenting||wD(ie)},re={connect(){const ie=s.getState().gl;ie.xr.addEventListener("sessionstart",Z),ie.xr.addEventListener("sessionend",Z)},disconnect(){const ie=s.getState().gl;ie.xr.removeEventListener("sessionstart",Z),ie.xr.removeEventListener("sessionend",Z)}};typeof((W=N.xr)==null?void 0:W.addEventListener)=="function"&&re.connect(),L.set({xr:re})}if(N.shadowMap){const X=N.shadowMap.enabled,Z=N.shadowMap.type;if(N.shadowMap.enabled=!!y,un.boo(y))N.shadowMap.type=im;else if(un.str(y)){var Y;const re={basic:n4,percentage:M_,soft:im,variance:du};N.shadowMap.type=(Y=re[y])!=null?Y:im}else un.obj(y)&&Object.assign(N.shadowMap,y);(X!==N.shadowMap.enabled||Z!==N.shadowMap.type)&&(N.shadowMap.needsUpdate=!0)}const O=eU();O&&("enabled"in O?O.enabled=!w:"legacyMode"in O&&(O.legacyMode=w)),Jf(N,{outputEncoding:x?3e3:3001,toneMapping:_?vo:cC}),L.legacy!==w&&L.set(()=>({legacy:w})),L.linear!==x&&L.set(()=>({linear:x})),L.flat!==_&&L.set(()=>({flat:_})),f&&!un.fun(f)&&!lU(f)&&!un.equ(f,N,Kf)&&Jf(N,f),g&&!L.events.handlers&&L.set({events:g(s)});const G=XY(n,d);return un.equ(G,L.size,Kf)||L.setSize(G.width,G.height,G.updateStyle,G.top,G.left),E&&L.viewport.dpr!==sU(E)&&L.setDpr(E),L.frameloop!==C&&L.setFrameloop(C),L.onPointerMissed||L.set({onPointerMissed:D}),P&&!un.equ(P,L.performance,Kf)&&L.set(X=>({performance:{...X.performance,...P}})),a=v,l=!0,this},render(u){return l||this.configure(),P1.updateContainer(B.createElement(KY,{store:s,children:u,onCreated:a,rootElement:n}),o,null,()=>{}),s},unmount(){fU(n)}}}function KY({store:n,children:e,onCreated:t,rootElement:r}){return Wg(()=>{const i=n.getState();i.set(s=>({internal:{...s.internal,active:!0}})),t&&t(i),n.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),B.createElement(T1.Provider,{value:n},e)}function fU(n,e){const t=ih.get(n),r=t==null?void 0:t.fiber;if(r){const i=t==null?void 0:t.store.getState();i&&(i.internal.active=!1),P1.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,o,a,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),kY(i),ih.delete(n),e&&e(n)}catch{}},500)})}}P1.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:B.version});function tM(n,e,t){var r,i,s,o,a;e==null&&(e=100);function l(){var u=Date.now()-o;u<e&&u>=0?r=setTimeout(l,e-u):(r=null,t||(a=n.apply(s,i),s=i=null))}var c=function(){s=this,i=arguments,o=Date.now();var u=t&&!r;return r||(r=setTimeout(l,e)),u&&(a=n.apply(s,i),s=i=null),a};return c.clear=function(){r&&(clearTimeout(r),r=null)},c.flush=function(){r&&(a=n.apply(s,i),s=i=null,clearTimeout(r),r=null)},c}tM.debounce=tM;var YY=tM;const AD=mh(YY);function QY(n){let{debounce:e,scroll:t,polyfill:r,offsetSize:i}=n===void 0?{debounce:0,scroll:!1,offsetSize:!1}:n;const s=r||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=B.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=B.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),c=e?typeof e=="number"?e:e.scroll:null,u=e?typeof e=="number"?e:e.resize:null,f=B.useRef(!1);B.useEffect(()=>(f.current=!0,()=>void(f.current=!1)));const[d,m,g]=B.useMemo(()=>{const _=()=>{if(!l.current.element)return;const{left:w,top:A,width:C,height:E,bottom:P,right:b,x:R,y:D}=l.current.element.getBoundingClientRect(),L={left:w,top:A,width:C,height:E,bottom:P,right:b,x:R,y:D};l.current.element instanceof HTMLElement&&i&&(L.height=l.current.element.offsetHeight,L.width=l.current.element.offsetWidth),Object.freeze(L),f.current&&!tQ(l.current.lastBounds,L)&&a(l.current.lastBounds=L)};return[_,u?AD(_,u):_,c?AD(_,c):_]},[a,i,c,u]);function v(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(_=>_.removeEventListener("scroll",g,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function y(){l.current.element&&(l.current.resizeObserver=new s(g),l.current.resizeObserver.observe(l.current.element),t&&l.current.scrollContainers&&l.current.scrollContainers.forEach(_=>_.addEventListener("scroll",g,{capture:!0,passive:!0})))}const x=_=>{!_||_===l.current.element||(v(),l.current.element=_,l.current.scrollContainers=dU(_),y())};return ZY(g,!!t),qY(m),B.useEffect(()=>{v(),y()},[t,g,m]),B.useEffect(()=>v,[]),[x,o,d]}function qY(n){B.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function ZY(n,e){B.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function dU(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:r,overflowY:i}=window.getComputedStyle(n);return[t,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...dU(n.parentElement)]}const eQ=["x","y","top","bottom","left","right","width","height"],tQ=(n,e)=>eQ.every(t=>n[t]===e[t]);var nQ=Object.defineProperty,rQ=Object.defineProperties,iQ=Object.getOwnPropertyDescriptors,bD=Object.getOwnPropertySymbols,sQ=Object.prototype.hasOwnProperty,oQ=Object.prototype.propertyIsEnumerable,MD=(n,e,t)=>e in n?nQ(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,CD=(n,e)=>{for(var t in e||(e={}))sQ.call(e,t)&&MD(n,t,e[t]);if(bD)for(var t of bD(e))oQ.call(e,t)&&MD(n,t,e[t]);return n},aQ=(n,e)=>rQ(n,iQ(e));function hU(n,e,t){if(!n)return;if(t(n)===!0)return n;let r=e?n.return:n.child;for(;r;){const i=hU(r,e,t);if(i)return i;r=e?null:r.sibling}}function pU(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const $C=pU(B.createContext(null));class mU extends B.Component{render(){return B.createElement($C.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:ED,ReactCurrentDispatcher:TD}=B.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function lQ(){const n=B.useContext($C);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=B.useId();return B.useMemo(()=>{for(const r of[ED==null?void 0:ED.current,n,n==null?void 0:n.alternate]){if(!r)continue;const i=hU(r,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(i)return i}},[n,e])}function cQ(){var n,e;const t=lQ(),[r]=B.useState(()=>new Map);r.clear();let i=t;for(;i;){const s=(n=i.type)==null?void 0:n._context;s&&s!==$C&&!r.has(s)&&r.set(s,(e=TD==null?void 0:TD.current)==null?void 0:e.readContext(pU(s))),i=i.return}return r}function uQ(){const n=cQ();return B.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>r=>B.createElement(e,null,B.createElement(t.Provider,aQ(CD({},r),{value:n.get(t)}))),e=>B.createElement(mU,CD({},e))),[n])}const bS={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function fQ(n){const{handlePointer:e}=zY(n);return{priority:1,enabled:!0,compute(t,r,i){r.pointer.set(t.offsetX/r.size.width*2-1,-(t.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(bS).reduce((t,r)=>({...t,[r]:e(r)}),{}),update:()=>{var t;const{events:r,internal:i}=n.getState();(t=i.lastEvent)!=null&&t.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:t=>{var r;const{set:i,events:s}=n.getState();s.disconnect==null||s.disconnect(),i(o=>({events:{...o.events,connected:t}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([o,a])=>{const[l,c]=bS[o];t.addEventListener(l,a,{passive:c})})},disconnect:()=>{const{set:t,events:r}=n.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,o])=>{if(r&&r.connected instanceof HTMLElement){const[a]=bS[s];r.connected.removeEventListener(a,o)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}const dQ=B.forwardRef(function({children:e,fallback:t,resize:r,style:i,gl:s,events:o=fQ,eventSource:a,eventPrefix:l,shadows:c,linear:u,flat:f,legacy:d,orthographic:m,frameloop:g,dpr:v,performance:y,raycaster:x,camera:_,scene:w,onPointerMissed:A,onCreated:C,...E},P){B.useMemo(()=>ZN(_Y),[]);const b=uQ(),[R,D]=QY({scroll:!0,debounce:{scroll:50,resize:0},...r}),L=B.useRef(null),N=B.useRef(null);B.useImperativeHandle(P,()=>L.current);const z=nU(A),[k,V]=B.useState(!1),[W,Y]=B.useState(!1);if(k)throw k;if(W)throw W;const O=B.useRef(null);Wg(()=>{const H=L.current;D.width>0&&D.height>0&&H&&(O.current||(O.current=JY(H)),O.current.configure({gl:s,events:o,shadows:c,linear:u,flat:f,legacy:d,orthographic:m,frameloop:g,dpr:v,performance:y,raycaster:x,camera:_,scene:w,size:D,onPointerMissed:(...G)=>z.current==null?void 0:z.current(...G),onCreated:G=>{G.events.connect==null||G.events.connect(a?DY(a)?a.current:a:N.current),l&&G.setEvents({compute:(X,Z)=>{const re=X[l+"X"],ie=X[l+"Y"];Z.pointer.set(re/Z.size.width*2-1,-(ie/Z.size.height)*2+1),Z.raycaster.setFromCamera(Z.pointer,Z.camera)}}),C==null||C(G)}}),O.current.render(B.createElement(b,null,B.createElement(rU,{set:Y},B.createElement(B.Suspense,{fallback:B.createElement(BY,{set:V})},e)))))}),B.useEffect(()=>{const H=L.current;if(H)return()=>fU(H)},[]);const U=a?"none":"auto";return B.createElement("div",Kt({ref:N,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:U,...i}},E),B.createElement("div",{ref:R,style:{width:"100%",height:"100%"}},B.createElement("canvas",{ref:L,style:{display:"block"}},t)))}),hQ=B.forwardRef(function(e,t){return B.createElement(mU,null,B.createElement(dQ,Kt({},e,{ref:t})))});function XC(n){return function(e){n.forEach(function(t){typeof t=="function"?t(e):t!=null&&(t.current=e)})}}function cm(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function nM(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function pQ(n,e){if(n){if(typeof n=="string")return nM(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return nM(n,e)}}function mQ(n){if(Array.isArray(n))return nM(n)}function gQ(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function vQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yQ(n){return mQ(n)||gQ(n)||pQ(n)||vQ()}new De;new De;function _Q(n,e,t){return Math.max(e,Math.min(t,n))}function xQ(n,e){return _Q(n-Math.floor(n/e)*e,0,e)}function wQ(n,e){var t=xQ(e-n,Math.PI*2);return t>Math.PI&&(t-=Math.PI*2),t}function gU(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var Es=function n(e,t,r){var i=this;gU(this,n),cm(this,"dot2",function(s,o){return i.x*s+i.y*o}),cm(this,"dot3",function(s,o,a){return i.x*s+i.y*o+i.z*a}),this.x=e,this.y=t,this.z=r},SQ=[new Es(1,1,0),new Es(-1,1,0),new Es(1,-1,0),new Es(-1,-1,0),new Es(1,0,1),new Es(-1,0,1),new Es(1,0,-1),new Es(-1,0,-1),new Es(0,1,1),new Es(0,-1,1),new Es(0,1,-1),new Es(0,-1,-1)],PD=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],RD=new Array(512),DD=new Array(512),AQ=function(e){e>0&&e<1&&(e*=65536),e=Math.floor(e),e<256&&(e|=e<<8);for(var t=0;t<256;t++){var r;t&1?r=PD[t]^e&255:r=PD[t]^e>>8&255,RD[t]=RD[t+256]=r,DD[t]=DD[t+256]=SQ[r%12]}};AQ(0);function bQ(n){if(typeof n=="number")n=Math.abs(n);else if(typeof n=="string"){var e=n;n=0;for(var t=0;t<e.length;t++)n=(n+(t+1)*(e.charCodeAt(t)%96))%2147483647}return n===0&&(n=311),n}function BD(n){var e=bQ(n);return function(){var t=e*48271%2147483647;return e=t,t/2147483647}}var MQ=function n(e){var t=this;gU(this,n),cm(this,"seed",0),cm(this,"init",function(r){t.seed=r,t.value=BD(r)}),cm(this,"value",BD(this.seed)),this.init(e)};new MQ(Math.random());var CQ=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.01,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1/(2*Math.PI);return r/Math.atan(1/t)*Math.atan(Math.sin(2*Math.PI*e*i)/t)},vU=function(e){return 1/(1+e+.48*e*e+.235*e*e*e)},EQ=function(e){return e},TQ={in:function(e){return 1-Math.cos(e*Math.PI/2)},out:function(e){return Math.sin(e*Math.PI/2)},inOut:function(e){return-(Math.cos(Math.PI*e)-1)/2}},PQ={in:function(e){return e*e*e},out:function(e){return 1-Math.pow(1-e,3)},inOut:function(e){return e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2}},RQ={in:function(e){return e*e*e*e*e},out:function(e){return 1-Math.pow(1-e,5)},inOut:function(e){return e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2}},DQ={in:function(e){return 1-Math.sqrt(1-Math.pow(e,2))},out:function(e){return Math.sqrt(1-Math.pow(e-1,2))},inOut:function(e){return e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2}},BQ={in:function(e){return e*e*e*e},out:function(e){return 1- --e*e*e*e},inOut:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e}},IQ={in:function(e){return e===0?0:Math.pow(2,10*e-10)},out:function(e){return e===1?1:1-Math.pow(2,-10*e)},inOut:function(e){return e===0?0:e===1?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2}};function fr(n,e,t){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.25,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:.01,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:1/0,o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:vU,a=arguments.length>7&&arguments[7]!==void 0?arguments[7]:.001,l="velocity_"+e;if(n.__damp===void 0&&(n.__damp={}),n.__damp[l]===void 0&&(n.__damp[l]=0),Math.abs(n[e]-t)<=a)return n[e]=t,!1;r=Math.max(1e-4,r);var c=2/r,u=o(c*i),f=n[e]-t,d=t,m=s*r;f=Math.min(Math.max(f,-m),m),t=n[e]-f;var g=(n.__damp[l]+c*f)*i;n.__damp[l]=(n.__damp[l]-c*g)*u;var v=t+(f+g)*u;return d-n[e]>0==v>d&&(v=d,n.__damp[l]=(v-d)/i),n[e]=v,!0}var LQ=function(e){return e&&e.isCamera},kQ=function(e){return e&&e.isLight},Mp=new $,ID=new pn,LD=new pn,Cp=new qe,MS=new $;function OQ(n,e,t,r,i,s,o){typeof e=="number"?Mp.setScalar(e):Array.isArray(e)?Mp.set(e[0],e[1],e[2]):Mp.copy(e);var a=n.parent;n.updateWorldMatrix(!0,!1),MS.setFromMatrixPosition(n.matrixWorld),LQ(n)||kQ(n)?Cp.lookAt(MS,Mp,n.up):Cp.lookAt(Mp,MS,n.up),R1(n.quaternion,LD.setFromRotationMatrix(Cp),t,r,i,s,o),a&&(Cp.extractRotation(a.matrixWorld),ID.setFromRotationMatrix(Cp),R1(n.quaternion,LD.copy(n.quaternion).premultiply(ID.invert()),t,r,i,s,o))}function Nd(n,e,t,r,i,s,o,a){return fr(n,e,n[e]+wQ(n[e],t),r,i,s,o,a)}var Ep=new De,kD,OD;function FQ(n,e,t,r,i,s,o){return typeof e=="number"?Ep.setScalar(e):Array.isArray(e)?Ep.set(e[0],e[1]):Ep.copy(e),kD=fr(n,"x",Ep.x,t,r,i,s,o),OD=fr(n,"y",Ep.y,t,r,i,s,o),kD||OD}var Yf=new $,FD,ND,UD;function rM(n,e,t,r,i,s,o){return typeof e=="number"?Yf.setScalar(e):Array.isArray(e)?Yf.set(e[0],e[1],e[2]):Yf.copy(e),FD=fr(n,"x",Yf.x,t,r,i,s,o),ND=fr(n,"y",Yf.y,t,r,i,s,o),UD=fr(n,"z",Yf.z,t,r,i,s,o),FD||ND||UD}var Kc=new Ct,zD,GD,HD,VD;function NQ(n,e,t,r,i,s,o){return typeof e=="number"?Kc.setScalar(e):Array.isArray(e)?Kc.set(e[0],e[1],e[2],e[3]):Kc.copy(e),zD=fr(n,"x",Kc.x,t,r,i,s,o),GD=fr(n,"y",Kc.y,t,r,i,s,o),HD=fr(n,"z",Kc.z,t,r,i,s,o),VD=fr(n,"w",Kc.w,t,r,i,s,o),zD||GD||HD||VD}var Tp=new ns,WD,jD,$D;function UQ(n,e,t,r,i,s,o){return Array.isArray(e)?Tp.set(e[0],e[1],e[2],e[3]):Tp.copy(e),WD=Nd(n,"x",Tp.x,t,r,i,s,o),jD=Nd(n,"y",Tp.y,t,r,i,s,o),$D=Nd(n,"z",Tp.z,t,r,i,s,o),WD||jD||$D}var Qf=new He,XD,JD,KD;function zQ(n,e,t,r,i,s,o){return e instanceof He?Qf.copy(e):Array.isArray(e)?Qf.setRGB(e[0],e[1],e[2]):Qf.set(e),XD=fr(n,"r",Qf.r,t,r,i,s,o),JD=fr(n,"g",Qf.g,t,r,i,s,o),KD=fr(n,"b",Qf.b,t,r,i,s,o),XD||JD||KD}var ao=new pn,va=new Ct,YD=new Ct,Pp=new Ct,QD,qD,ZD,eB;function R1(n,e,t,r,i,s,o){var a=n;Array.isArray(e)?ao.set(e[0],e[1],e[2],e[3]):ao.copy(e);var l=n.dot(ao)>0?1:-1;return ao.x*=l,ao.y*=l,ao.z*=l,ao.w*=l,QD=fr(n,"x",ao.x,t,r,i,s,o),qD=fr(n,"y",ao.y,t,r,i,s,o),ZD=fr(n,"z",ao.z,t,r,i,s,o),eB=fr(n,"w",ao.w,t,r,i,s,o),va.set(n.x,n.y,n.z,n.w).normalize(),YD.set(a.__damp.velocity_x,a.__damp.velocity_y,a.__damp.velocity_z,a.__damp.velocity_w),Pp.copy(va).multiplyScalar(YD.dot(va)/va.dot(va)),a.__damp.velocity_x-=Pp.x,a.__damp.velocity_y-=Pp.y,a.__damp.velocity_z-=Pp.z,a.__damp.velocity_w-=Pp.w,n.set(va.x,va.y,va.z,va.w),QD||qD||ZD||eB}var Rp=new WN,tB,nB,rB;function GQ(n,e,t,r,i,s,o){return Array.isArray(e)?Rp.set(e[0],e[1],e[2]):Rp.copy(e),tB=fr(n,"radius",Rp.radius,t,r,i,s,o),nB=Nd(n,"phi",Rp.phi,t,r,i,s,o),rB=Nd(n,"theta",Rp.theta,t,r,i,s,o),tB||nB||rB}var ny=new qe,iB=new $,sB=new pn,oB=new $,aB,lB,cB;function HQ(n,e,t,r,i,s,o){var a=n;return a.__damp===void 0&&(a.__damp={position:new $,rotation:new pn,scale:new $},n.decompose(a.__damp.position,a.__damp.rotation,a.__damp.scale)),Array.isArray(e)?ny.set.apply(ny,yQ(e)):ny.copy(e),ny.decompose(iB,sB,oB),aB=rM(a.__damp.position,iB,t,r,i,s,o),lB=R1(a.__damp.rotation,sB,t,r,i,s,o),cB=rM(a.__damp.scale,oB,t,r,i,s,o),n.compose(a.__damp.position,a.__damp.rotation,a.__damp.scale),aB||lB||cB}var uB=Object.freeze({__proto__:null,rsqw:CQ,exp:vU,linear:EQ,sine:TQ,cubic:PQ,quint:RQ,circ:DQ,quart:BQ,expo:IQ,damp:fr,dampLookAt:OQ,dampAngle:Nd,damp2:FQ,damp3:rM,damp4:NQ,dampE:UQ,dampC:zQ,dampQ:R1,dampS:GQ,dampM:HQ});const JC=B.createContext(null);function jg(){return B.useContext(JC)}function VQ({eps:n=1e-5,enabled:e=!0,infinite:t,horizontal:r,pages:i=1,distance:s=1,damping:o=.25,maxSpeed:a=1/0,style:l={},children:c}){const{get:u,setEvents:f,gl:d,size:m,invalidate:g,events:v}=Sc(),[y]=B.useState(()=>document.createElement("div")),[x]=B.useState(()=>document.createElement("div")),[_]=B.useState(()=>document.createElement("div")),w=d.domElement.parentNode,A=B.useRef(0),C=B.useMemo(()=>({el:y,eps:n,fill:x,fixed:_,horizontal:r,damping:o,offset:0,delta:0,scroll:A,pages:i,range(b,R,D=0){const L=b-D,N=L+R+D*2;return this.offset<L?0:this.offset>N?1:(this.offset-L)/(N-L)},curve(b,R,D=0){return Math.sin(this.range(b,R,D)*Math.PI)},visible(b,R,D=0){const L=b-D,N=L+R+D*2;return this.offset>=L&&this.offset<=N}}),[n,o,r,i]);B.useEffect(()=>{y.style.position="absolute",y.style.width="100%",y.style.height="100%",y.style[r?"overflowX":"overflowY"]="auto",y.style[r?"overflowY":"overflowX"]="hidden",y.style.top="0px",y.style.left="0px";for(const R in l)y.style[R]=l[R];_.style.position="sticky",_.style.top="0px",_.style.left="0px",_.style.width="100%",_.style.height="100%",_.style.overflow="hidden",y.appendChild(_),x.style.height=r?"100%":`${i*s*100}%`,x.style.width=r?`${i*s*100}%`:"100%",x.style.pointerEvents="none",y.appendChild(x),w.appendChild(y),y[r?"scrollLeft":"scrollTop"]=1;const P=v.connected||d.domElement;requestAnimationFrame(()=>v.connect==null?void 0:v.connect(y));const b=u().events.compute;return f({compute(R,D){const{left:L,top:N}=w.getBoundingClientRect(),z=R.clientX-L,k=R.clientY-N;D.pointer.set(z/D.size.width*2-1,-(k/D.size.height)*2+1),D.raycaster.setFromCamera(D.pointer,D.camera)}}),()=>{w.removeChild(y),f({compute:b}),v.connect==null||v.connect(P)}},[i,s,r,y,x,_,w]),B.useEffect(()=>{if(v.connected===y){const P=m[r?"width":"height"],b=y[r?"scrollWidth":"scrollHeight"],R=b-P;let D=0,L=!0,N=!0;const z=()=>{if(!(!e||N)&&(g(),D=y[r?"scrollLeft":"scrollTop"],A.current=D/R,t)){if(!L){if(D>=R){const V=1-C.offset;y[r?"scrollLeft":"scrollTop"]=1,A.current=C.offset=-V,L=!0}else if(D<=0){const V=1+C.offset;y[r?"scrollLeft":"scrollTop"]=b,A.current=C.offset=V,L=!0}}L&&setTimeout(()=>L=!1,40)}};y.addEventListener("scroll",z,{passive:!0}),requestAnimationFrame(()=>N=!1);const k=V=>y.scrollLeft+=V.deltaY/2;return r&&y.addEventListener("wheel",k,{passive:!0}),()=>{y.removeEventListener("scroll",z),r&&y.removeEventListener("wheel",k)}}},[y,v,m,t,C,g,r,e]);let E=0;return hs((P,b)=>{E=C.offset,uB.damp(C,"offset",A.current,o,b,a,void 0,n),uB.damp(C,"delta",Math.abs(E-C.offset),o,b,a,void 0,n),C.delta>n&&g()}),B.createElement(JC.Provider,{value:C},c)}const WQ=B.forwardRef(({children:n},e)=>{const t=B.useRef(null),r=jg(),{width:i,height:s}=Sc(o=>o.viewport);return hs(()=>{t.current.position.x=r.horizontal?-i*(r.pages-1)*r.offset:0,t.current.position.y=r.horizontal?0:s*(r.pages-1)*r.offset}),B.createElement("group",{ref:XC([e,t])},n)}),jQ=B.forwardRef(({children:n,style:e,...t},r)=>{const i=jg(),s=B.useRef(null),{width:o,height:a}=Sc(u=>u.size),l=B.useContext(T1),c=B.useMemo(()=>ZF(i.fixed),[i.fixed]);return hs(()=>{i.delta>i.eps&&(s.current.style.transform=`translate3d(${i.horizontal?-o*(i.pages-1)*i.offset:0}px,${i.horizontal?0:a*(i.pages-1)*-i.offset}px,0)`)}),c.render(B.createElement("div",Kt({ref:XC([r,s]),style:{...e,position:"absolute",top:0,left:0,willChange:"transform"}},t),B.createElement(JC.Provider,{value:i},B.createElement(T1.Provider,{value:l},n)))),null}),fB=B.forwardRef(({html:n,...e},t)=>{const r=n?jQ:WQ;return B.createElement(r,Kt({ref:t},e))});function $Q(n,e,t){return Math.max(e,Math.min(n,t))}const Xr={toVector(n,e){return n===void 0&&(n=e),Array.isArray(n)?n:[n,n]},add(n,e){return[n[0]+e[0],n[1]+e[1]]},sub(n,e){return[n[0]-e[0],n[1]-e[1]]},addTo(n,e){n[0]+=e[0],n[1]+=e[1]},subTo(n,e){n[0]-=e[0],n[1]-=e[1]}};function dB(n,e,t){return e===0||Math.abs(e)===1/0?Math.pow(n,t*5):n*e*t/(e+t*n)}function hB(n,e,t,r=.15){return r===0?$Q(n,e,t):n<e?-dB(e-n,t-e,r)+e:n>t?+dB(n-t,t-e,r)+t:n}function XQ(n,[e,t],[r,i]){const[[s,o],[a,l]]=n;return[hB(e,s,o,r),hB(t,a,l,i)]}function JQ(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function KQ(n){var e=JQ(n,"string");return typeof e=="symbol"?e:String(e)}function bi(n,e,t){return e=KQ(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function pB(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Pn(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?pB(Object(t),!0).forEach(function(r){bi(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):pB(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}const yU={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function mB(n){return n?n[0].toUpperCase()+n.slice(1):""}const YQ=["enter","leave"];function QQ(n=!1,e){return n&&!YQ.includes(e)}function qQ(n,e="",t=!1){const r=yU[n],i=r&&r[e]||e;return"on"+mB(n)+mB(i)+(QQ(t,i)?"Capture":"")}const ZQ=["gotpointercapture","lostpointercapture"];function eq(n){let e=n.substring(2).toLowerCase();const t=!!~e.indexOf("passive");t&&(e=e.replace("passive",""));const r=ZQ.includes(e)?"capturecapture":"capture",i=!!~e.indexOf(r);return i&&(e=e.replace("capture","")),{device:e,capture:i,passive:t}}function tq(n,e=""){const t=yU[n],r=t&&t[e]||e;return n+r}function X_(n){return"touches"in n}function _U(n){return X_(n)?"touch":"pointerType"in n?n.pointerType:"mouse"}function nq(n){return Array.from(n.touches).filter(e=>{var t,r;return e.target===n.currentTarget||((t=n.currentTarget)===null||t===void 0||(r=t.contains)===null||r===void 0?void 0:r.call(t,e.target))})}function rq(n){return n.type==="touchend"||n.type==="touchcancel"?n.changedTouches:n.targetTouches}function xU(n){return X_(n)?rq(n)[0]:n}function iq(n){return nq(n).map(e=>e.identifier)}function CS(n){const e=xU(n);return X_(n)?e.identifier:e.pointerId}function gB(n){const e=xU(n);return[e.clientX,e.clientY]}function sq(n){const e={};if("buttons"in n&&(e.buttons=n.buttons),"shiftKey"in n){const{shiftKey:t,altKey:r,metaKey:i,ctrlKey:s}=n;Object.assign(e,{shiftKey:t,altKey:r,metaKey:i,ctrlKey:s})}return e}function D1(n,...e){return typeof n=="function"?n(...e):n}function oq(){}function aq(...n){return n.length===0?oq:n.length===1?n[0]:function(){let e;for(const t of n)e=t.apply(this,arguments)||e;return e}}function vB(n,e){return Object.assign({},e,n||{})}const lq=32;class cq{constructor(e,t,r){this.ctrl=e,this.args=t,this.key=r,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:e,shared:t,ingKey:r,args:i}=this;t[r]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=i,e.axis=void 0,e.memo=void 0,e.elapsedTime=e.timeDelta=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){const t=this.state,r=this.config;t._active||(this.reset(),this.computeInitial(),t._active=!0,t.target=e.target,t.currentTarget=e.currentTarget,t.lastOffset=r.from?D1(r.from,t):t.offset,t.offset=t.lastOffset,t.startTime=t.timeStamp=e.timeStamp)}computeValues(e){const t=this.state;t._values=e,t.values=this.config.transform(e)}computeInitial(){const e=this.state;e._initial=e._values,e.initial=e.values}compute(e){const{state:t,config:r,shared:i}=this;t.args=this.args;let s=0;if(e&&(t.event=e,r.preventDefault&&e.cancelable&&t.event.preventDefault(),t.type=e.type,i.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,i.locked=!!document.pointerLockElement,Object.assign(i,sq(e)),i.down=i.pressed=i.buttons%2===1||i.touches>0,s=e.timeStamp-t.timeStamp,t.timeStamp=e.timeStamp,t.elapsedTime=t.timeStamp-t.startTime),t._active){const E=t._delta.map(Math.abs);Xr.addTo(t._distance,E)}this.axisIntent&&this.axisIntent(e);const[o,a]=t._movement,[l,c]=r.threshold,{_step:u,values:f}=t;if(r.hasCustomTransform?(u[0]===!1&&(u[0]=Math.abs(o)>=l&&f[0]),u[1]===!1&&(u[1]=Math.abs(a)>=c&&f[1])):(u[0]===!1&&(u[0]=Math.abs(o)>=l&&Math.sign(o)*l),u[1]===!1&&(u[1]=Math.abs(a)>=c&&Math.sign(a)*c)),t.intentional=u[0]!==!1||u[1]!==!1,!t.intentional)return;const d=[0,0];if(r.hasCustomTransform){const[E,P]=f;d[0]=u[0]!==!1?E-u[0]:0,d[1]=u[1]!==!1?P-u[1]:0}else d[0]=u[0]!==!1?o-u[0]:0,d[1]=u[1]!==!1?a-u[1]:0;this.restrictToAxis&&!t._blocked&&this.restrictToAxis(d);const m=t.offset,g=t._active&&!t._blocked||t.active;g&&(t.first=t._active&&!t.active,t.last=!t._active&&t.active,t.active=i[this.ingKey]=t._active,e&&(t.first&&("bounds"in r&&(t._bounds=D1(r.bounds,t)),this.setup&&this.setup()),t.movement=d,this.computeOffset()));const[v,y]=t.offset,[[x,_],[w,A]]=t._bounds;t.overflow=[v<x?-1:v>_?1:0,y<w?-1:y>A?1:0],t._movementBound[0]=t.overflow[0]?t._movementBound[0]===!1?t._movement[0]:t._movementBound[0]:!1,t._movementBound[1]=t.overflow[1]?t._movementBound[1]===!1?t._movement[1]:t._movementBound[1]:!1;const C=t._active?r.rubberband||[0,0]:[0,0];if(t.offset=XQ(t._bounds,t.offset,C),t.delta=Xr.sub(t.offset,m),this.computeMovement(),g&&(!t.last||s>lq)){t.delta=Xr.sub(t.offset,m);const E=t.delta.map(Math.abs);Xr.addTo(t.distance,E),t.direction=t.delta.map(Math.sign),t._direction=t._delta.map(Math.sign),!t.first&&s>0&&(t.velocity=[E[0]/s,E[1]/s],t.timeDelta=s)}}emit(){const e=this.state,t=this.shared,r=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!r.triggerAllEvents)return;const i=this.handler(Pn(Pn(Pn({},t),e),{},{[this.aliasKey]:e.values}));i!==void 0&&(e.memo=i)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function uq([n,e],t){const r=Math.abs(n),i=Math.abs(e);if(r>i&&r>t)return"x";if(i>r&&i>t)return"y"}class fq extends cq{constructor(...e){super(...e),bi(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=Xr.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=Xr.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){const t=this.state,r=this.config;if(!t.axis&&e){const i=typeof r.axisThreshold=="object"?r.axisThreshold[_U(e)]:r.axisThreshold;t.axis=uq(t._movement,i)}t._blocked=(r.lockDirection||!!r.axis)&&!t.axis||!!r.axis&&r.axis!==t.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0;break}}}const dq=n=>n,yB=.15,wU={enabled(n=!0){return n},eventOptions(n,e,t){return Pn(Pn({},t.shared.eventOptions),n)},preventDefault(n=!1){return n},triggerAllEvents(n=!1){return n},rubberband(n=0){switch(n){case!0:return[yB,yB];case!1:return[0,0];default:return Xr.toVector(n)}},from(n){if(typeof n=="function")return n;if(n!=null)return Xr.toVector(n)},transform(n,e,t){const r=n||t.shared.transform;return this.hasCustomTransform=!!r,r||dq},threshold(n){return Xr.toVector(n,0)}},hq=0,$g=Pn(Pn({},wU),{},{axis(n,e,{axis:t}){if(this.lockDirection=t==="lock",!this.lockDirection)return t},axisThreshold(n=hq){return n},bounds(n={}){if(typeof n=="function")return s=>$g.bounds(n(s));if("current"in n)return()=>n.current;if(typeof HTMLElement=="function"&&n instanceof HTMLElement)return n;const{left:e=-1/0,right:t=1/0,top:r=-1/0,bottom:i=1/0}=n;return[[e,t],[r,i]]}}),_B={ArrowRight:(n,e=1)=>[n*e,0],ArrowLeft:(n,e=1)=>[-1*n*e,0],ArrowUp:(n,e=1)=>[0,-1*n*e],ArrowDown:(n,e=1)=>[0,n*e]};class pq extends fq{constructor(...e){super(...e),bi(this,"ingKey","dragging")}reset(){super.reset();const e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}setup(){const e=this.state;if(e._bounds instanceof HTMLElement){const t=e._bounds.getBoundingClientRect(),r=e.currentTarget.getBoundingClientRect(),i={left:t.left-r.left+e.offset[0],right:t.right-r.right+e.offset[0],top:t.top-r.top+e.offset[1],bottom:t.bottom-r.bottom+e.offset[1]};e._bounds=$g.bounds(i)}}cancel(){const e=this.state;e.canceled||(e.canceled=!0,e._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(e){const t=this.config,r=this.state;if(e.buttons!=null&&(Array.isArray(t.pointerButtons)?!t.pointerButtons.includes(e.buttons):t.pointerButtons!==-1&&t.pointerButtons!==e.buttons))return;const i=this.ctrl.setEventIds(e);t.pointerCapture&&e.target.setPointerCapture(e.pointerId),!(i&&i.size>1&&r._pointerActive)&&(this.start(e),this.setupPointer(e),r._pointerId=CS(e),r._pointerActive=!0,this.computeValues(gB(e)),this.computeInitial(),t.preventScrollAxis&&_U(e)!=="mouse"?(r._active=!1,this.setupScrollPrevention(e)):t.delay>0?(this.setupDelayTrigger(e),t.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}startPointerDrag(e){const t=this.state;t._active=!0,t._preventScroll=!0,t._delayed=!1,this.compute(e),this.emit()}pointerMove(e){const t=this.state,r=this.config;if(!t._pointerActive)return;const i=CS(e);if(t._pointerId!==void 0&&i!==t._pointerId)return;const s=gB(e);if(document.pointerLockElement===e.target?t._delta=[e.movementX,e.movementY]:(t._delta=Xr.sub(s,t._values),this.computeValues(s)),Xr.addTo(t._movement,t._delta),this.compute(e),t._delayed&&t.intentional){this.timeoutStore.remove("dragDelay"),t.active=!1,this.startPointerDrag(e);return}if(r.preventScrollAxis&&!t._preventScroll)if(t.axis)if(t.axis===r.preventScrollAxis||r.preventScrollAxis==="xy"){t._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(e);return}else return;this.emit()}pointerUp(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch{}const t=this.state,r=this.config;if(!t._active||!t._pointerActive)return;const i=CS(e);if(t._pointerId!==void 0&&i!==t._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(e);const[s,o]=t._distance;if(t.tap=s<=r.tapsThreshold&&o<=r.tapsThreshold,t.tap&&r.filterTaps)t._force=!0;else{const[a,l]=t._delta,[c,u]=t._movement,[f,d]=r.swipe.velocity,[m,g]=r.swipe.distance,v=r.swipe.duration;if(t.elapsedTime<v){const y=Math.abs(a/t.timeDelta),x=Math.abs(l/t.timeDelta);y>f&&Math.abs(c)>m&&(t.swipe[0]=Math.sign(a)),x>d&&Math.abs(u)>g&&(t.swipe[1]=Math.sign(l))}}this.emit()}pointerClick(e){!this.state.tap&&e.detail>0&&(e.preventDefault(),e.stopPropagation())}setupPointer(e){const t=this.config,r=t.device;t.pointerLock&&e.currentTarget.requestPointerLock(),t.pointerCapture||(this.eventStore.add(this.sharedConfig.window,r,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}setupScrollPrevention(e){this.state._preventScroll=!1,mq(e);const t=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",t),this.eventStore.add(this.sharedConfig.window,"touch","cancel",t),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}setupDelayTrigger(e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(e)},this.config.delay)}keyDown(e){const t=_B[e.key];if(t){const r=this.state,i=e.shiftKey?10:e.altKey?.1:1;this.start(e),r._delta=t(this.config.keyboardDisplacement,i),r._keyboardActive=!0,Xr.addTo(r._movement,r._delta),this.compute(e),this.emit()}}keyUp(e){e.key in _B&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}bind(e){const t=this.config.device;e(t,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(t,"change",this.pointerMove.bind(this)),e(t,"end",this.pointerUp.bind(this)),e(t,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function mq(n){"persist"in n&&typeof n.persist=="function"&&n.persist()}const Xg=typeof window<"u"&&window.document&&window.document.createElement;function SU(){return Xg&&"ontouchstart"in window}function gq(){return SU()||Xg&&window.navigator.maxTouchPoints>1}function vq(){return Xg&&"onpointerdown"in window}function yq(){return Xg&&"exitPointerLock"in window.document}function _q(){try{return"constructor"in GestureEvent}catch{return!1}}const Fs={isBrowser:Xg,gesture:_q(),touch:SU(),touchscreen:gq(),pointer:vq(),pointerLock:yq()},xq=250,wq=180,Sq=.5,Aq=50,bq=250,Mq=10,xB={mouse:0,touch:0,pen:8},Cq=Pn(Pn({},$g),{},{device(n,e,{pointer:{touch:t=!1,lock:r=!1,mouse:i=!1}={}}){return this.pointerLock=r&&Fs.pointerLock,Fs.touch&&t?"touch":this.pointerLock?"mouse":Fs.pointer&&!i?"pointer":Fs.touch?"touch":"mouse"},preventScrollAxis(n,e,{preventScroll:t}){if(this.preventScrollDelay=typeof t=="number"?t:t||t===void 0&&n?xq:void 0,!(!Fs.touchscreen||t===!1))return n||(t!==void 0?"y":void 0)},pointerCapture(n,e,{pointer:{capture:t=!0,buttons:r=1,keys:i=!0}={}}){return this.pointerButtons=r,this.keys=i,!this.pointerLock&&this.device==="pointer"&&t},threshold(n,e,{filterTaps:t=!1,tapsThreshold:r=3,axis:i=void 0}){const s=Xr.toVector(n,t?r:i?1:0);return this.filterTaps=t,this.tapsThreshold=r,s},swipe({velocity:n=Sq,distance:e=Aq,duration:t=bq}={}){return{velocity:this.transform(Xr.toVector(n)),distance:this.transform(Xr.toVector(e)),duration:t}},delay(n=0){switch(n){case!0:return wq;case!1:return 0;default:return n}},axisThreshold(n){return n?Pn(Pn({},xB),n):xB},keyboardDisplacement(n=Mq){return n}});Pn(Pn({},wU),{},{device(n,e,{shared:t,pointer:{touch:r=!1}={}}){if(t.target&&!Fs.touch&&Fs.gesture)return"gesture";if(Fs.touch&&r)return"touch";if(Fs.touchscreen){if(Fs.pointer)return"pointer";if(Fs.touch)return"touch"}},bounds(n,e,{scaleBounds:t={},angleBounds:r={}}){const i=o=>{const a=vB(D1(t,o),{min:-1/0,max:1/0});return[a.min,a.max]},s=o=>{const a=vB(D1(r,o),{min:-1/0,max:1/0});return[a.min,a.max]};return typeof t!="function"&&typeof r!="function"?[i(),s()]:o=>[i(o),s(o)]},threshold(n,e,t){return this.lockDirection=t.axis==="lock",Xr.toVector(n,this.lockDirection?[.1,3]:0)},modifierKey(n){return n===void 0?"ctrlKey":n},pinchOnWheel(n=!0){return n}});Pn(Pn({},$g),{},{mouseOnly:(n=!0)=>n});Pn(Pn({},$g),{},{mouseOnly:(n=!0)=>n});const AU=new Map,iM=new Map;function Eq(n){AU.set(n.key,n.engine),iM.set(n.key,n.resolver)}const Tq={key:"drag",engine:pq,resolver:Cq};function Pq(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function Rq(n,e){if(n==null)return{};var t=Pq(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}const Dq={target(n){if(n)return()=>"current"in n?n.current:n},enabled(n=!0){return n},window(n=Fs.isBrowser?window:void 0){return n},eventOptions({passive:n=!0,capture:e=!1}={}){return{passive:n,capture:e}},transform(n){return n}},Bq=["target","eventOptions","window","enabled","transform"];function jy(n={},e){const t={};for(const[r,i]of Object.entries(e))switch(typeof i){case"function":t[r]=i.call(t,n[r],r,n);break;case"object":t[r]=jy(n[r],i);break;case"boolean":i&&(t[r]=n[r]);break}return t}function Iq(n,e,t={}){const r=n,{target:i,eventOptions:s,window:o,enabled:a,transform:l}=r,c=Rq(r,Bq);if(t.shared=jy({target:i,eventOptions:s,window:o,enabled:a,transform:l},Dq),e){const u=iM.get(e);t[e]=jy(Pn({shared:t.shared},c),u)}else for(const u in c){const f=iM.get(u);f&&(t[u]=jy(Pn({shared:t.shared},c[u]),f))}return t}class bU{constructor(e,t){bi(this,"_listeners",new Set),this._ctrl=e,this._gestureKey=t}add(e,t,r,i,s){const o=this._listeners,a=tq(t,r),l=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},c=Pn(Pn({},l),s);e.addEventListener(a,i,c);const u=()=>{e.removeEventListener(a,i,c),o.delete(u)};return o.add(u),u}clean(){this._listeners.forEach(e=>e()),this._listeners.clear()}}class Lq{constructor(){bi(this,"_timeouts",new Map)}add(e,t,r=140,...i){this.remove(e),this._timeouts.set(e,window.setTimeout(t,r,...i))}remove(e){const t=this._timeouts.get(e);t&&window.clearTimeout(t)}clean(){this._timeouts.forEach(e=>void window.clearTimeout(e)),this._timeouts.clear()}}class kq{constructor(e){bi(this,"gestures",new Set),bi(this,"_targetEventStore",new bU(this)),bi(this,"gestureEventStores",{}),bi(this,"gestureTimeoutStores",{}),bi(this,"handlers",{}),bi(this,"config",{}),bi(this,"pointerIds",new Set),bi(this,"touchIds",new Set),bi(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),Oq(this,e)}setEventIds(e){if(X_(e))return this.touchIds=new Set(iq(e)),this.touchIds;if("pointerId"in e)return e.type==="pointerup"||e.type==="pointercancel"?this.pointerIds.delete(e.pointerId):e.type==="pointerdown"&&this.pointerIds.add(e.pointerId),this.pointerIds}applyHandlers(e,t){this.handlers=e,this.nativeHandlers=t}applyConfig(e,t){this.config=Iq(e,t,this.config)}clean(){this._targetEventStore.clean();for(const e of this.gestures)this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...e){const t=this.config.shared,r={};let i;if(!(t.target&&(i=t.target(),!i))){if(t.enabled){for(const o of this.gestures){const a=this.config[o],l=wB(r,a.eventOptions,!!i);if(a.enabled){const c=AU.get(o);new c(this,e,o).bind(l)}}const s=wB(r,t.eventOptions,!!i);for(const o in this.nativeHandlers)s(o,"",a=>this.nativeHandlers[o](Pn(Pn({},this.state.shared),{},{event:a,args:e})),void 0,!0)}for(const s in r)r[s]=aq(...r[s]);if(!i)return r;for(const s in r){const{device:o,capture:a,passive:l}=eq(s);this._targetEventStore.add(i,o,"",r[s],{capture:a,passive:l})}}}}function qf(n,e){n.gestures.add(e),n.gestureEventStores[e]=new bU(n,e),n.gestureTimeoutStores[e]=new Lq}function Oq(n,e){e.drag&&qf(n,"drag"),e.wheel&&qf(n,"wheel"),e.scroll&&qf(n,"scroll"),e.move&&qf(n,"move"),e.pinch&&qf(n,"pinch"),e.hover&&qf(n,"hover")}const wB=(n,e,t)=>(r,i,s,o={},a=!1)=>{var l,c;const u=(l=o.capture)!==null&&l!==void 0?l:e.capture,f=(c=o.passive)!==null&&c!==void 0?c:e.passive;let d=a?r:qQ(r,i,u);t&&f&&(d+="Passive"),n[d]=n[d]||[],n[d].push(s)};function Fq(n,e={},t,r){const i=ee.useMemo(()=>new kq(n),[]);if(i.applyHandlers(n,r),i.applyConfig(e,t),ee.useEffect(i.effect.bind(i)),ee.useEffect(()=>i.clean.bind(i),[]),e.target===void 0)return i.bind.bind(i)}function Nq(n,e){return Eq(Tq),Fq({drag:n},e||{},"drag")}const Uq=n=>(e,t,r)=>{const i=r.subscribe;return r.subscribe=(o,a,l)=>{let c=o;if(a){const u=(l==null?void 0:l.equalityFn)||Object.is;let f=o(r.getState());c=d=>{const m=o(d);if(!u(f,m)){const g=f;a(f=m,g)}},l!=null&&l.fireImmediately&&a(f,f)}return i(c)},n(e,t,r)};function SB(n,e){if(e===$4)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),n;if(e===b1||e===dC){let t=n.getIndex();if(t===null){const o=[],a=n.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);n.setIndex(o),t=n.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const r=t.count-2,i=[];if(t)if(e===b1)for(let o=1;o<=r;o++)i.push(t.getX(0)),i.push(t.getX(o)),i.push(t.getX(o+1));else for(let o=0;o<r;o++)o%2===0?(i.push(t.getX(o)),i.push(t.getX(o+1)),i.push(t.getX(o+2))):(i.push(t.getX(o+2)),i.push(t.getX(o+1)),i.push(t.getX(o)));i.length/3!==r&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=n.clone();return s.setIndex(i),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),n}const zq=parseInt(_h.replace(/\D+/g,""));var Us=Uint8Array,zl=Uint16Array,sM=Uint32Array,MU=new Us([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),CU=new Us([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Gq=new Us([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),EU=function(n,e){for(var t=new zl(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var i=new sM(t[30]),r=1;r<30;++r)for(var s=t[r];s<t[r+1];++s)i[s]=s-t[r]<<5|r;return[t,i]},TU=EU(MU,2),PU=TU[0],Hq=TU[1];PU[28]=258,Hq[258]=28;var Vq=EU(CU,0),Wq=Vq[0],oM=new zl(32768);for(var dn=0;dn<32768;++dn){var bl=(dn&43690)>>>1|(dn&21845)<<1;bl=(bl&52428)>>>2|(bl&13107)<<2,bl=(bl&61680)>>>4|(bl&3855)<<4,oM[dn]=((bl&65280)>>>8|(bl&255)<<8)>>>1}var um=function(n,e,t){for(var r=n.length,i=0,s=new zl(e);i<r;++i)++s[n[i]-1];var o=new zl(e);for(i=0;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(t){a=new zl(1<<e);var l=15-e;for(i=0;i<r;++i)if(n[i])for(var c=i<<4|n[i],u=e-n[i],f=o[n[i]-1]++<<u,d=f|(1<<u)-1;f<=d;++f)a[oM[f]>>>l]=c}else for(a=new zl(r),i=0;i<r;++i)n[i]&&(a[i]=oM[o[n[i]-1]++]>>>15-n[i]);return a},Jg=new Us(288);for(var dn=0;dn<144;++dn)Jg[dn]=8;for(var dn=144;dn<256;++dn)Jg[dn]=9;for(var dn=256;dn<280;++dn)Jg[dn]=7;for(var dn=280;dn<288;++dn)Jg[dn]=8;var RU=new Us(32);for(var dn=0;dn<32;++dn)RU[dn]=5;var jq=um(Jg,9,1),$q=um(RU,5,1),ES=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},lo=function(n,e,t){var r=e/8|0;return(n[r]|n[r+1]<<8)>>(e&7)&t},TS=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(e&7)},Xq=function(n){return(n/8|0)+(n&7&&1)},Jq=function(n,e,t){(e==null||e<0)&&(e=0),(t==null||t>n.length)&&(t=n.length);var r=new(n instanceof zl?zl:n instanceof sM?sM:Us)(t-e);return r.set(n.subarray(e,t)),r},Kq=function(n,e,t){var r=n.length;if(!r||t&&!t.l&&r<5)return e||new Us(0);var i=!e||t,s=!t||t.i;t||(t={}),e||(e=new Us(r*3));var o=function(Q){var ue=e.length;if(Q>ue){var he=new Us(Math.max(ue*2,Q));he.set(e),e=he}},a=t.f||0,l=t.p||0,c=t.b||0,u=t.l,f=t.d,d=t.m,m=t.n,g=r*8;do{if(!u){t.f=a=lo(n,l,1);var v=lo(n,l+1,3);if(l+=3,v)if(v==1)u=jq,f=$q,d=9,m=5;else if(v==2){var w=lo(n,l,31)+257,A=lo(n,l+10,15)+4,C=w+lo(n,l+5,31)+1;l+=14;for(var E=new Us(C),P=new Us(19),b=0;b<A;++b)P[Gq[b]]=lo(n,l+b*3,7);l+=A*3;for(var R=ES(P),D=(1<<R)-1,L=um(P,R,1),b=0;b<C;){var N=L[lo(n,l,D)];l+=N&15;var y=N>>>4;if(y<16)E[b++]=y;else{var z=0,k=0;for(y==16?(k=3+lo(n,l,3),l+=2,z=E[b-1]):y==17?(k=3+lo(n,l,7),l+=3):y==18&&(k=11+lo(n,l,127),l+=7);k--;)E[b++]=z}}var V=E.subarray(0,w),W=E.subarray(w);d=ES(V),m=ES(W),u=um(V,d,1),f=um(W,m,1)}else throw"invalid block type";else{var y=Xq(l)+4,x=n[y-4]|n[y-3]<<8,_=y+x;if(_>r){if(s)throw"unexpected EOF";break}i&&o(c+x),e.set(n.subarray(y,_),c),t.b=c+=x,t.p=l=_*8;continue}if(l>g){if(s)throw"unexpected EOF";break}}i&&o(c+131072);for(var Y=(1<<d)-1,O=(1<<m)-1,U=l;;U=l){var z=u[TS(n,l)&Y],H=z>>>4;if(l+=z&15,l>g){if(s)throw"unexpected EOF";break}if(!z)throw"invalid length/literal";if(H<256)e[c++]=H;else if(H==256){U=l,u=null;break}else{var G=H-254;if(H>264){var b=H-257,X=MU[b];G=lo(n,l,(1<<X)-1)+PU[b],l+=X}var Z=f[TS(n,l)&O],re=Z>>>4;if(!Z)throw"invalid distance";l+=Z&15;var W=Wq[re];if(re>3){var X=CU[re];W+=TS(n,l)&(1<<X)-1,l+=X}if(l>g){if(s)throw"unexpected EOF";break}i&&o(c+131072);for(var ie=c+G;c<ie;c+=4)e[c]=e[c-W],e[c+1]=e[c+1-W],e[c+2]=e[c+2-W],e[c+3]=e[c+3-W];c=ie}}t.l=u,t.p=U,t.b=c,u&&(a=1,t.m=d,t.d=f,t.n=m)}while(!a);return c==e.length?e:Jq(e,0,c)},Yq=new Us(0),Qq=function(n){if((n[0]&15)!=8||n[0]>>>4>7||(n[0]<<8|n[1])%31)throw"invalid zlib data";if(n[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function qq(n,e){return Kq((Qq(n),n.subarray(2,-4)),e)}var Zq=typeof TextDecoder<"u"&&new TextDecoder,eZ=0;try{Zq.decode(Yq,{stream:!0}),eZ=1}catch{}class KC extends Qr{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new sZ(t)}),this.register(function(t){return new hZ(t)}),this.register(function(t){return new pZ(t)}),this.register(function(t){return new mZ(t)}),this.register(function(t){return new aZ(t)}),this.register(function(t){return new lZ(t)}),this.register(function(t){return new cZ(t)}),this.register(function(t){return new uZ(t)}),this.register(function(t){return new iZ(t)}),this.register(function(t){return new fZ(t)}),this.register(function(t){return new oZ(t)}),this.register(function(t){return new dZ(t)}),this.register(function(t){return new nZ(t)}),this.register(function(t){return new gZ(t)}),this.register(function(t){return new vZ(t)})}load(e,t,r,i){const s=this;let o;this.resourcePath!==""?o=this.resourcePath:this.path!==""?o=this.path:o=ss.extractUrlBase(e),this.manager.itemStart(e);const a=function(c){i?i(c):console.error(c),s.manager.itemError(e),s.manager.itemEnd(e)},l=new Ni(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{s.parse(c,o,function(u){t(u),s.manager.itemEnd(e)},a)}catch(u){a(u)}},r,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,r,i){let s;const o={},a={};if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(ss.decodeText(new Uint8Array(e.slice(0,4)))===DU){try{o[Ot.KHR_BINARY_GLTF]=new yZ(e)}catch(u){i&&i(u);return}s=JSON.parse(o[Ot.KHR_BINARY_GLTF].content)}else s=JSON.parse(ss.decodeText(new Uint8Array(e)));else s=e;if(s.asset===void 0||s.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const l=new DZ(s,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let c=0;c<this.pluginCallbacks.length;c++){const u=this.pluginCallbacks[c](l);a[u.name]=u,o[u.name]=!0}if(s.extensionsUsed)for(let c=0;c<s.extensionsUsed.length;++c){const u=s.extensionsUsed[c],f=s.extensionsRequired||[];switch(u){case Ot.KHR_MATERIALS_UNLIT:o[u]=new rZ;break;case Ot.KHR_DRACO_MESH_COMPRESSION:o[u]=new _Z(s,this.dracoLoader);break;case Ot.KHR_TEXTURE_TRANSFORM:o[u]=new xZ;break;case Ot.KHR_MESH_QUANTIZATION:o[u]=new wZ;break;default:f.indexOf(u)>=0&&a[u]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+u+'".')}}l.setExtensions(o),l.setPlugins(a),l.parse(r,i)}parseAsync(e,t){const r=this;return new Promise(function(i,s){r.parse(e,t,i,s)})}}function tZ(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const Ot={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class nZ{constructor(e){this.parser=e,this.name=Ot.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let r=0,i=t.length;r<i;r++){const s=t[r];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,r="light:"+e;let i=t.cache.get(r);if(i)return i;const s=t.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let c;const u=new He(16777215);l.color!==void 0&&u.fromArray(l.color);const f=l.range!==void 0?l.range:0;switch(l.type){case"directional":c=new W_(u),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new tg(u),c.distance=f;break;case"spot":c=new V_(u),c.distance=f,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,c.angle=l.spot.outerConeAngle,c.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return c.position.set(0,0,0),c.decay=2,Dl(c,l),l.intensity!==void 0&&(c.intensity=l.intensity),c.name=t.createUniqueName(l.name||"light_"+e),i=Promise.resolve(c),t.cache.add(r,i),i}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,r=this.parser,s=r.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return r._getNodeRef(t.cache,a,l)})}}class rZ{constructor(){this.name=Ot.KHR_MATERIALS_UNLIT}getMaterialType(){return Ri}extendParams(e,t,r){const i=[];e.color=new He(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.fromArray(o),e.opacity=o[3]}s.baseColorTexture!==void 0&&i.push(r.assignTexture(e,"map",s.baseColorTexture,3001))}return Promise.all(i)}}class iZ{constructor(e){this.parser=e,this.name=Ot.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name].emissiveStrength;return s!==void 0&&(t.emissiveIntensity=s),Promise.resolve()}}class sZ{constructor(e){this.parser=e,this.name=Ot.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Mo}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];if(o.clearcoatFactor!==void 0&&(t.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(r.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(r.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(r.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new De(a,a)}return Promise.all(s)}}class oZ{constructor(e){this.parser=e,this.name=Ot.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Mo}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.iridescenceFactor!==void 0&&(t.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(r.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(t.iridescenceIOR=o.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(r.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class aZ{constructor(e){this.parser=e,this.name=Ot.KHR_MATERIALS_SHEEN}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Mo}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new He(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=i.extensions[this.name];return o.sheenColorFactor!==void 0&&t.sheenColor.fromArray(o.sheenColorFactor),o.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(r.assignTexture(t,"sheenColorMap",o.sheenColorTexture,3001)),o.sheenRoughnessTexture!==void 0&&s.push(r.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class lZ{constructor(e){this.parser=e,this.name=Ot.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Mo}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.transmissionFactor!==void 0&&(t.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(r.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class cZ{constructor(e){this.parser=e,this.name=Ot.KHR_MATERIALS_VOLUME}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Mo}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];t.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(r.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return t.attenuationColor=new He(a[0],a[1],a[2]),Promise.all(s)}}class uZ{constructor(e){this.parser=e,this.name=Ot.KHR_MATERIALS_IOR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Mo}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return t.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class fZ{constructor(e){this.parser=e,this.name=Ot.KHR_MATERIALS_SPECULAR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Mo}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];t.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(r.assignTexture(t,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return t.specularColor=new He(a[0],a[1],a[2]),o.specularColorTexture!==void 0&&s.push(r.assignTexture(t,"specularColorMap",o.specularColorTexture,3001)),Promise.all(s)}}class dZ{constructor(e){this.parser=e,this.name=Ot.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Mo}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.anisotropyStrength!==void 0&&(t.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(t.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&s.push(r.assignTexture(t,"anisotropyMap",o.anisotropyTexture)),Promise.all(s)}}class hZ{constructor(e){this.parser=e,this.name=Ot.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,r=t.json,i=r.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const s=i.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,s.source,o)}}class pZ{constructor(e){this.parser=e,this.name=Ot.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const c=r.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class mZ{constructor(e){this.parser=e,this.name=Ot.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const c=r.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class gZ{constructor(e){this.name=Ot.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,r=t.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const i=r.extensions[this.name],s=this.parser.getDependency("buffer",i.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=i.byteOffset||0,c=i.byteLength||0,u=i.count,f=i.byteStride,d=new Uint8Array(a,l,c);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(u,f,d,i.mode,i.filter).then(function(m){return m.buffer}):o.ready.then(function(){const m=new ArrayBuffer(u*f);return o.decodeGltfBuffer(new Uint8Array(m),u,f,d,i.mode,i.filter),m})})}else return null}}class vZ{constructor(e){this.name=Ot.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,r=t.nodes[e];if(!r.extensions||!r.extensions[this.name]||r.mesh===void 0)return null;const i=t.meshes[r.mesh];for(const c of i.primitives)if(c.mode!==Ds.TRIANGLES&&c.mode!==Ds.TRIANGLE_STRIP&&c.mode!==Ds.TRIANGLE_FAN&&c.mode!==void 0)return null;const o=r.extensions[this.name].attributes,a=[],l={};for(const c in o)a.push(this.parser.getDependency("accessor",o[c]).then(u=>(l[c]=u,l[c])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(c=>{const u=c.pop(),f=u.isGroup?u.children:[u],d=c[0].count,m=[];for(const g of f){const v=new qe,y=new $,x=new pn,_=new $(1,1,1),w=new xC(g.geometry,g.material,d);for(let A=0;A<d;A++)l.TRANSLATION&&y.fromBufferAttribute(l.TRANSLATION,A),l.ROTATION&&x.fromBufferAttribute(l.ROTATION,A),l.SCALE&&_.fromBufferAttribute(l.SCALE,A),w.setMatrixAt(A,v.compose(y,x,_));for(const A in l)A!=="TRANSLATION"&&A!=="ROTATION"&&A!=="SCALE"&&g.geometry.setAttribute(A,l[A]);Et.prototype.copy.call(w,g),this.parser.assignFinalMaterial(w),m.push(w)}return u.isGroup?(u.clear(),u.add(...m),u):m[0]}))}}const DU="glTF",Dp=12,AB={JSON:1313821514,BIN:5130562};class yZ{constructor(e){this.name=Ot.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,Dp);if(this.header={magic:ss.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==DU)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-Dp,i=new DataView(e,Dp);let s=0;for(;s<r;){const o=i.getUint32(s,!0);s+=4;const a=i.getUint32(s,!0);if(s+=4,a===AB.JSON){const l=new Uint8Array(e,Dp+s,o);this.content=ss.decodeText(l)}else if(a===AB.BIN){const l=Dp+s;this.body=e.slice(l,l+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class _Z{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Ot.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const r=this.json,i=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},c={};for(const u in o){const f=aM[u]||u.toLowerCase();a[f]=o[u]}for(const u in e.attributes){const f=aM[u]||u.toLowerCase();if(o[u]!==void 0){const d=r.accessors[e.attributes[u]],m=Ud[d.componentType];c[f]=m.name,l[f]=d.normalized===!0}}return t.getDependency("bufferView",s).then(function(u){return new Promise(function(f){i.decodeDracoFile(u,function(d){for(const m in d.attributes){const g=d.attributes[m],v=l[m];v!==void 0&&(g.normalized=v)}f(d)},a,c)})})}}class xZ{constructor(){this.name=Ot.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class wZ{constructor(){this.name=Ot.KHR_MESH_QUANTIZATION}}class BU extends Ch{constructor(e,t,r,i){super(e,t,r,i)}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i*3+i;for(let o=0;o!==i;o++)t[o]=r[s+o];return t}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,c=a*3,u=i-t,f=(r-t)/u,d=f*f,m=d*f,g=e*c,v=g-c,y=-2*m+3*d,x=m-d,_=1-y,w=x-d+f;for(let A=0;A!==a;A++){const C=o[v+A+a],E=o[v+A+l]*u,P=o[g+A+a],b=o[g+A]*u;s[A]=_*C+w*E+y*P+x*b}return s}}const SZ=new pn;class AZ extends BU{interpolate_(e,t,r,i){const s=super.interpolate_(e,t,r,i);return SZ.fromArray(s).normalize().toArray(s),s}}const Ds={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Ud={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},bB={9728:Yn,9729:fn,9984:Wm,9985:E_,9986:jm,9987:Ya},MB={33071:cr,33648:Zd,10497:Ko},PS={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},aM={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...zq>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Ml={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},bZ={CUBICSPLINE:void 0,LINEAR:Hu,STEP:th},RS={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function MZ(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new ac({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:za})),n.DefaultMaterial}function Yc(n,e,t){for(const r in t.extensions)n[r]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=t.extensions[r])}function Dl(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function CZ(n,e,t){let r=!1,i=!1,s=!1;for(let c=0,u=e.length;c<u;c++){const f=e[c];if(f.POSITION!==void 0&&(r=!0),f.NORMAL!==void 0&&(i=!0),f.COLOR_0!==void 0&&(s=!0),r&&i&&s)break}if(!r&&!i&&!s)return Promise.resolve(n);const o=[],a=[],l=[];for(let c=0,u=e.length;c<u;c++){const f=e[c];if(r){const d=f.POSITION!==void 0?t.getDependency("accessor",f.POSITION):n.attributes.position;o.push(d)}if(i){const d=f.NORMAL!==void 0?t.getDependency("accessor",f.NORMAL):n.attributes.normal;a.push(d)}if(s){const d=f.COLOR_0!==void 0?t.getDependency("accessor",f.COLOR_0):n.attributes.color;l.push(d)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(c){const u=c[0],f=c[1],d=c[2];return r&&(n.morphAttributes.position=u),i&&(n.morphAttributes.normal=f),s&&(n.morphAttributes.color=d),n.morphTargetsRelative=!0,n})}function EZ(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,r=e.weights.length;t<r;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let r=0,i=t.length;r<i;r++)n.morphTargetDictionary[t[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function TZ(n){let e;const t=n.extensions&&n.extensions[Ot.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+DS(t.attributes):e=n.indices+":"+DS(n.attributes)+":"+n.mode,n.targets!==void 0)for(let r=0,i=n.targets.length;r<i;r++)e+=":"+DS(n.targets[r]);return e}function DS(n){let e="";const t=Object.keys(n).sort();for(let r=0,i=t.length;r<i;r++)e+=t[r]+":"+n[t[r]]+";";return e}function lM(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function PZ(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const RZ=new qe;class DZ{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new tZ,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let r=!1,i=!1,s=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,i=navigator.userAgent.indexOf("Firefox")>-1,s=i?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||r||i&&s<98?this.textureLoader=new Eh(this.options.manager):this.textureLoader=new UN(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Ni(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const r=this,i=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(o){const a={scene:o[0][i.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:i.asset,parser:r,userData:{}};Yc(s,a,i),Dl(a,i),Promise.all(r._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],r=this.json.meshes||[];for(let i=0,s=t.length;i<s;i++){const o=t[i].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let i=0,s=e.length;i<s;i++){const o=e[i];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(r[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,r){if(e.refs[t]<=1)return r;const i=r.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[c,u]of o.children.entries())s(u,a.children[c])};return s(r,i),i.name+="_instance_"+e.uses[t]++,i}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let r=0;r<t.length;r++){const i=e(t[r]);if(i)return i}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const r=[];for(let i=0;i<t.length;i++){const s=e(t[i]);s&&r.push(s)}return r}getDependency(e,t){const r=e+":"+t;let i=this.cache.get(r);if(!i){switch(e){case"scene":i=this.loadScene(t);break;case"node":i=this._invokeOne(function(s){return s.loadNode&&s.loadNode(t)});break;case"mesh":i=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":i=this.loadAccessor(t);break;case"bufferView":i=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":i=this.loadBuffer(t);break;case"material":i=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":i=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":i=this.loadSkin(t);break;case"animation":i=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(t)});break;case"camera":i=this.loadCamera(t);break;default:if(i=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,t)}),!i)throw new Error("Unknown type: "+e);break}this.cache.add(r,i)}return i}getDependencies(e){let t=this.cache.get(e);if(!t){const r=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(i.map(function(s,o){return r.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],r=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[Ot.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(s,o){r.load(ss.resolveURL(t.uri,i.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(r){const i=t.byteLength||0,s=t.byteOffset||0;return r.slice(s,s+i)})}loadAccessor(e){const t=this,r=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0){const o=PS[i.type],a=Ud[i.componentType],l=i.normalized===!0,c=new a(i.count*o);return Promise.resolve(new Jt(c,o,l))}const s=[];return i.bufferView!==void 0?s.push(this.getDependency("bufferView",i.bufferView)):s.push(null),i.sparse!==void 0&&(s.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=PS[i.type],c=Ud[i.componentType],u=c.BYTES_PER_ELEMENT,f=u*l,d=i.byteOffset||0,m=i.bufferView!==void 0?r.bufferViews[i.bufferView].byteStride:void 0,g=i.normalized===!0;let v,y;if(m&&m!==f){const x=Math.floor(d/m),_="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+x+":"+i.count;let w=t.cache.get(_);w||(v=new c(a,x*m,i.count*m/u),w=new Dg(v,m/u),t.cache.add(_,w)),y=new oc(w,l,d%m/u,g)}else a===null?v=new c(i.count*l):v=new c(a,d,i.count*l),y=new Jt(v,l,g);if(i.sparse!==void 0){const x=PS.SCALAR,_=Ud[i.sparse.indices.componentType],w=i.sparse.indices.byteOffset||0,A=i.sparse.values.byteOffset||0,C=new _(o[1],w,i.sparse.count*x),E=new c(o[2],A,i.sparse.count*l);a!==null&&(y=new Jt(y.array.slice(),y.itemSize,y.normalized));for(let P=0,b=C.length;P<b;P++){const R=C[P];if(y.setX(R,E[P*l]),l>=2&&y.setY(R,E[P*l+1]),l>=3&&y.setZ(R,E[P*l+2]),l>=4&&y.setW(R,E[P*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return y})}loadTexture(e){const t=this.json,r=this.options,s=t.textures[e].source,o=t.images[s];let a=this.textureLoader;if(o.uri){const l=r.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,t,r){const i=this,s=this.json,o=s.textures[e],a=s.images[t],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(t,r).then(function(u){u.flipY=!1,u.name=o.name||a.name||"",u.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(u.name=a.uri);const d=(s.samplers||{})[o.sampler]||{};return u.magFilter=bB[d.magFilter]||fn,u.minFilter=bB[d.minFilter]||Ya,u.wrapS=MB[d.wrapS]||Ko,u.wrapT=MB[d.wrapT]||Ko,i.associations.set(u,{textures:e}),u}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,t){const r=this,i=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(f=>f.clone());const o=i.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",c=!1;if(o.bufferView!==void 0)l=r.getDependency("bufferView",o.bufferView).then(function(f){c=!0;const d=new Blob([f],{type:o.mimeType});return l=a.createObjectURL(d),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const u=Promise.resolve(l).then(function(f){return new Promise(function(d,m){let g=d;t.isImageBitmapLoader===!0&&(g=function(v){const y=new mn(v);y.needsUpdate=!0,d(y)}),t.load(ss.resolveURL(f,s.path),g,void 0,m)})}).then(function(f){return c===!0&&a.revokeObjectURL(l),f.userData.mimeType=o.mimeType||PZ(o.uri),f}).catch(function(f){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),f});return this.sourceCache[e]=u,u}assignTexture(e,t,r,i){const s=this;return this.getDependency("texture",r.index).then(function(o){if(!o)return null;if(r.texCoord!==void 0&&r.texCoord>0&&(o=o.clone(),o.channel=r.texCoord),s.extensions[Ot.KHR_TEXTURE_TRANSFORM]){const a=r.extensions!==void 0?r.extensions[Ot.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[Ot.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return i!==void 0&&("colorSpace"in o?o.colorSpace=i===3001?"srgb":"srgb-linear":o.encoding=i),e[t]=o,o})}assignFinalMaterial(e){const t=e.geometry;let r=e.material;const i=t.attributes.tangent===void 0,s=t.attributes.color!==void 0,o=t.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new U_,ir.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,l.sizeAttenuation=!1,this.cache.add(a,l)),r=l}else if(e.isLine){const a="LineBasicMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new Lr,ir.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,this.cache.add(a,l)),r=l}if(i||s||o){let a="ClonedMaterial:"+r.uuid+":";i&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=r.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),i&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(r))),r=l}e.material=r}getMaterialType(){return ac}loadMaterial(e){const t=this,r=this.json,i=this.extensions,s=r.materials[e];let o;const a={},l=s.extensions||{},c=[];if(l[Ot.KHR_MATERIALS_UNLIT]){const f=i[Ot.KHR_MATERIALS_UNLIT];o=f.getMaterialType(),c.push(f.extendParams(a,s,t))}else{const f=s.pbrMetallicRoughness||{};if(a.color=new He(1,1,1),a.opacity=1,Array.isArray(f.baseColorFactor)){const d=f.baseColorFactor;a.color.fromArray(d),a.opacity=d[3]}f.baseColorTexture!==void 0&&c.push(t.assignTexture(a,"map",f.baseColorTexture,3001)),a.metalness=f.metallicFactor!==void 0?f.metallicFactor:1,a.roughness=f.roughnessFactor!==void 0?f.roughnessFactor:1,f.metallicRoughnessTexture!==void 0&&(c.push(t.assignTexture(a,"metalnessMap",f.metallicRoughnessTexture)),c.push(t.assignTexture(a,"roughnessMap",f.metallicRoughnessTexture))),o=this._invokeOne(function(d){return d.getMaterialType&&d.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(d){return d.extendMaterialParams&&d.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=Gs);const u=s.alphaMode||RS.OPAQUE;if(u===RS.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,u===RS.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==Ri&&(c.push(t.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new De(1,1),s.normalTexture.scale!==void 0)){const f=s.normalTexture.scale;a.normalScale.set(f,f)}return s.occlusionTexture!==void 0&&o!==Ri&&(c.push(t.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==Ri&&(a.emissive=new He().fromArray(s.emissiveFactor)),s.emissiveTexture!==void 0&&o!==Ri&&c.push(t.assignTexture(a,"emissiveMap",s.emissiveTexture,3001)),Promise.all(c).then(function(){const f=new o(a);return s.name&&(f.name=s.name),Dl(f,s),t.associations.set(f,{materials:e}),s.extensions&&Yc(i,f,s),f})}createUniqueName(e){const t=Rt.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,r=this.extensions,i=this.primitiveCache;function s(a){return r[Ot.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(l){return CB(l,a,t)})}const o=[];for(let a=0,l=e.length;a<l;a++){const c=e[a],u=TZ(c),f=i[u];if(f)o.push(f.promise);else{let d;c.extensions&&c.extensions[Ot.KHR_DRACO_MESH_COMPRESSION]?d=s(c):d=CB(new ht,c,t),i[u]={primitive:c,promise:d},o.push(d)}}return Promise.all(o)}loadMesh(e){const t=this,r=this.json,i=this.extensions,s=r.meshes[e],o=s.primitives,a=[];for(let l=0,c=o.length;l<c;l++){const u=o[l].material===void 0?MZ(this.cache):this.getDependency("material",o[l].material);a.push(u)}return a.push(t.loadGeometries(o)),Promise.all(a).then(function(l){const c=l.slice(0,l.length-1),u=l[l.length-1],f=[];for(let m=0,g=u.length;m<g;m++){const v=u[m],y=o[m];let x;const _=c[m];if(y.mode===Ds.TRIANGLES||y.mode===Ds.TRIANGLE_STRIP||y.mode===Ds.TRIANGLE_FAN||y.mode===void 0)x=s.isSkinnedMesh===!0?new N_(v,_):new Nn(v,_),x.isSkinnedMesh===!0&&x.normalizeSkinWeights(),y.mode===Ds.TRIANGLE_STRIP?x.geometry=SB(x.geometry,dC):y.mode===Ds.TRIANGLE_FAN&&(x.geometry=SB(x.geometry,b1));else if(y.mode===Ds.LINES)x=new bo(v,_);else if(y.mode===Ds.LINE_STRIP)x=new Yo(v,_);else if(y.mode===Ds.LINE_LOOP)x=new wC(v,_);else if(y.mode===Ds.POINTS)x=new SC(v,_);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+y.mode);Object.keys(x.geometry.morphAttributes).length>0&&EZ(x,s),x.name=t.createUniqueName(s.name||"mesh_"+e),Dl(x,s),y.extensions&&Yc(i,x,y),t.assignFinalMaterial(x),f.push(x)}for(let m=0,g=f.length;m<g;m++)t.associations.set(f[m],{meshes:e,primitives:m});if(f.length===1)return s.extensions&&Yc(i,f[0],s),f[0];const d=new po;s.extensions&&Yc(i,d,s),t.associations.set(d,{meshes:e});for(let m=0,g=f.length;m<g;m++)d.add(f[m]);return d})}loadCamera(e){let t;const r=this.json.cameras[e],i=r[r.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?t=new nr(Ei.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):r.type==="orthographic"&&(t=new tf(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),r.name&&(t.name=this.createUniqueName(r.name)),Dl(t,r),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],r=[];for(let i=0,s=t.joints.length;i<s;i++)r.push(this._loadNodeShallow(t.joints[i]));return t.inverseBindMatrices!==void 0?r.push(this.getDependency("accessor",t.inverseBindMatrices)):r.push(null),Promise.all(r).then(function(i){const s=i.pop(),o=i,a=[],l=[];for(let c=0,u=o.length;c<u;c++){const f=o[c];if(f){a.push(f);const d=new qe;s!==null&&d.fromArray(s.array,c*16),l.push(d)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[c])}return new Sh(a,l)})}loadAnimation(e){const r=this.json.animations[e],i=r.name?r.name:"animation_"+e,s=[],o=[],a=[],l=[],c=[];for(let u=0,f=r.channels.length;u<f;u++){const d=r.channels[u],m=r.samplers[d.sampler],g=d.target,v=g.node,y=r.parameters!==void 0?r.parameters[m.input]:m.input,x=r.parameters!==void 0?r.parameters[m.output]:m.output;g.node!==void 0&&(s.push(this.getDependency("node",v)),o.push(this.getDependency("accessor",y)),a.push(this.getDependency("accessor",x)),l.push(m),c.push(g))}return Promise.all([Promise.all(s),Promise.all(o),Promise.all(a),Promise.all(l),Promise.all(c)]).then(function(u){const f=u[0],d=u[1],m=u[2],g=u[3],v=u[4],y=[];for(let x=0,_=f.length;x<_;x++){const w=f[x],A=d[x],C=m[x],E=g[x],P=v[x];if(w===void 0)continue;w.updateMatrix();let b;switch(Ml[P.path]){case Ml.weights:b=ju;break;case Ml.rotation:b=Ha;break;case Ml.position:case Ml.scale:default:b=$u;break}const R=w.name?w.name:w.uuid,D=E.interpolation!==void 0?bZ[E.interpolation]:Hu,L=[];Ml[P.path]===Ml.weights?w.traverse(function(z){z.morphTargetInfluences&&L.push(z.name?z.name:z.uuid)}):L.push(R);let N=C.array;if(C.normalized){const z=lM(N.constructor),k=new Float32Array(N.length);for(let V=0,W=N.length;V<W;V++)k[V]=N[V]*z;N=k}for(let z=0,k=L.length;z<k;z++){const V=new b(L[z]+"."+Ml[P.path],A.array,N,D);E.interpolation==="CUBICSPLINE"&&(V.createInterpolant=function(Y){const O=this instanceof Ha?AZ:BU;return new O(this.times,this.values,this.getValueSize()/3,Y)},V.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),y.push(V)}}return new Xu(i,void 0,y)})}createNodeMesh(e){const t=this.json,r=this,i=t.nodes[e];return i.mesh===void 0?null:r.getDependency("mesh",i.mesh).then(function(s){const o=r._getNodeRef(r.meshCache,i.mesh,s);return i.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,c=i.weights.length;l<c;l++)a.morphTargetInfluences[l]=i.weights[l]}),o})}loadNode(e){const t=this.json,r=this,i=t.nodes[e],s=r._loadNodeShallow(e),o=[],a=i.children||[];for(let c=0,u=a.length;c<u;c++)o.push(r.getDependency("node",a[c]));const l=i.skin===void 0?Promise.resolve(null):r.getDependency("skin",i.skin);return Promise.all([s,Promise.all(o),l]).then(function(c){const u=c[0],f=c[1],d=c[2];d!==null&&u.traverse(function(m){m.isSkinnedMesh&&m.bind(d,RZ)});for(let m=0,g=f.length;m<g;m++)u.add(f[m]);return u})}_loadNodeShallow(e){const t=this.json,r=this.extensions,i=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=t.nodes[e],o=s.name?i.createUniqueName(s.name):"",a=[],l=i._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(i.getDependency("camera",s.camera).then(function(c){return i._getNodeRef(i.cameraCache,s.camera,c)})),i._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){a.push(c)}),this.nodeCache[e]=Promise.all(a).then(function(c){let u;if(s.isBone===!0?u=new rh:c.length>1?u=new po:c.length===1?u=c[0]:u=new Et,u!==c[0])for(let f=0,d=c.length;f<d;f++)u.add(c[f]);if(s.name&&(u.userData.name=s.name,u.name=o),Dl(u,s),s.extensions&&Yc(r,u,s),s.matrix!==void 0){const f=new qe;f.fromArray(s.matrix),u.applyMatrix4(f)}else s.translation!==void 0&&u.position.fromArray(s.translation),s.rotation!==void 0&&u.quaternion.fromArray(s.rotation),s.scale!==void 0&&u.scale.fromArray(s.scale);return i.associations.has(u)||i.associations.set(u,{}),i.associations.get(u).nodes=e,u}),this.nodeCache[e]}loadScene(e){const t=this.extensions,r=this.json.scenes[e],i=this,s=new po;r.name&&(s.name=i.createUniqueName(r.name)),Dl(s,r),r.extensions&&Yc(t,s,r);const o=r.nodes||[],a=[];for(let l=0,c=o.length;l<c;l++)a.push(i.getDependency("node",o[l]));return Promise.all(a).then(function(l){for(let u=0,f=l.length;u<f;u++)s.add(l[u]);const c=u=>{const f=new Map;for(const[d,m]of i.associations)(d instanceof ir||d instanceof mn)&&f.set(d,m);return u.traverse(d=>{const m=i.associations.get(d);m!=null&&f.set(d,m)}),f};return i.associations=c(s),s})}}function BZ(n,e,t){const r=e.attributes,i=new qa;if(r.POSITION!==void 0){const a=t.json.accessors[r.POSITION],l=a.min,c=a.max;if(l!==void 0&&c!==void 0){if(i.set(new $(l[0],l[1],l[2]),new $(c[0],c[1],c[2])),a.normalized){const u=lM(Ud[a.componentType]);i.min.multiplyScalar(u),i.max.multiplyScalar(u)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new $,l=new $;for(let c=0,u=s.length;c<u;c++){const f=s[c];if(f.POSITION!==void 0){const d=t.json.accessors[f.POSITION],m=d.min,g=d.max;if(m!==void 0&&g!==void 0){if(l.setX(Math.max(Math.abs(m[0]),Math.abs(g[0]))),l.setY(Math.max(Math.abs(m[1]),Math.abs(g[1]))),l.setZ(Math.max(Math.abs(m[2]),Math.abs(g[2]))),d.normalized){const v=lM(Ud[d.componentType]);l.multiplyScalar(v)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(a)}n.boundingBox=i;const o=new Za;i.getCenter(o.center),o.radius=i.min.distanceTo(i.max)/2,n.boundingSphere=o}function CB(n,e,t){const r=e.attributes,i=[];function s(o,a){return t.getDependency("accessor",o).then(function(l){n.setAttribute(a,l)})}for(const o in r){const a=aM[o]||o.toLowerCase();a in n.attributes||i.push(s(r[o],a))}if(e.indices!==void 0&&!n.index){const o=t.getDependency("accessor",e.indices).then(function(a){n.setIndex(a)});i.push(o)}return Dl(n,e),BZ(n,e,t),Promise.all(i).then(function(){return e.targets!==void 0?CZ(n,e.targets,t):n})}function IU(n,e,t){const r=t.length-n-1;if(e>=t[r])return r-1;if(e<=t[n])return n;let i=n,s=r,o=Math.floor((i+s)/2);for(;e<t[o]||e>=t[o+1];)e<t[o]?s=o:i=o,o=Math.floor((i+s)/2);return o}function IZ(n,e,t,r){const i=[],s=[],o=[];i[0]=1;for(let a=1;a<=t;++a){s[a]=e-r[n+1-a],o[a]=r[n+a]-e;let l=0;for(let c=0;c<a;++c){const u=o[c+1],f=s[a-c],d=i[c]/(u+f);i[c]=l+u*d,l=f*d}i[a]=l}return i}function LZ(n,e,t,r){const i=IU(n,r,e),s=IZ(i,r,n,e),o=new Ct(0,0,0,0);for(let a=0;a<=n;++a){const l=t[i-n+a],c=s[a],u=l.w*c;o.x+=l.x*u,o.y+=l.y*u,o.z+=l.z*u,o.w+=l.w*c}return o}function kZ(n,e,t,r,i){const s=[];for(let f=0;f<=t;++f)s[f]=0;const o=[];for(let f=0;f<=r;++f)o[f]=s.slice(0);const a=[];for(let f=0;f<=t;++f)a[f]=s.slice(0);a[0][0]=1;const l=s.slice(0),c=s.slice(0);for(let f=1;f<=t;++f){l[f]=e-i[n+1-f],c[f]=i[n+f]-e;let d=0;for(let m=0;m<f;++m){const g=c[m+1],v=l[f-m];a[f][m]=g+v;const y=a[m][f-1]/a[f][m];a[m][f]=d+g*y,d=v*y}a[f][f]=d}for(let f=0;f<=t;++f)o[0][f]=a[f][t];for(let f=0;f<=t;++f){let d=0,m=1;const g=[];for(let v=0;v<=t;++v)g[v]=s.slice(0);g[0][0]=1;for(let v=1;v<=r;++v){let y=0;const x=f-v,_=t-v;f>=v&&(g[m][0]=g[d][0]/a[_+1][x],y=g[m][0]*a[x][_]);const w=x>=-1?1:-x,A=f-1<=_?v-1:t-f;for(let E=w;E<=A;++E)g[m][E]=(g[d][E]-g[d][E-1])/a[_+1][x+E],y+=g[m][E]*a[x+E][_];f<=_&&(g[m][v]=-g[d][v-1]/a[_+1][f],y+=g[m][v]*a[f][_]),o[v][f]=y;const C=d;d=m,m=C}}let u=t;for(let f=1;f<=r;++f){for(let d=0;d<=t;++d)o[f][d]*=u;u*=t-f}return o}function OZ(n,e,t,r,i){const s=i<n?i:n,o=[],a=IU(n,r,e),l=kZ(a,r,n,s,e),c=[];for(let u=0;u<t.length;++u){const f=t[u].clone(),d=f.w;f.x*=d,f.y*=d,f.z*=d,c[u]=f}for(let u=0;u<=s;++u){const f=c[a-n].clone().multiplyScalar(l[u][0]);for(let d=1;d<=n;++d)f.add(c[a-n+d].clone().multiplyScalar(l[u][d]));o[u]=f}for(let u=s+1;u<=i+1;++u)o[u]=new Ct(0,0,0);return o}function FZ(n,e){let t=1;for(let i=2;i<=n;++i)t*=i;let r=1;for(let i=2;i<=e;++i)r*=i;for(let i=2;i<=n-e;++i)r*=i;return t/r}function NZ(n){const e=n.length,t=[],r=[];for(let s=0;s<e;++s){const o=n[s];t[s]=new $(o.x,o.y,o.z),r[s]=o.w}const i=[];for(let s=0;s<e;++s){const o=t[s].clone();for(let a=1;a<=s;++a)o.sub(i[s-a].clone().multiplyScalar(FZ(s,a)*r[a]));i[s]=o.divideScalar(r[0])}return i}function UZ(n,e,t,r,i){const s=OZ(n,e,t,r,i);return NZ(s)}class EB extends qs{constructor(e,t,r,i,s){super(),this.degree=e,this.knots=t,this.controlPoints=[],this.startKnot=i||0,this.endKnot=s||this.knots.length-1;for(let o=0;o<r.length;++o){const a=r[o];this.controlPoints[o]=new Ct(a.x,a.y,a.z,a.w)}}getPoint(e,t){const r=t||new $,i=this.knots[this.startKnot]+e*(this.knots[this.endKnot]-this.knots[this.startKnot]),s=LZ(this.degree,this.knots,this.controlPoints,i);return s.w!=1&&s.divideScalar(s.w),r.set(s.x,s.y,s.z)}getTangent(e,t){const r=t||new $,i=this.knots[0]+e*(this.knots[this.knots.length-1]-this.knots[0]),s=UZ(this.degree,this.knots,this.controlPoints,i,1);return r.copy(s[1]).normalize(),r}}let Lt,Xn,Ai;class YC extends Qr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=s.path===""?ss.extractUrlBase(e):s.path,a=new Ni(this.manager);a.setPath(s.path),a.setResponseType("arraybuffer"),a.setRequestHeader(s.requestHeader),a.setWithCredentials(s.withCredentials),a.load(e,function(l){try{t(s.parse(l,o))}catch(c){i?i(c):console.error(c),s.manager.itemError(e)}},r,i)}parse(e,t){if(jZ(e))Lt=new WZ().parse(e);else{const i=FU(e);if(!$Z(i))throw new Error("THREE.FBXLoader: Unknown format.");if(PB(i)<7e3)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+PB(i));Lt=new VZ().parse(i)}const r=new Eh(this.manager).setPath(this.resourcePath||t).setCrossOrigin(this.crossOrigin);return new zZ(r,this.manager).parse(Lt)}}class zZ{constructor(e,t){this.textureLoader=e,this.manager=t}parse(){Xn=this.parseConnections();const e=this.parseImages(),t=this.parseTextures(e),r=this.parseMaterials(t),i=this.parseDeformers(),s=new GZ().parse(i);return this.parseScene(i,s,r),Ai}parseConnections(){const e=new Map;return"Connections"in Lt&&Lt.Connections.connections.forEach(function(r){const i=r[0],s=r[1],o=r[2];e.has(i)||e.set(i,{parents:[],children:[]});const a={ID:s,relationship:o};e.get(i).parents.push(a),e.has(s)||e.set(s,{parents:[],children:[]});const l={ID:i,relationship:o};e.get(s).children.push(l)}),e}parseImages(){const e={},t={};if("Video"in Lt.Objects){const r=Lt.Objects.Video;for(const i in r){const s=r[i],o=parseInt(i);if(e[o]=s.RelativeFilename||s.Filename,"Content"in s){const a=s.Content instanceof ArrayBuffer&&s.Content.byteLength>0,l=typeof s.Content=="string"&&s.Content!=="";if(a||l){const c=this.parseImage(r[i]);t[s.RelativeFilename||s.Filename]=c}}}}for(const r in e){const i=e[r];t[i]!==void 0?e[r]=t[i]:e[r]=e[r].split("\\").pop()}return e}parseImage(e){const t=e.Content,r=e.RelativeFilename||e.Filename,i=r.slice(r.lastIndexOf(".")+1).toLowerCase();let s;switch(i){case"bmp":s="image/bmp";break;case"jpg":case"jpeg":s="image/jpeg";break;case"png":s="image/png";break;case"tif":s="image/tiff";break;case"tga":this.manager.getHandler(".tga")===null&&console.warn("FBXLoader: TGA loader not found, skipping ",r),s="image/tga";break;default:console.warn('FBXLoader: Image type "'+i+'" is not supported.');return}if(typeof t=="string")return"data:"+s+";base64,"+t;{const o=new Uint8Array(t);return window.URL.createObjectURL(new Blob([o],{type:s}))}}parseTextures(e){const t=new Map;if("Texture"in Lt.Objects){const r=Lt.Objects.Texture;for(const i in r){const s=this.parseTexture(r[i],e);t.set(parseInt(i),s)}}return t}parseTexture(e,t){const r=this.loadTexture(e,t);r.ID=e.id,r.name=e.attrName;const i=e.WrapModeU,s=e.WrapModeV,o=i!==void 0?i.value:0,a=s!==void 0?s.value:0;if(r.wrapS=o===0?Ko:cr,r.wrapT=a===0?Ko:cr,"Scaling"in e){const l=e.Scaling.value;r.repeat.x=l[0],r.repeat.y=l[1]}return r}loadTexture(e,t){let r;const i=this.textureLoader.path,s=Xn.get(e.id).children;s!==void 0&&s.length>0&&t[s[0].ID]!==void 0&&(r=t[s[0].ID],(r.indexOf("blob:")===0||r.indexOf("data:")===0)&&this.textureLoader.setPath(void 0));let o;const a=e.FileName.slice(-3).toLowerCase();if(a==="tga"){const l=this.manager.getHandler(".tga");l===null?(console.warn("FBXLoader: TGA loader not found, creating placeholder texture for",e.RelativeFilename),o=new mn):(l.setPath(this.textureLoader.path),o=l.load(r))}else a==="psd"?(console.warn("FBXLoader: PSD textures are not supported, creating placeholder texture for",e.RelativeFilename),o=new mn):o=this.textureLoader.load(r);return this.textureLoader.setPath(i),o}parseMaterials(e){const t=new Map;if("Material"in Lt.Objects){const r=Lt.Objects.Material;for(const i in r){const s=this.parseMaterial(r[i],e);s!==null&&t.set(parseInt(i),s)}}return t}parseMaterial(e,t){const r=e.id,i=e.attrName;let s=e.ShadingModel;if(typeof s=="object"&&(s=s.value),!Xn.has(r))return null;const o=this.parseParameters(e,t,r);let a;switch(s.toLowerCase()){case"phong":a=new lm;break;case"lambert":a=new RC;break;default:console.warn('THREE.FBXLoader: unknown material type "%s". Defaulting to MeshPhongMaterial.',s),a=new lm;break}return a.setValues(o),a.name=i,a}parseParameters(e,t,r){const i={};e.BumpFactor&&(i.bumpScale=e.BumpFactor.value),e.Diffuse?i.color=new He().fromArray(e.Diffuse.value):e.DiffuseColor&&(e.DiffuseColor.type==="Color"||e.DiffuseColor.type==="ColorRGB")&&(i.color=new He().fromArray(e.DiffuseColor.value)),e.DisplacementFactor&&(i.displacementScale=e.DisplacementFactor.value),e.Emissive?i.emissive=new He().fromArray(e.Emissive.value):e.EmissiveColor&&(e.EmissiveColor.type==="Color"||e.EmissiveColor.type==="ColorRGB")&&(i.emissive=new He().fromArray(e.EmissiveColor.value)),e.EmissiveFactor&&(i.emissiveIntensity=parseFloat(e.EmissiveFactor.value)),e.Opacity&&(i.opacity=parseFloat(e.Opacity.value)),i.opacity<1&&(i.transparent=!0),e.ReflectionFactor&&(i.reflectivity=e.ReflectionFactor.value),e.Shininess&&(i.shininess=e.Shininess.value),e.Specular?i.specular=new He().fromArray(e.Specular.value):e.SpecularColor&&e.SpecularColor.type==="Color"&&(i.specular=new He().fromArray(e.SpecularColor.value));const s=this;return Xn.get(r).children.forEach(function(o){const a=o.relationship;switch(a){case"Bump":i.bumpMap=s.getTexture(t,o.ID);break;case"Maya|TEX_ao_map":i.aoMap=s.getTexture(t,o.ID);break;case"DiffuseColor":case"Maya|TEX_color_map":i.map=s.getTexture(t,o.ID),i.map!==void 0&&("colorSpace"in i.map?i.map.colorSpace="srgb":i.map.encoding=3001);break;case"DisplacementColor":i.displacementMap=s.getTexture(t,o.ID);break;case"EmissiveColor":i.emissiveMap=s.getTexture(t,o.ID),i.emissiveMap!==void 0&&("colorSpace"in i.emissiveMap?i.emissiveMap.colorSpace="srgb":i.emissiveMap.encoding=3001);break;case"NormalMap":case"Maya|TEX_normal_map":i.normalMap=s.getTexture(t,o.ID);break;case"ReflectionColor":i.envMap=s.getTexture(t,o.ID),i.envMap!==void 0&&(i.envMap.mapping=qd,"colorSpace"in i.envMap?i.envMap.colorSpace="srgb":i.envMap.encoding=3001);break;case"SpecularColor":i.specularMap=s.getTexture(t,o.ID),i.specularMap!==void 0&&("colorSpace"in i.specularMap?i.specularMap.colorSpace="srgb":i.specularMap.encoding=3001);break;case"TransparentColor":case"TransparencyFactor":i.alphaMap=s.getTexture(t,o.ID),i.transparent=!0;break;case"AmbientColor":case"ShininessExponent":case"SpecularFactor":case"VectorDisplacementColor":default:console.warn("THREE.FBXLoader: %s map is not supported in three.js, skipping texture.",a);break}}),i}getTexture(e,t){return"LayeredTexture"in Lt.Objects&&t in Lt.Objects.LayeredTexture&&(console.warn("THREE.FBXLoader: layered textures are not supported in three.js. Discarding all but first layer."),t=Xn.get(t).children[0].ID),e.get(t)}parseDeformers(){const e={},t={};if("Deformer"in Lt.Objects){const r=Lt.Objects.Deformer;for(const i in r){const s=r[i],o=Xn.get(parseInt(i));if(s.attrType==="Skin"){const a=this.parseSkeleton(o,r);a.ID=i,o.parents.length>1&&console.warn("THREE.FBXLoader: skeleton attached to more than one geometry is not supported."),a.geometryID=o.parents[0].ID,e[i]=a}else if(s.attrType==="BlendShape"){const a={id:i};a.rawTargets=this.parseMorphTargets(o,r),a.id=i,o.parents.length>1&&console.warn("THREE.FBXLoader: morph target attached to more than one geometry is not supported."),t[i]=a}}}return{skeletons:e,morphTargets:t}}parseSkeleton(e,t){const r=[];return e.children.forEach(function(i){const s=t[i.ID];if(s.attrType!=="Cluster")return;const o={ID:i.ID,indices:[],weights:[],transformLink:new qe().fromArray(s.TransformLink.a)};"Indexes"in s&&(o.indices=s.Indexes.a,o.weights=s.Weights.a),r.push(o)}),{rawBones:r,bones:[]}}parseMorphTargets(e,t){const r=[];for(let i=0;i<e.children.length;i++){const s=e.children[i],o=t[s.ID],a={name:o.attrName,initialWeight:o.DeformPercent,id:o.id,fullWeights:o.FullWeights.a};if(o.attrType!=="BlendShapeChannel")return;a.geoID=Xn.get(parseInt(s.ID)).children.filter(function(l){return l.relationship===void 0})[0].ID,r.push(a)}return r}parseScene(e,t,r){Ai=new po;const i=this.parseModels(e.skeletons,t,r),s=Lt.Objects.Model,o=this;i.forEach(function(l){const c=s[l.ID];o.setLookAtProperties(l,c),Xn.get(l.ID).parents.forEach(function(f){const d=i.get(f.ID);d!==void 0&&d.add(l)}),l.parent===null&&Ai.add(l)}),this.bindSkeleton(e.skeletons,t,i),this.createAmbientLight(),Ai.traverse(function(l){if(l.userData.transformData){l.parent&&(l.userData.transformData.parentMatrix=l.parent.matrix,l.userData.transformData.parentMatrixWorld=l.parent.matrixWorld);const c=kU(l.userData.transformData);l.applyMatrix4(c),l.updateWorldMatrix()}});const a=new HZ().parse();Ai.children.length===1&&Ai.children[0].isGroup&&(Ai.children[0].animations=a,Ai=Ai.children[0]),Ai.animations=a}parseModels(e,t,r){const i=new Map,s=Lt.Objects.Model;for(const o in s){const a=parseInt(o),l=s[o],c=Xn.get(a);let u=this.buildSkeleton(c,e,a,l.attrName);if(!u){switch(l.attrType){case"Camera":u=this.createCamera(c);break;case"Light":u=this.createLight(c);break;case"Mesh":u=this.createMesh(c,t,r);break;case"NurbsCurve":u=this.createCurve(c,t);break;case"LimbNode":case"Root":u=new rh;break;case"Null":default:u=new po;break}u.name=l.attrName?Rt.sanitizeNodeName(l.attrName):"",u.ID=a}this.getTransformData(u,l),i.set(a,u)}return i}buildSkeleton(e,t,r,i){let s=null;return e.parents.forEach(function(o){for(const a in t){const l=t[a];l.rawBones.forEach(function(c,u){if(c.ID===o.ID){const f=s;s=new rh,s.matrixWorld.copy(c.transformLink),s.name=i?Rt.sanitizeNodeName(i):"",s.ID=r,l.bones[u]=s,f!==null&&s.add(f)}})}}),s}createCamera(e){let t,r;if(e.children.forEach(function(i){const s=Lt.Objects.NodeAttribute[i.ID];s!==void 0&&(r=s)}),r===void 0)t=new Et;else{let i=0;r.CameraProjectionType!==void 0&&r.CameraProjectionType.value===1&&(i=1);let s=1;r.NearPlane!==void 0&&(s=r.NearPlane.value/1e3);let o=1e3;r.FarPlane!==void 0&&(o=r.FarPlane.value/1e3);let a=window.innerWidth,l=window.innerHeight;r.AspectWidth!==void 0&&r.AspectHeight!==void 0&&(a=r.AspectWidth.value,l=r.AspectHeight.value);const c=a/l;let u=45;r.FieldOfView!==void 0&&(u=r.FieldOfView.value);const f=r.FocalLength?r.FocalLength.value:null;switch(i){case 0:t=new nr(u,c,s,o),f!==null&&t.setFocalLength(f);break;case 1:t=new tf(-a/2,a/2,l/2,-l/2,s,o);break;default:console.warn("THREE.FBXLoader: Unknown camera type "+i+"."),t=new Et;break}}return t}createLight(e){let t,r;if(e.children.forEach(function(i){const s=Lt.Objects.NodeAttribute[i.ID];s!==void 0&&(r=s)}),r===void 0)t=new Et;else{let i;r.LightType===void 0?i=0:i=r.LightType.value;let s=16777215;r.Color!==void 0&&(s=new He().fromArray(r.Color.value));let o=r.Intensity===void 0?1:r.Intensity.value/100;r.CastLightOnObject!==void 0&&r.CastLightOnObject.value===0&&(o=0);let a=0;r.FarAttenuationEnd!==void 0&&(r.EnableFarAttenuation!==void 0&&r.EnableFarAttenuation.value===0?a=0:a=r.FarAttenuationEnd.value);const l=1;switch(i){case 0:t=new tg(s,o,a,l);break;case 1:t=new W_(s,o);break;case 2:let c=Math.PI/3;r.InnerAngle!==void 0&&(c=Ei.degToRad(r.InnerAngle.value));let u=0;r.OuterAngle!==void 0&&(u=Ei.degToRad(r.OuterAngle.value),u=Math.max(u,1)),t=new V_(s,o,a,c,u,l);break;default:console.warn("THREE.FBXLoader: Unknown light type "+r.LightType.value+", defaulting to a PointLight."),t=new tg(s,o);break}r.CastShadows!==void 0&&r.CastShadows.value===1&&(t.castShadow=!0)}return t}createMesh(e,t,r){let i,s=null,o=null;const a=[];return e.children.forEach(function(l){t.has(l.ID)&&(s=t.get(l.ID)),r.has(l.ID)&&a.push(r.get(l.ID))}),a.length>1?o=a:a.length>0?o=a[0]:(o=new lm({color:13421772}),a.push(o)),"color"in s.attributes&&a.forEach(function(l){l.vertexColors=!0}),s.FBX_Deformer?(i=new N_(s,o),i.normalizeSkinWeights()):i=new Nn(s,o),i}createCurve(e,t){const r=e.children.reduce(function(s,o){return t.has(o.ID)&&(s=t.get(o.ID)),s},null),i=new Lr({color:3342591,linewidth:1});return new Yo(r,i)}getTransformData(e,t){const r={};"InheritType"in t&&(r.inheritType=parseInt(t.InheritType.value)),"RotationOrder"in t?r.eulerOrder=OU(t.RotationOrder.value):r.eulerOrder="ZYX","Lcl_Translation"in t&&(r.translation=t.Lcl_Translation.value),"PreRotation"in t&&(r.preRotation=t.PreRotation.value),"Lcl_Rotation"in t&&(r.rotation=t.Lcl_Rotation.value),"PostRotation"in t&&(r.postRotation=t.PostRotation.value),"Lcl_Scaling"in t&&(r.scale=t.Lcl_Scaling.value),"ScalingOffset"in t&&(r.scalingOffset=t.ScalingOffset.value),"ScalingPivot"in t&&(r.scalingPivot=t.ScalingPivot.value),"RotationOffset"in t&&(r.rotationOffset=t.RotationOffset.value),"RotationPivot"in t&&(r.rotationPivot=t.RotationPivot.value),e.userData.transformData=r}setLookAtProperties(e,t){"LookAtProperty"in t&&Xn.get(e.ID).children.forEach(function(i){if(i.relationship==="LookAtProperty"){const s=Lt.Objects.Model[i.ID];if("Lcl_Translation"in s){const o=s.Lcl_Translation.value;e.target!==void 0?(e.target.position.fromArray(o),Ai.add(e.target)):e.lookAt(new $().fromArray(o))}}})}bindSkeleton(e,t,r){const i=this.parsePoseNodes();for(const s in e){const o=e[s];Xn.get(parseInt(o.ID)).parents.forEach(function(l){if(t.has(l.ID)){const c=l.ID;Xn.get(c).parents.forEach(function(f){r.has(f.ID)&&r.get(f.ID).bind(new Sh(o.bones),i[f.ID])})}})}}parsePoseNodes(){const e={};if("Pose"in Lt.Objects){const t=Lt.Objects.Pose;for(const r in t)if(t[r].attrType==="BindPose"&&t[r].NbPoseNodes>0){const i=t[r].PoseNode;Array.isArray(i)?i.forEach(function(s){e[s.Node]=new qe().fromArray(s.Matrix.a)}):e[i.Node]=new qe().fromArray(i.Matrix.a)}}return e}createAmbientLight(){if("GlobalSettings"in Lt&&"AmbientColor"in Lt.GlobalSettings){const e=Lt.GlobalSettings.AmbientColor.value,t=e[0],r=e[1],i=e[2];if(t!==0||r!==0||i!==0){const s=new He(t,r,i);Ai.add(new FC(s,1))}}}}class GZ{parse(e){const t=new Map;if("Geometry"in Lt.Objects){const r=Lt.Objects.Geometry;for(const i in r){const s=Xn.get(parseInt(i)),o=this.parseGeometry(s,r[i],e);t.set(parseInt(i),o)}}return t}parseGeometry(e,t,r){switch(t.attrType){case"Mesh":return this.parseMeshGeometry(e,t,r);case"NurbsCurve":return this.parseNurbsGeometry(t)}}parseMeshGeometry(e,t,r){const i=r.skeletons,s=[],o=e.parents.map(function(f){return Lt.Objects.Model[f.ID]});if(o.length===0)return;const a=e.children.reduce(function(f,d){return i[d.ID]!==void 0&&(f=i[d.ID]),f},null);e.children.forEach(function(f){r.morphTargets[f.ID]!==void 0&&s.push(r.morphTargets[f.ID])});const l=o[0],c={};"RotationOrder"in l&&(c.eulerOrder=OU(l.RotationOrder.value)),"InheritType"in l&&(c.inheritType=parseInt(l.InheritType.value)),"GeometricTranslation"in l&&(c.translation=l.GeometricTranslation.value),"GeometricRotation"in l&&(c.rotation=l.GeometricRotation.value),"GeometricScaling"in l&&(c.scale=l.GeometricScaling.value);const u=kU(c);return this.genGeometry(t,a,s,u)}genGeometry(e,t,r,i){const s=new ht;e.attrName&&(s.name=e.attrName);const o=this.parseGeoNode(e,t),a=this.genBuffers(o),l=new Ze(a.vertex,3);if(l.applyMatrix4(i),s.setAttribute("position",l),a.colors.length>0&&s.setAttribute("color",new Ze(a.colors,3)),t&&(s.setAttribute("skinIndex",new R_(a.weightsIndices,4)),s.setAttribute("skinWeight",new Ze(a.vertexWeights,4)),s.FBX_Deformer=t),a.normal.length>0){const c=new $r().getNormalMatrix(i),u=new Ze(a.normal,3);u.applyNormalMatrix(c),s.setAttribute("normal",u)}if(a.uvs.forEach(function(c,u){let f="uv"+(u+1).toString();u===0&&(f="uv"),s.setAttribute(f,new Ze(a.uvs[u],2))}),o.material&&o.material.mappingType!=="AllSame"){let c=a.materialIndex[0],u=0;if(a.materialIndex.forEach(function(f,d){f!==c&&(s.addGroup(u,d-u,c),c=f,u=d)}),s.groups.length>0){const f=s.groups[s.groups.length-1],d=f.start+f.count;d!==a.materialIndex.length&&s.addGroup(d,a.materialIndex.length-d,c)}s.groups.length===0&&s.addGroup(0,a.materialIndex.length,a.materialIndex[0])}return this.addMorphTargets(s,e,r,i),s}parseGeoNode(e,t){const r={};if(r.vertexPositions=e.Vertices!==void 0?e.Vertices.a:[],r.vertexIndices=e.PolygonVertexIndex!==void 0?e.PolygonVertexIndex.a:[],e.LayerElementColor&&(r.color=this.parseVertexColors(e.LayerElementColor[0])),e.LayerElementMaterial&&(r.material=this.parseMaterialIndices(e.LayerElementMaterial[0])),e.LayerElementNormal&&(r.normal=this.parseNormals(e.LayerElementNormal[0])),e.LayerElementUV){r.uv=[];let i=0;for(;e.LayerElementUV[i];)e.LayerElementUV[i].UV&&r.uv.push(this.parseUVs(e.LayerElementUV[i])),i++}return r.weightTable={},t!==null&&(r.skeleton=t,t.rawBones.forEach(function(i,s){i.indices.forEach(function(o,a){r.weightTable[o]===void 0&&(r.weightTable[o]=[]),r.weightTable[o].push({id:s,weight:i.weights[a]})})})),r}genBuffers(e){const t={vertex:[],normal:[],colors:[],uvs:[],materialIndex:[],vertexWeights:[],weightsIndices:[]};let r=0,i=0,s=!1,o=[],a=[],l=[],c=[],u=[],f=[];const d=this;return e.vertexIndices.forEach(function(m,g){let v,y=!1;m<0&&(m=m^-1,y=!0);let x=[],_=[];if(o.push(m*3,m*3+1,m*3+2),e.color){const w=ry(g,r,m,e.color);l.push(w[0],w[1],w[2])}if(e.skeleton){if(e.weightTable[m]!==void 0&&e.weightTable[m].forEach(function(w){_.push(w.weight),x.push(w.id)}),_.length>4){s||(console.warn("THREE.FBXLoader: Vertex has more than 4 skinning weights assigned to vertex. Deleting additional weights."),s=!0);const w=[0,0,0,0],A=[0,0,0,0];_.forEach(function(C,E){let P=C,b=x[E];A.forEach(function(R,D,L){if(P>R){L[D]=P,P=R;const N=w[D];w[D]=b,b=N}})}),x=w,_=A}for(;_.length<4;)_.push(0),x.push(0);for(let w=0;w<4;++w)u.push(_[w]),f.push(x[w])}if(e.normal){const w=ry(g,r,m,e.normal);a.push(w[0],w[1],w[2])}e.material&&e.material.mappingType!=="AllSame"&&(v=ry(g,r,m,e.material)[0]),e.uv&&e.uv.forEach(function(w,A){const C=ry(g,r,m,w);c[A]===void 0&&(c[A]=[]),c[A].push(C[0]),c[A].push(C[1])}),i++,y&&(d.genFace(t,e,o,v,a,l,c,u,f,i),r++,i=0,o=[],a=[],l=[],c=[],u=[],f=[])}),t}genFace(e,t,r,i,s,o,a,l,c,u){for(let f=2;f<u;f++)e.vertex.push(t.vertexPositions[r[0]]),e.vertex.push(t.vertexPositions[r[1]]),e.vertex.push(t.vertexPositions[r[2]]),e.vertex.push(t.vertexPositions[r[(f-1)*3]]),e.vertex.push(t.vertexPositions[r[(f-1)*3+1]]),e.vertex.push(t.vertexPositions[r[(f-1)*3+2]]),e.vertex.push(t.vertexPositions[r[f*3]]),e.vertex.push(t.vertexPositions[r[f*3+1]]),e.vertex.push(t.vertexPositions[r[f*3+2]]),t.skeleton&&(e.vertexWeights.push(l[0]),e.vertexWeights.push(l[1]),e.vertexWeights.push(l[2]),e.vertexWeights.push(l[3]),e.vertexWeights.push(l[(f-1)*4]),e.vertexWeights.push(l[(f-1)*4+1]),e.vertexWeights.push(l[(f-1)*4+2]),e.vertexWeights.push(l[(f-1)*4+3]),e.vertexWeights.push(l[f*4]),e.vertexWeights.push(l[f*4+1]),e.vertexWeights.push(l[f*4+2]),e.vertexWeights.push(l[f*4+3]),e.weightsIndices.push(c[0]),e.weightsIndices.push(c[1]),e.weightsIndices.push(c[2]),e.weightsIndices.push(c[3]),e.weightsIndices.push(c[(f-1)*4]),e.weightsIndices.push(c[(f-1)*4+1]),e.weightsIndices.push(c[(f-1)*4+2]),e.weightsIndices.push(c[(f-1)*4+3]),e.weightsIndices.push(c[f*4]),e.weightsIndices.push(c[f*4+1]),e.weightsIndices.push(c[f*4+2]),e.weightsIndices.push(c[f*4+3])),t.color&&(e.colors.push(o[0]),e.colors.push(o[1]),e.colors.push(o[2]),e.colors.push(o[(f-1)*3]),e.colors.push(o[(f-1)*3+1]),e.colors.push(o[(f-1)*3+2]),e.colors.push(o[f*3]),e.colors.push(o[f*3+1]),e.colors.push(o[f*3+2])),t.material&&t.material.mappingType!=="AllSame"&&(e.materialIndex.push(i),e.materialIndex.push(i),e.materialIndex.push(i)),t.normal&&(e.normal.push(s[0]),e.normal.push(s[1]),e.normal.push(s[2]),e.normal.push(s[(f-1)*3]),e.normal.push(s[(f-1)*3+1]),e.normal.push(s[(f-1)*3+2]),e.normal.push(s[f*3]),e.normal.push(s[f*3+1]),e.normal.push(s[f*3+2])),t.uv&&t.uv.forEach(function(d,m){e.uvs[m]===void 0&&(e.uvs[m]=[]),e.uvs[m].push(a[m][0]),e.uvs[m].push(a[m][1]),e.uvs[m].push(a[m][(f-1)*2]),e.uvs[m].push(a[m][(f-1)*2+1]),e.uvs[m].push(a[m][f*2]),e.uvs[m].push(a[m][f*2+1])})}addMorphTargets(e,t,r,i){if(r.length===0)return;e.morphTargetsRelative=!0,e.morphAttributes.position=[];const s=this;r.forEach(function(o){o.rawTargets.forEach(function(a){const l=Lt.Objects.Geometry[a.geoID];l!==void 0&&s.genMorphGeometry(e,t,l,i,a.name)})})}genMorphGeometry(e,t,r,i,s){const o=t.PolygonVertexIndex!==void 0?t.PolygonVertexIndex.a:[],a=r.Vertices!==void 0?r.Vertices.a:[],l=r.Indexes!==void 0?r.Indexes.a:[],c=e.attributes.position.count*3,u=new Float32Array(c);for(let g=0;g<l.length;g++){const v=l[g]*3;u[v]=a[g*3],u[v+1]=a[g*3+1],u[v+2]=a[g*3+2]}const f={vertexIndices:o,vertexPositions:u},d=this.genBuffers(f),m=new Ze(d.vertex,3);m.name=s||r.attrName,m.applyMatrix4(i),e.morphAttributes.position.push(m)}parseNormals(e){const t=e.MappingInformationType,r=e.ReferenceInformationType,i=e.Normals.a;let s=[];return r==="IndexToDirect"&&("NormalIndex"in e?s=e.NormalIndex.a:"NormalsIndex"in e&&(s=e.NormalsIndex.a)),{dataSize:3,buffer:i,indices:s,mappingType:t,referenceType:r}}parseUVs(e){const t=e.MappingInformationType,r=e.ReferenceInformationType,i=e.UV.a;let s=[];return r==="IndexToDirect"&&(s=e.UVIndex.a),{dataSize:2,buffer:i,indices:s,mappingType:t,referenceType:r}}parseVertexColors(e){const t=e.MappingInformationType,r=e.ReferenceInformationType,i=e.Colors.a;let s=[];return r==="IndexToDirect"&&(s=e.ColorIndex.a),{dataSize:4,buffer:i,indices:s,mappingType:t,referenceType:r}}parseMaterialIndices(e){const t=e.MappingInformationType,r=e.ReferenceInformationType;if(t==="NoMappingInformation")return{dataSize:1,buffer:[0],indices:[0],mappingType:"AllSame",referenceType:r};const i=e.Materials.a,s=[];for(let o=0;o<i.length;++o)s.push(o);return{dataSize:1,buffer:i,indices:s,mappingType:t,referenceType:r}}parseNurbsGeometry(e){if(EB===void 0)return console.error("THREE.FBXLoader: The loader relies on NURBSCurve for any nurbs present in the model. Nurbs will show up as empty geometry."),new ht;const t=parseInt(e.Order);if(isNaN(t))return console.error("THREE.FBXLoader: Invalid Order %s given for geometry ID: %s",e.Order,e.id),new ht;const r=t-1,i=e.KnotVector.a,s=[],o=e.Points.a;for(let f=0,d=o.length;f<d;f+=4)s.push(new Ct().fromArray(o,f));let a,l;if(e.Form==="Closed")s.push(s[0]);else if(e.Form==="Periodic"){a=r,l=i.length-1-a;for(let f=0;f<r;++f)s.push(s[f])}const u=new EB(r,i,s,a,l).getPoints(s.length*12);return new ht().setFromPoints(u)}}class HZ{parse(){const e=[],t=this.parseClips();if(t!==void 0)for(const r in t){const i=t[r],s=this.addClip(i);e.push(s)}return e}parseClips(){if(Lt.Objects.AnimationCurve===void 0)return;const e=this.parseAnimationCurveNodes();this.parseAnimationCurves(e);const t=this.parseAnimationLayers(e);return this.parseAnimStacks(t)}parseAnimationCurveNodes(){const e=Lt.Objects.AnimationCurveNode,t=new Map;for(const r in e){const i=e[r];if(i.attrName.match(/S|R|T|DeformPercent/)!==null){const s={id:i.id,attr:i.attrName,curves:{}};t.set(s.id,s)}}return t}parseAnimationCurves(e){const t=Lt.Objects.AnimationCurve;for(const r in t){const i={id:t[r].id,times:t[r].KeyTime.a.map(XZ),values:t[r].KeyValueFloat.a},s=Xn.get(i.id);if(s!==void 0){const o=s.parents[0].ID,a=s.parents[0].relationship;a.match(/X/)?e.get(o).curves.x=i:a.match(/Y/)?e.get(o).curves.y=i:a.match(/Z/)?e.get(o).curves.z=i:a.match(/d|DeformPercent/)&&e.has(o)&&(e.get(o).curves.morph=i)}}}parseAnimationLayers(e){const t=Lt.Objects.AnimationLayer,r=new Map;for(const i in t){const s=[],o=Xn.get(parseInt(i));o!==void 0&&(o.children.forEach(function(l,c){if(e.has(l.ID)){const u=e.get(l.ID);if(u.curves.x!==void 0||u.curves.y!==void 0||u.curves.z!==void 0){if(s[c]===void 0){const f=Xn.get(l.ID).parents.filter(function(d){return d.relationship!==void 0})[0].ID;if(f!==void 0){const d=Lt.Objects.Model[f.toString()];if(d===void 0){console.warn("THREE.FBXLoader: Encountered a unused curve.",l);return}const m={modelName:d.attrName?Rt.sanitizeNodeName(d.attrName):"",ID:d.id,initialPosition:[0,0,0],initialRotation:[0,0,0],initialScale:[1,1,1]};Ai.traverse(function(g){g.ID===d.id&&(m.transform=g.matrix,g.userData.transformData&&(m.eulerOrder=g.userData.transformData.eulerOrder))}),m.transform||(m.transform=new qe),"PreRotation"in d&&(m.preRotation=d.PreRotation.value),"PostRotation"in d&&(m.postRotation=d.PostRotation.value),s[c]=m}}s[c]&&(s[c][u.attr]=u)}else if(u.curves.morph!==void 0){if(s[c]===void 0){const f=Xn.get(l.ID).parents.filter(function(x){return x.relationship!==void 0})[0].ID,d=Xn.get(f).parents[0].ID,m=Xn.get(d).parents[0].ID,g=Xn.get(m).parents[0].ID,v=Lt.Objects.Model[g],y={modelName:v.attrName?Rt.sanitizeNodeName(v.attrName):"",morphName:Lt.Objects.Deformer[f].attrName};s[c]=y}s[c][u.attr]=u}}}),r.set(parseInt(i),s))}return r}parseAnimStacks(e){const t=Lt.Objects.AnimationStack,r={};for(const i in t){const s=Xn.get(parseInt(i)).children;s.length>1&&console.warn("THREE.FBXLoader: Encountered an animation stack with multiple layers, this is currently not supported. Ignoring subsequent layers.");const o=e.get(s[0].ID);r[i]={name:t[i].attrName,layer:o}}return r}addClip(e){let t=[];const r=this;return e.layer.forEach(function(i){t=t.concat(r.generateTracks(i))}),new Xu(e.name,-1,t)}generateTracks(e){const t=[];let r=new $,i=new pn,s=new $;if(e.transform&&e.transform.decompose(r,i,s),r=r.toArray(),i=new ns().setFromQuaternion(i,e.eulerOrder).toArray(),s=s.toArray(),e.T!==void 0&&Object.keys(e.T.curves).length>0){const o=this.generateVectorTrack(e.modelName,e.T.curves,r,"position");o!==void 0&&t.push(o)}if(e.R!==void 0&&Object.keys(e.R.curves).length>0){const o=this.generateRotationTrack(e.modelName,e.R.curves,i,e.preRotation,e.postRotation,e.eulerOrder);o!==void 0&&t.push(o)}if(e.S!==void 0&&Object.keys(e.S.curves).length>0){const o=this.generateVectorTrack(e.modelName,e.S.curves,s,"scale");o!==void 0&&t.push(o)}if(e.DeformPercent!==void 0){const o=this.generateMorphTrack(e);o!==void 0&&t.push(o)}return t}generateVectorTrack(e,t,r,i){const s=this.getTimesForAllAxes(t),o=this.getKeyframeTrackValues(s,t,r);return new $u(e+"."+i,s,o)}generateRotationTrack(e,t,r,i,s,o){t.x!==void 0&&(this.interpolateRotations(t.x),t.x.values=t.x.values.map(Ei.degToRad)),t.y!==void 0&&(this.interpolateRotations(t.y),t.y.values=t.y.values.map(Ei.degToRad)),t.z!==void 0&&(this.interpolateRotations(t.z),t.z.values=t.z.values.map(Ei.degToRad));const a=this.getTimesForAllAxes(t),l=this.getKeyframeTrackValues(a,t,r);i!==void 0&&(i=i.map(Ei.degToRad),i.push(o),i=new ns().fromArray(i),i=new pn().setFromEuler(i)),s!==void 0&&(s=s.map(Ei.degToRad),s.push(o),s=new ns().fromArray(s),s=new pn().setFromEuler(s).invert());const c=new pn,u=new ns,f=[];for(let d=0;d<l.length;d+=3)u.set(l[d],l[d+1],l[d+2],o),c.setFromEuler(u),i!==void 0&&c.premultiply(i),s!==void 0&&c.multiply(s),c.toArray(f,d/3*4);return new Ha(e+".quaternion",a,f)}generateMorphTrack(e){const t=e.DeformPercent.curves.morph,r=t.values.map(function(s){return s/100}),i=Ai.getObjectByName(e.modelName).morphTargetDictionary[e.morphName];return new ju(e.modelName+".morphTargetInfluences["+i+"]",t.times,r)}getTimesForAllAxes(e){let t=[];if(e.x!==void 0&&(t=t.concat(e.x.times)),e.y!==void 0&&(t=t.concat(e.y.times)),e.z!==void 0&&(t=t.concat(e.z.times)),t=t.sort(function(r,i){return r-i}),t.length>1){let r=1,i=t[0];for(let s=1;s<t.length;s++){const o=t[s];o!==i&&(t[r]=o,i=o,r++)}t=t.slice(0,r)}return t}getKeyframeTrackValues(e,t,r){const i=r,s=[];let o=-1,a=-1,l=-1;return e.forEach(function(c){if(t.x&&(o=t.x.times.indexOf(c)),t.y&&(a=t.y.times.indexOf(c)),t.z&&(l=t.z.times.indexOf(c)),o!==-1){const u=t.x.values[o];s.push(u),i[0]=u}else s.push(i[0]);if(a!==-1){const u=t.y.values[a];s.push(u),i[1]=u}else s.push(i[1]);if(l!==-1){const u=t.z.values[l];s.push(u),i[2]=u}else s.push(i[2])}),s}interpolateRotations(e){for(let t=1;t<e.values.length;t++){const r=e.values[t-1],i=e.values[t]-r,s=Math.abs(i);if(s>=180){const o=s/180,a=i/o;let l=r+a;const c=e.times[t-1],f=(e.times[t]-c)/o;let d=c+f;const m=[],g=[];for(;d<e.times[t];)m.push(d),d+=f,g.push(l),l+=a;e.times=RB(e.times,t,m),e.values=RB(e.values,t,g)}}}}class VZ{getPrevNode(){return this.nodeStack[this.currentIndent-2]}getCurrentNode(){return this.nodeStack[this.currentIndent-1]}getCurrentProp(){return this.currentProp}pushStack(e){this.nodeStack.push(e),this.currentIndent+=1}popStack(){this.nodeStack.pop(),this.currentIndent-=1}setCurrentProp(e,t){this.currentProp=e,this.currentPropName=t}parse(e){this.currentIndent=0,this.allNodes=new LU,this.nodeStack=[],this.currentProp=[],this.currentPropName="";const t=this,r=e.split(/[\r\n]+/);return r.forEach(function(i,s){const o=i.match(/^[\s\t]*;/),a=i.match(/^[\s\t]*$/);if(o||a)return;const l=i.match("^\\t{"+t.currentIndent+"}(\\w+):(.*){",""),c=i.match("^\\t{"+t.currentIndent+"}(\\w+):[\\s\\t\\r\\n](.*)"),u=i.match("^\\t{"+(t.currentIndent-1)+"}}");l?t.parseNodeBegin(i,l):c?t.parseNodeProperty(i,c,r[++s]):u?t.popStack():i.match(/^[^\s\t}]/)&&t.parseNodePropertyContinued(i)}),this.allNodes}parseNodeBegin(e,t){const r=t[1].trim().replace(/^"/,"").replace(/"$/,""),i=t[2].split(",").map(function(l){return l.trim().replace(/^"/,"").replace(/"$/,"")}),s={name:r},o=this.parseNodeAttr(i),a=this.getCurrentNode();this.currentIndent===0?this.allNodes.add(r,s):r in a?(r==="PoseNode"?a.PoseNode.push(s):a[r].id!==void 0&&(a[r]={},a[r][a[r].id]=a[r]),o.id!==""&&(a[r][o.id]=s)):typeof o.id=="number"?(a[r]={},a[r][o.id]=s):r!=="Properties70"&&(r==="PoseNode"?a[r]=[s]:a[r]=s),typeof o.id=="number"&&(s.id=o.id),o.name!==""&&(s.attrName=o.name),o.type!==""&&(s.attrType=o.type),this.pushStack(s)}parseNodeAttr(e){let t=e[0];e[0]!==""&&(t=parseInt(e[0]),isNaN(t)&&(t=e[0]));let r="",i="";return e.length>1&&(r=e[1].replace(/^(\w+)::/,""),i=e[2]),{id:t,name:r,type:i}}parseNodeProperty(e,t,r){let i=t[1].replace(/^"/,"").replace(/"$/,"").trim(),s=t[2].replace(/^"/,"").replace(/"$/,"").trim();i==="Content"&&s===","&&(s=r.replace(/"/g,"").replace(/,$/,"").trim());const o=this.getCurrentNode();if(o.name==="Properties70"){this.parseNodeSpecialProperty(e,i,s);return}if(i==="C"){const l=s.split(",").slice(1),c=parseInt(l[0]),u=parseInt(l[1]);let f=s.split(",").slice(3);f=f.map(function(d){return d.trim().replace(/^"/,"")}),i="connections",s=[c,u],KZ(s,f),o[i]===void 0&&(o[i]=[])}i==="Node"&&(o.id=s),i in o&&Array.isArray(o[i])?o[i].push(s):i!=="a"?o[i]=s:o.a=s,this.setCurrentProp(o,i),i==="a"&&s.slice(-1)!==","&&(o.a=IS(s))}parseNodePropertyContinued(e){const t=this.getCurrentNode();t.a+=e,e.slice(-1)!==","&&(t.a=IS(t.a))}parseNodeSpecialProperty(e,t,r){const i=r.split('",').map(function(u){return u.trim().replace(/^\"/,"").replace(/\s/,"_")}),s=i[0],o=i[1],a=i[2],l=i[3];let c=i[4];switch(o){case"int":case"enum":case"bool":case"ULongLong":case"double":case"Number":case"FieldOfView":c=parseFloat(c);break;case"Color":case"ColorRGB":case"Vector3D":case"Lcl_Translation":case"Lcl_Rotation":case"Lcl_Scaling":c=IS(c);break}this.getPrevNode()[s]={type:o,type2:a,flag:l,value:c},this.setCurrentProp(this.getPrevNode(),s)}}class WZ{parse(e){const t=new TB(e);t.skip(23);const r=t.getUint32();if(r<6400)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+r);const i=new LU;for(;!this.endOfContent(t);){const s=this.parseNode(t,r);s!==null&&i.add(s.name,s)}return i}endOfContent(e){return e.size()%16===0?(e.getOffset()+160+16&-16)>=e.size():e.getOffset()+160+16>=e.size()}parseNode(e,t){const r={},i=t>=7500?e.getUint64():e.getUint32(),s=t>=7500?e.getUint64():e.getUint32();t>=7500?e.getUint64():e.getUint32();const o=e.getUint8(),a=e.getString(o);if(i===0)return null;const l=[];for(let d=0;d<s;d++)l.push(this.parseProperty(e));const c=l.length>0?l[0]:"",u=l.length>1?l[1]:"",f=l.length>2?l[2]:"";for(r.singleProperty=s===1&&e.getOffset()===i;i>e.getOffset();){const d=this.parseNode(e,t);d!==null&&this.parseSubNode(a,r,d)}return r.propertyList=l,typeof c=="number"&&(r.id=c),u!==""&&(r.attrName=u),f!==""&&(r.attrType=f),a!==""&&(r.name=a),r}parseSubNode(e,t,r){if(r.singleProperty===!0){const i=r.propertyList[0];Array.isArray(i)?(t[r.name]=r,r.a=i):t[r.name]=i}else if(e==="Connections"&&r.name==="C"){const i=[];r.propertyList.forEach(function(s,o){o!==0&&i.push(s)}),t.connections===void 0&&(t.connections=[]),t.connections.push(i)}else if(r.name==="Properties70")Object.keys(r).forEach(function(s){t[s]=r[s]});else if(e==="Properties70"&&r.name==="P"){let i=r.propertyList[0],s=r.propertyList[1];const o=r.propertyList[2],a=r.propertyList[3];let l;i.indexOf("Lcl ")===0&&(i=i.replace("Lcl ","Lcl_")),s.indexOf("Lcl ")===0&&(s=s.replace("Lcl ","Lcl_")),s==="Color"||s==="ColorRGB"||s==="Vector"||s==="Vector3D"||s.indexOf("Lcl_")===0?l=[r.propertyList[4],r.propertyList[5],r.propertyList[6]]:l=r.propertyList[4],t[i]={type:s,type2:o,flag:a,value:l}}else t[r.name]===void 0?typeof r.id=="number"?(t[r.name]={},t[r.name][r.id]=r):t[r.name]=r:r.name==="PoseNode"?(Array.isArray(t[r.name])||(t[r.name]=[t[r.name]]),t[r.name].push(r)):t[r.name][r.id]===void 0&&(t[r.name][r.id]=r)}parseProperty(e){const t=e.getString(1);let r;switch(t){case"C":return e.getBoolean();case"D":return e.getFloat64();case"F":return e.getFloat32();case"I":return e.getInt32();case"L":return e.getInt64();case"R":return r=e.getUint32(),e.getArrayBuffer(r);case"S":return r=e.getUint32(),e.getString(r);case"Y":return e.getInt16();case"b":case"c":case"d":case"f":case"i":case"l":const i=e.getUint32(),s=e.getUint32(),o=e.getUint32();if(s===0)switch(t){case"b":case"c":return e.getBooleanArray(i);case"d":return e.getFloat64Array(i);case"f":return e.getFloat32Array(i);case"i":return e.getInt32Array(i);case"l":return e.getInt64Array(i)}const a=qq(new Uint8Array(e.getArrayBuffer(o))),l=new TB(a.buffer);switch(t){case"b":case"c":return l.getBooleanArray(i);case"d":return l.getFloat64Array(i);case"f":return l.getFloat32Array(i);case"i":return l.getInt32Array(i);case"l":return l.getInt64Array(i)}default:throw new Error("THREE.FBXLoader: Unknown property type "+t)}}}class TB{constructor(e,t){this.dv=new DataView(e),this.offset=0,this.littleEndian=t!==void 0?t:!0}getOffset(){return this.offset}size(){return this.dv.buffer.byteLength}skip(e){this.offset+=e}getBoolean(){return(this.getUint8()&1)===1}getBooleanArray(e){const t=[];for(let r=0;r<e;r++)t.push(this.getBoolean());return t}getUint8(){const e=this.dv.getUint8(this.offset);return this.offset+=1,e}getInt16(){const e=this.dv.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}getInt32(){const e=this.dv.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}getInt32Array(e){const t=[];for(let r=0;r<e;r++)t.push(this.getInt32());return t}getUint32(){const e=this.dv.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}getInt64(){let e,t;return this.littleEndian?(e=this.getUint32(),t=this.getUint32()):(t=this.getUint32(),e=this.getUint32()),t&2147483648?(t=~t&4294967295,e=~e&4294967295,e===4294967295&&(t=t+1&4294967295),e=e+1&4294967295,-(t*4294967296+e)):t*4294967296+e}getInt64Array(e){const t=[];for(let r=0;r<e;r++)t.push(this.getInt64());return t}getUint64(){let e,t;return this.littleEndian?(e=this.getUint32(),t=this.getUint32()):(t=this.getUint32(),e=this.getUint32()),t*4294967296+e}getFloat32(){const e=this.dv.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}getFloat32Array(e){const t=[];for(let r=0;r<e;r++)t.push(this.getFloat32());return t}getFloat64(){const e=this.dv.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}getFloat64Array(e){const t=[];for(let r=0;r<e;r++)t.push(this.getFloat64());return t}getArrayBuffer(e){const t=this.dv.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t}getString(e){let t=[];for(let i=0;i<e;i++)t[i]=this.getUint8();const r=t.indexOf(0);return r>=0&&(t=t.slice(0,r)),ss.decodeText(new Uint8Array(t))}}class LU{add(e,t){this[e]=t}}function jZ(n){const e="Kaydara FBX Binary  \0";return n.byteLength>=e.length&&e===FU(n,0,e.length)}function $Z(n){const e=["K","a","y","d","a","r","a","\\","F","B","X","\\","B","i","n","a","r","y","\\","\\"];let t=0;function r(i){const s=n[i-1];return n=n.slice(t+i),t++,s}for(let i=0;i<e.length;++i)if(r(1)===e[i])return!1;return!0}function PB(n){const e=/FBXVersion: (\d+)/,t=n.match(e);if(t)return parseInt(t[1]);throw new Error("THREE.FBXLoader: Cannot find the version number for the file given.")}function XZ(n){return n/46186158e3}const JZ=[];function ry(n,e,t,r){let i;switch(r.mappingType){case"ByPolygonVertex":i=n;break;case"ByPolygon":i=e;break;case"ByVertice":i=t;break;case"AllSame":i=r.indices[0];break;default:console.warn("THREE.FBXLoader: unknown attribute mapping type "+r.mappingType)}r.referenceType==="IndexToDirect"&&(i=r.indices[i]);const s=i*r.dataSize,o=s+r.dataSize;return YZ(JZ,r.buffer,s,o)}const BS=new ns,Zf=new $;function kU(n){const e=new qe,t=new qe,r=new qe,i=new qe,s=new qe,o=new qe,a=new qe,l=new qe,c=new qe,u=new qe,f=new qe,d=new qe,m=n.inheritType?n.inheritType:0;if(n.translation&&e.setPosition(Zf.fromArray(n.translation)),n.preRotation){const D=n.preRotation.map(Ei.degToRad);D.push(n.eulerOrder),t.makeRotationFromEuler(BS.fromArray(D))}if(n.rotation){const D=n.rotation.map(Ei.degToRad);D.push(n.eulerOrder),r.makeRotationFromEuler(BS.fromArray(D))}if(n.postRotation){const D=n.postRotation.map(Ei.degToRad);D.push(n.eulerOrder),i.makeRotationFromEuler(BS.fromArray(D)),i.invert()}n.scale&&s.scale(Zf.fromArray(n.scale)),n.scalingOffset&&a.setPosition(Zf.fromArray(n.scalingOffset)),n.scalingPivot&&o.setPosition(Zf.fromArray(n.scalingPivot)),n.rotationOffset&&l.setPosition(Zf.fromArray(n.rotationOffset)),n.rotationPivot&&c.setPosition(Zf.fromArray(n.rotationPivot)),n.parentMatrixWorld&&(f.copy(n.parentMatrix),u.copy(n.parentMatrixWorld));const g=t.clone().multiply(r).multiply(i),v=new qe;v.extractRotation(u);const y=new qe;y.copyPosition(u);const x=y.clone().invert().multiply(u),_=v.clone().invert().multiply(x),w=s,A=new qe;if(m===0)A.copy(v).multiply(g).multiply(_).multiply(w);else if(m===1)A.copy(v).multiply(_).multiply(g).multiply(w);else{const L=new qe().scale(new $().setFromMatrixScale(f)).clone().invert(),N=_.clone().multiply(L);A.copy(v).multiply(g).multiply(N).multiply(w)}const C=c.clone().invert(),E=o.clone().invert();let P=e.clone().multiply(l).multiply(c).multiply(t).multiply(r).multiply(i).multiply(C).multiply(a).multiply(o).multiply(s).multiply(E);const b=new qe().copyPosition(P),R=u.clone().multiply(b);return d.copyPosition(R),P=d.clone().multiply(A),P.premultiply(u.invert()),P}function OU(n){n=n||0;const e=["ZYX","YZX","XZY","ZXY","YXZ","XYZ"];return n===6?(console.warn("THREE.FBXLoader: unsupported Euler Order: Spherical XYZ. Animations and rotations may be incorrect."),e[0]):e[n]}function IS(n){return n.split(",").map(function(t){return parseFloat(t)})}function FU(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=n.byteLength),ss.decodeText(new Uint8Array(n,e,t))}function KZ(n,e){for(let t=0,r=n.length,i=e.length;t<i;t++,r++)n[r]=e[t]}function YZ(n,e,t,r){for(let i=t,s=0;i<r;i++,s++)n[s]=e[i];return n}function RB(n,e,t){return n.slice(0,e).concat(t).concat(n.slice(e))}const LS=new WeakMap;class QZ extends Qr{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,r,i){const s=new Ni(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(t).catch(i)},r,i)}decodeDracoFile(e,t,r,i){const s={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!r};this.decodeGeometry(e,s).then(t)}decodeGeometry(e,t){for(const l in t.attributeTypes){const c=t.attributeTypes[l];c.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[l]=c.name)}const r=JSON.stringify(t);if(LS.has(e)){const l=LS.get(e);if(l.key===r)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(i=l,new Promise((c,u)=>{i._callbacks[s]={resolve:c,reject:u},i.postMessage({type:"decode",id:s,taskConfig:t,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{i&&s&&this._releaseTask(i,s)}),LS.set(e,{key:r,promise:a}),a}_createGeometry(e){const t=new ht;e.index&&t.setIndex(new Jt(e.index.array,1));for(let r=0;r<e.attributes.length;r++){const i=e.attributes[r],s=i.name,o=i.array,a=i.itemSize;t.setAttribute(s,new Jt(o,a))}return t}_loadLibrary(e,t){const r=new Ni(this.manager);return r.setPath(this.decoderPath),r.setResponseType(t),r.setWithCredentials(this.withCredentials),new Promise((i,s)=>{r.load(e,i,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(r=>{const i=r[0];e||(this.decoderConfig.wasmBinary=r[1]);const s=qZ.toString(),o=["/* draco decoder */",i,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const i=new Worker(this.workerSourceURL);i._callbacks={},i._taskCosts={},i._taskLoad=0,i.postMessage({type:"init",decoderConfig:this.decoderConfig}),i.onmessage=function(s){const o=s.data;switch(o.type){case"decode":i._callbacks[o.id].resolve(o);break;case"error":i._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(i)}else this.workerPool.sort(function(i,s){return i._taskLoad>s._taskLoad?-1:1});const r=this.workerPool[this.workerPool.length-1];return r._taskCosts[e]=t,r._taskLoad+=t,r})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function qZ(){let n,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":n=a.decoderConfig,e=new Promise(function(u){n.onModuleLoaded=function(f){u({draco:f})},DracoDecoderModule(n)});break;case"decode":const l=a.buffer,c=a.taskConfig;e.then(u=>{const f=u.draco,d=new f.Decoder,m=new f.DecoderBuffer;m.Init(new Int8Array(l),l.byteLength);try{const g=t(f,d,m,c),v=g.attributes.map(y=>y.array.buffer);g.index&&v.push(g.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:g},v)}catch(g){console.error(g),self.postMessage({type:"error",id:a.id,error:g.message})}finally{f.destroy(m),f.destroy(d)}});break}};function t(o,a,l,c){const u=c.attributeIDs,f=c.attributeTypes;let d,m;const g=a.GetEncodedGeometryType(l);if(g===o.TRIANGULAR_MESH)d=new o.Mesh,m=a.DecodeBufferToMesh(l,d);else if(g===o.POINT_CLOUD)d=new o.PointCloud,m=a.DecodeBufferToPointCloud(l,d);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!m.ok()||d.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+m.error_msg());const v={index:null,attributes:[]};for(const y in u){const x=self[f[y]];let _,w;if(c.useUniqueIDs)w=u[y],_=a.GetAttributeByUniqueId(d,w);else{if(w=a.GetAttributeId(d,o[u[y]]),w===-1)continue;_=a.GetAttribute(d,w)}v.attributes.push(i(o,a,d,y,x,_))}return g===o.TRIANGULAR_MESH&&(v.index=r(o,a,d)),o.destroy(d),v}function r(o,a,l){const u=l.num_faces()*3,f=u*4,d=o._malloc(f);a.GetTrianglesUInt32Array(l,f,d);const m=new Uint32Array(o.HEAPF32.buffer,d,u).slice();return o._free(d),{array:m,itemSize:1}}function i(o,a,l,c,u,f){const d=f.num_components(),g=l.num_points()*d,v=g*u.BYTES_PER_ELEMENT,y=s(o,u),x=o._malloc(v);a.GetAttributeDataArrayForAllPoints(l,f,y,v,x);const _=new u(o.HEAPF32.buffer,x,g).slice();return o._free(x),{name:c,array:_,itemSize:d}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let iy;const kS=()=>{if(iy)return iy;const n="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),r=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let i=n;WebAssembly.validate(t)&&(i=e);let s;const o=WebAssembly.instantiate(a(i),{}).then(f=>{s=f.instance,s.exports.__wasm_call_ctors()});function a(f){const d=new Uint8Array(f.length);for(let g=0;g<f.length;++g){const v=f.charCodeAt(g);d[g]=v>96?v-71:v>64?v-65:v>47?v+4:v>46?63:62}let m=0;for(let g=0;g<f.length;++g)d[m++]=d[g]<60?r[d[g]]:(d[g]-60)*64+d[++g];return d.buffer.slice(0,m)}function l(f,d,m,g,v,y){const x=s.exports.sbrk,_=m+3&-4,w=x(_*g),A=x(v.length),C=new Uint8Array(s.exports.memory.buffer);C.set(v,A);const E=f(w,m,g,A,v.length);if(E===0&&y&&y(w,_,g),d.set(C.subarray(w,w+m*g)),x(w-x(0)),E!==0)throw new Error(`Malformed buffer data: ${E}`)}const c={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},u={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return iy={ready:o,supported:!0,decodeVertexBuffer(f,d,m,g,v){l(s.exports.meshopt_decodeVertexBuffer,f,d,m,g,s.exports[c[v]])},decodeIndexBuffer(f,d,m,g){l(s.exports.meshopt_decodeIndexBuffer,f,d,m,g)},decodeIndexSequence(f,d,m,g){l(s.exports.meshopt_decodeIndexSequence,f,d,m,g)},decodeGltfBuffer(f,d,m,g,v,y){l(s.exports[u[v]],f,d,m,g,s.exports[c[y]])}},iy};function Kg(n,e){if(Object.is(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;const t=Object.keys(n);if(t.length!==Object.keys(e).length)return!1;for(let r=0;r<t.length;r++)if(!Object.prototype.hasOwnProperty.call(e,t[r])||!Object.is(n[t[r]],e[t[r]]))return!1;return!0}function ZZ(){var n=Object.create(null);function e(i,s){var o=i.id,a=i.name,l=i.dependencies;l===void 0&&(l=[]);var c=i.init;c===void 0&&(c=function(){});var u=i.getTransferables;if(u===void 0&&(u=null),!n[o])try{l=l.map(function(d){return d&&d.isWorkerModule&&(e(d,function(m){if(m instanceof Error)throw m}),d=n[d.id].value),d}),c=r("<"+a+">.init",c),u&&(u=r("<"+a+">.getTransferables",u));var f=null;typeof c=="function"?f=c.apply(void 0,l):console.error("worker module init function failed to rehydrate"),n[o]={id:o,value:f,getTransferables:u},s(f)}catch(d){d&&d.noLog||console.error(d),s(d)}}function t(i,s){var o,a=i.id,l=i.args;(!n[a]||typeof n[a].value!="function")&&s(new Error("Worker module "+a+": not found or its 'init' did not return a function"));try{var c=(o=n[a]).value.apply(o,l);c&&typeof c.then=="function"?c.then(u,function(f){return s(f instanceof Error?f:new Error(""+f))}):u(c)}catch(f){s(f)}function u(f){try{var d=n[a].getTransferables&&n[a].getTransferables(f);(!d||!Array.isArray(d)||!d.length)&&(d=void 0),s(f,d)}catch(m){console.error(m),s(m)}}}function r(i,s){var o=void 0;self.troikaDefine=function(l){return o=l};var a=URL.createObjectURL(new Blob(["/** "+i.replace(/\*/g,"")+` **/

troikaDefine(
`+s+`
)`],{type:"application/javascript"}));try{importScripts(a)}catch(l){console.error(l)}return URL.revokeObjectURL(a),delete self.troikaDefine,o}self.addEventListener("message",function(i){var s=i.data,o=s.messageId,a=s.action,l=s.data;try{a==="registerModule"&&e(l,function(c){c instanceof Error?postMessage({messageId:o,success:!1,error:c.message}):postMessage({messageId:o,success:!0,result:{isCallable:typeof c=="function"}})}),a==="callModule"&&t(l,function(c,u){c instanceof Error?postMessage({messageId:o,success:!1,error:c.message}):postMessage({messageId:o,success:!0,result:c},u||void 0)})}catch(c){postMessage({messageId:o,success:!1,error:c.stack})}})}function eee(n){var e=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];return e._getInitResult().then(function(i){if(typeof i=="function")return i.apply(void 0,t);throw new Error("Worker module function was called but `init` did not return a callable function")})};return e._getInitResult=function(){var t=n.dependencies,r=n.init;t=Array.isArray(t)?t.map(function(s){return s&&s._getInitResult?s._getInitResult():s}):[];var i=Promise.all(t).then(function(s){return r.apply(null,s)});return e._getInitResult=function(){return i},i},e}var NU=function(){var n=!1;if(typeof window<"u"&&typeof window.document<"u")try{var e=new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"})));e.terminate(),n=!0}catch(t){typeof process<"u",console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+t.message+"]")}return NU=function(){return n},n},tee=0,nee=0,OS=!1,fm=Object.create(null),dm=Object.create(null),cM=Object.create(null);function Yg(n){if((!n||typeof n.init!="function")&&!OS)throw new Error("requires `options.init` function");var e=n.dependencies,t=n.init,r=n.getTransferables,i=n.workerId;if(!NU())return eee(n);i==null&&(i="#default");var s="workerModule"+ ++tee,o=n.name||s,a=null;e=e&&e.map(function(c){return typeof c=="function"&&!c.workerModuleData&&(OS=!0,c=Yg({workerId:i,name:"<"+o+"> function dependency: "+c.name,init:`function(){return (
`+$y(c)+`
)}`}),OS=!1),c&&c.workerModuleData&&(c=c.workerModuleData),c});function l(){for(var c=[],u=arguments.length;u--;)c[u]=arguments[u];if(!a){a=DB(i,"registerModule",l.workerModuleData);var f=function(){a=null,dm[i].delete(f)};(dm[i]||(dm[i]=new Set)).add(f)}return a.then(function(d){var m=d.isCallable;if(m)return DB(i,"callModule",{id:s,args:c});throw new Error("Worker module function was called but `init` did not return a callable function")})}return l.workerModuleData={isWorkerModule:!0,id:s,name:o,dependencies:e,init:$y(t),getTransferables:r&&$y(r)},l}function ree(n){dm[n]&&dm[n].forEach(function(e){e()}),fm[n]&&(fm[n].terminate(),delete fm[n])}function $y(n){var e=n.toString();return!/^function/.test(e)&&/^\w+\s*\(/.test(e)&&(e="function "+e),e}function iee(n){var e=fm[n];if(!e){var t=$y(ZZ);e=fm[n]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+n.replace(/\*/g,"")+` **/

;(`+t+")()"],{type:"application/javascript"}))),e.onmessage=function(r){var i=r.data,s=i.messageId,o=cM[s];if(!o)throw new Error("WorkerModule response with empty or unknown messageId");delete cM[s],o(i)}}return e}function DB(n,e,t){return new Promise(function(r,i){var s=++nee;cM[s]=function(o){o.success?r(o.result):i(new Error("Error in worker "+e+" call: "+o.error))},iee(n).postMessage({messageId:s,action:e,data:t})})}function UU(){var n=function(e){function t(U,H,G,X,Z,re,ie,Q){var ue=1-ie;Q.x=ue*ue*U+2*ue*ie*G+ie*ie*Z,Q.y=ue*ue*H+2*ue*ie*X+ie*ie*re}function r(U,H,G,X,Z,re,ie,Q,ue,he){var be=1-ue;he.x=be*be*be*U+3*be*be*ue*G+3*be*ue*ue*Z+ue*ue*ue*ie,he.y=be*be*be*H+3*be*be*ue*X+3*be*ue*ue*re+ue*ue*ue*Q}function i(U,H){for(var G=/([MLQCZ])([^MLQCZ]*)/g,X,Z,re,ie,Q;X=G.exec(U);){var ue=X[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(he){return parseFloat(he)});switch(X[1]){case"M":ie=Z=ue[0],Q=re=ue[1];break;case"L":(ue[0]!==ie||ue[1]!==Q)&&H("L",ie,Q,ie=ue[0],Q=ue[1]);break;case"Q":{H("Q",ie,Q,ie=ue[2],Q=ue[3],ue[0],ue[1]);break}case"C":{H("C",ie,Q,ie=ue[4],Q=ue[5],ue[0],ue[1],ue[2],ue[3]);break}case"Z":(ie!==Z||Q!==re)&&H("L",ie,Q,Z,re);break}}}function s(U,H,G){G===void 0&&(G=16);var X={x:0,y:0};i(U,function(Z,re,ie,Q,ue,he,be,ye,Se){switch(Z){case"L":H(re,ie,Q,ue);break;case"Q":{for(var ne=re,le=ie,Ee=1;Ee<G;Ee++)t(re,ie,he,be,Q,ue,Ee/(G-1),X),H(ne,le,X.x,X.y),ne=X.x,le=X.y;break}case"C":{for(var Ce=re,Ae=ie,je=1;je<G;je++)r(re,ie,he,be,ye,Se,Q,ue,je/(G-1),X),H(Ce,Ae,X.x,X.y),Ce=X.x,Ae=X.y;break}}})}var o="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",a="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",l=new WeakMap,c={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function u(U,H){var G=U.getContext?U.getContext("webgl",c):U,X=l.get(G);if(!X){let Ce=function(_e){var j=re[_e];if(!j&&(j=re[_e]=G.getExtension(_e),!j))throw new Error(_e+" not supported");return j},Ae=function(_e,j){var F=G.createShader(j);return G.shaderSource(F,_e),G.compileShader(F),F},je=function(_e,j,F,q){if(!ie[_e]){var de={},Te={},Re=G.createProgram();G.attachShader(Re,Ae(j,G.VERTEX_SHADER)),G.attachShader(Re,Ae(F,G.FRAGMENT_SHADER)),G.linkProgram(Re),ie[_e]={program:Re,transaction:function(Be){G.useProgram(Re),Be({setUniform:function(We,Fe){for(var ze=[],Ne=arguments.length-2;Ne-- >0;)ze[Ne]=arguments[Ne+2];var Ie=Te[Fe]||(Te[Fe]=G.getUniformLocation(Re,Fe));G["uniform"+We].apply(G,[Ie].concat(ze))},setAttribute:function(We,Fe,ze,Ne,Ie){var $e=de[We];$e||($e=de[We]={buf:G.createBuffer(),loc:G.getAttribLocation(Re,We),data:null}),G.bindBuffer(G.ARRAY_BUFFER,$e.buf),G.vertexAttribPointer($e.loc,Fe,G.FLOAT,!1,0,0),G.enableVertexAttribArray($e.loc),Z?G.vertexAttribDivisor($e.loc,Ne):Ce("ANGLE_instanced_arrays").vertexAttribDivisorANGLE($e.loc,Ne),Ie!==$e.data&&(G.bufferData(G.ARRAY_BUFFER,Ie,ze),$e.data=Ie)}})}}}ie[_e].transaction(q)},we=function(_e,j){ue++;try{G.activeTexture(G.TEXTURE0+ue);var F=Q[_e];F||(F=Q[_e]=G.createTexture(),G.bindTexture(G.TEXTURE_2D,F),G.texParameteri(G.TEXTURE_2D,G.TEXTURE_MIN_FILTER,G.NEAREST),G.texParameteri(G.TEXTURE_2D,G.TEXTURE_MAG_FILTER,G.NEAREST)),G.bindTexture(G.TEXTURE_2D,F),j(F,ue)}finally{ue--}},Le=function(_e,j,F){var q=G.createFramebuffer();he.push(q),G.bindFramebuffer(G.FRAMEBUFFER,q),G.activeTexture(G.TEXTURE0+j),G.bindTexture(G.TEXTURE_2D,_e),G.framebufferTexture2D(G.FRAMEBUFFER,G.COLOR_ATTACHMENT0,G.TEXTURE_2D,_e,0);try{F(q)}finally{G.deleteFramebuffer(q),G.bindFramebuffer(G.FRAMEBUFFER,he[--he.length-1]||null)}},Ue=function(){re={},ie={},Q={},ue=-1,he.length=0};var be=Ce,ye=Ae,Se=je,ne=we,le=Le,Ee=Ue,Z=typeof WebGL2RenderingContext<"u"&&G instanceof WebGL2RenderingContext,re={},ie={},Q={},ue=-1,he=[];G.canvas.addEventListener("webglcontextlost",function(_e){Ue(),_e.preventDefault()},!1),l.set(G,X={gl:G,isWebGL2:Z,getExtension:Ce,withProgram:je,withTexture:we,withTextureFramebuffer:Le,handleContextLoss:Ue})}H(X)}function f(U,H,G,X,Z,re,ie,Q){ie===void 0&&(ie=15),Q===void 0&&(Q=null),u(U,function(ue){var he=ue.gl,be=ue.withProgram,ye=ue.withTexture;ye("copy",function(Se,ne){he.texImage2D(he.TEXTURE_2D,0,he.RGBA,Z,re,0,he.RGBA,he.UNSIGNED_BYTE,H),be("copy",o,a,function(le){var Ee=le.setUniform,Ce=le.setAttribute;Ce("aUV",2,he.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),Ee("1i","image",ne),he.bindFramebuffer(he.FRAMEBUFFER,Q||null),he.disable(he.BLEND),he.colorMask(ie&8,ie&4,ie&2,ie&1),he.viewport(G,X,Z,re),he.scissor(G,X,Z,re),he.drawArrays(he.TRIANGLES,0,3)})})})}function d(U,H,G){var X=U.width,Z=U.height;u(U,function(re){var ie=re.gl,Q=new Uint8Array(X*Z*4);ie.readPixels(0,0,X,Z,ie.RGBA,ie.UNSIGNED_BYTE,Q),U.width=H,U.height=G,f(ie,Q,0,0,X,Z)})}var m=Object.freeze({__proto__:null,withWebGLContext:u,renderImageData:f,resizeWebGLCanvasWithoutClearing:d});function g(U,H,G,X,Z,re){re===void 0&&(re=1);var ie=new Uint8Array(U*H),Q=X[2]-X[0],ue=X[3]-X[1],he=[];s(G,function(Ce,Ae,je,we){he.push({x1:Ce,y1:Ae,x2:je,y2:we,minX:Math.min(Ce,je),minY:Math.min(Ae,we),maxX:Math.max(Ce,je),maxY:Math.max(Ae,we)})}),he.sort(function(Ce,Ae){return Ce.maxX-Ae.maxX});for(var be=0;be<U;be++)for(var ye=0;ye<H;ye++){var Se=le(X[0]+Q*(be+.5)/U,X[1]+ue*(ye+.5)/H),ne=Math.pow(1-Math.abs(Se)/Z,re)/2;Se<0&&(ne=1-ne),ne=Math.max(0,Math.min(255,Math.round(ne*255))),ie[ye*U+be]=ne}return ie;function le(Ce,Ae){for(var je=1/0,we=1/0,Le=he.length;Le--;){var Ue=he[Le];if(Ue.maxX+we<=Ce)break;if(Ce+we>Ue.minX&&Ae-we<Ue.maxY&&Ae+we>Ue.minY){var _e=x(Ce,Ae,Ue.x1,Ue.y1,Ue.x2,Ue.y2);_e<je&&(je=_e,we=Math.sqrt(je))}}return Ee(Ce,Ae)&&(we=-we),we}function Ee(Ce,Ae){for(var je=0,we=he.length;we--;){var Le=he[we];if(Le.maxX<=Ce)break;var Ue=Le.y1>Ae!=Le.y2>Ae&&Ce<(Le.x2-Le.x1)*(Ae-Le.y1)/(Le.y2-Le.y1)+Le.x1;Ue&&(je+=Le.y1<Le.y2?1:-1)}return je!==0}}function v(U,H,G,X,Z,re,ie,Q,ue,he){re===void 0&&(re=1),Q===void 0&&(Q=0),ue===void 0&&(ue=0),he===void 0&&(he=0),y(U,H,G,X,Z,re,ie,null,Q,ue,he)}function y(U,H,G,X,Z,re,ie,Q,ue,he,be){re===void 0&&(re=1),ue===void 0&&(ue=0),he===void 0&&(he=0),be===void 0&&(be=0);for(var ye=g(U,H,G,X,Z,re),Se=new Uint8Array(ye.length*4),ne=0;ne<ye.length;ne++)Se[ne*4+be]=ye[ne];f(ie,Se,ue,he,U,H,1<<3-be,Q)}function x(U,H,G,X,Z,re){var ie=Z-G,Q=re-X,ue=ie*ie+Q*Q,he=ue?Math.max(0,Math.min(1,((U-G)*ie+(H-X)*Q)/ue)):0,be=U-(G+he*ie),ye=H-(X+he*Q);return be*be+ye*ye}var _=Object.freeze({__proto__:null,generate:g,generateIntoCanvas:v,generateIntoFramebuffer:y}),w="precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",A="precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",C="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",E=new Float32Array([0,0,2,0,0,2]),P=null,b=!1,R={},D=new WeakMap;function L(U){if(!b&&!V(U))throw new Error("WebGL generation not supported")}function N(U,H,G,X,Z,re,ie){if(re===void 0&&(re=1),ie===void 0&&(ie=null),!ie&&(ie=P,!ie)){var Q=typeof OffscreenCanvas=="function"?new OffscreenCanvas(1,1):typeof document<"u"?document.createElement("canvas"):null;if(!Q)throw new Error("OffscreenCanvas or DOM canvas not supported");ie=P=Q.getContext("webgl",{depth:!1})}L(ie);var ue=new Uint8Array(U*H*4);u(ie,function(Se){var ne=Se.gl,le=Se.withTexture,Ee=Se.withTextureFramebuffer;le("readable",function(Ce,Ae){ne.texImage2D(ne.TEXTURE_2D,0,ne.RGBA,U,H,0,ne.RGBA,ne.UNSIGNED_BYTE,null),Ee(Ce,Ae,function(je){k(U,H,G,X,Z,re,ne,je,0,0,0),ne.readPixels(0,0,U,H,ne.RGBA,ne.UNSIGNED_BYTE,ue)})})});for(var he=new Uint8Array(U*H),be=0,ye=0;be<ue.length;be+=4)he[ye++]=ue[be];return he}function z(U,H,G,X,Z,re,ie,Q,ue,he){re===void 0&&(re=1),Q===void 0&&(Q=0),ue===void 0&&(ue=0),he===void 0&&(he=0),k(U,H,G,X,Z,re,ie,null,Q,ue,he)}function k(U,H,G,X,Z,re,ie,Q,ue,he,be){re===void 0&&(re=1),ue===void 0&&(ue=0),he===void 0&&(he=0),be===void 0&&(be=0),L(ie);var ye=[];s(G,function(Se,ne,le,Ee){ye.push(Se,ne,le,Ee)}),ye=new Float32Array(ye),u(ie,function(Se){var ne=Se.gl,le=Se.isWebGL2,Ee=Se.getExtension,Ce=Se.withProgram,Ae=Se.withTexture,je=Se.withTextureFramebuffer,we=Se.handleContextLoss;if(Ae("rawDistances",function(Le,Ue){(U!==Le._lastWidth||H!==Le._lastHeight)&&ne.texImage2D(ne.TEXTURE_2D,0,ne.RGBA,Le._lastWidth=U,Le._lastHeight=H,0,ne.RGBA,ne.UNSIGNED_BYTE,null),Ce("main",w,A,function(_e){var j=_e.setAttribute,F=_e.setUniform,q=!le&&Ee("ANGLE_instanced_arrays"),de=!le&&Ee("EXT_blend_minmax");j("aUV",2,ne.STATIC_DRAW,0,E),j("aLineSegment",4,ne.DYNAMIC_DRAW,1,ye),F.apply(void 0,["4f","uGlyphBounds"].concat(X)),F("1f","uMaxDistance",Z),F("1f","uExponent",re),je(Le,Ue,function(Te){ne.enable(ne.BLEND),ne.colorMask(!0,!0,!0,!0),ne.viewport(0,0,U,H),ne.scissor(0,0,U,H),ne.blendFunc(ne.ONE,ne.ONE),ne.blendEquationSeparate(ne.FUNC_ADD,le?ne.MAX:de.MAX_EXT),ne.clear(ne.COLOR_BUFFER_BIT),le?ne.drawArraysInstanced(ne.TRIANGLES,0,3,ye.length/4):q.drawArraysInstancedANGLE(ne.TRIANGLES,0,3,ye.length/4)})}),Ce("post",o,C,function(_e){_e.setAttribute("aUV",2,ne.STATIC_DRAW,0,E),_e.setUniform("1i","tex",Ue),ne.bindFramebuffer(ne.FRAMEBUFFER,Q),ne.disable(ne.BLEND),ne.colorMask(be===0,be===1,be===2,be===3),ne.viewport(ue,he,U,H),ne.scissor(ue,he,U,H),ne.drawArrays(ne.TRIANGLES,0,3)})}),ne.isContextLost())throw we(),new Error("webgl context lost")})}function V(U){var H=!U||U===P?R:U.canvas||U,G=D.get(H);if(G===void 0){b=!0;var X=null;try{var Z=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],re=N(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,U);G=re&&Z.length===re.length&&re.every(function(ie,Q){return ie===Z[Q]}),G||(X="bad trial run results",console.info(Z,re))}catch(ie){G=!1,X=ie.message}X&&console.warn("WebGL SDF generation not supported:",X),b=!1,D.set(H,G)}return G}var W=Object.freeze({__proto__:null,generate:N,generateIntoCanvas:z,generateIntoFramebuffer:k,isSupported:V});function Y(U,H,G,X,Z,re){Z===void 0&&(Z=Math.max(X[2]-X[0],X[3]-X[1])/2),re===void 0&&(re=1);try{return N.apply(W,arguments)}catch(ie){return console.info("WebGL SDF generation failed, falling back to JS",ie),g.apply(_,arguments)}}function O(U,H,G,X,Z,re,ie,Q,ue,he){Z===void 0&&(Z=Math.max(X[2]-X[0],X[3]-X[1])/2),re===void 0&&(re=1),Q===void 0&&(Q=0),ue===void 0&&(ue=0),he===void 0&&(he=0);try{return z.apply(W,arguments)}catch(be){return console.info("WebGL SDF generation failed, falling back to JS",be),v.apply(_,arguments)}}return e.forEachPathCommand=i,e.generate=Y,e.generateIntoCanvas=O,e.javascript=_,e.pathToLineSegments=s,e.webgl=W,e.webglUtils=m,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return n}function see(){var n=function(e){var t={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},r={},i={};r.L=1,i[1]="L",Object.keys(t).forEach(function(we,Le){r[we]=1<<Le+1,i[r[we]]=we}),Object.freeze(r);var s=r.LRI|r.RLI|r.FSI,o=r.L|r.R|r.AL,a=r.B|r.S|r.WS|r.ON|r.FSI|r.LRI|r.RLI|r.PDI,l=r.BN|r.RLE|r.LRE|r.RLO|r.LRO|r.PDF,c=r.S|r.WS|r.B|s|r.PDI|l,u=null;function f(){if(!u){u=new Map;var we=function(Ue){if(t.hasOwnProperty(Ue)){var _e=0;t[Ue].split(",").forEach(function(j){var F=j.split("+"),q=F[0],de=F[1];q=parseInt(q,36),de=de?parseInt(de,36):0,u.set(_e+=q,r[Ue]);for(var Te=0;Te<de;Te++)u.set(++_e,r[Ue])})}};for(var Le in t)we(Le)}}function d(we){return f(),u.get(we.codePointAt(0))||r.L}function m(we){return i[d(we)]}var g={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function v(we,Le){var Ue=36,_e=0,j=new Map,F=Le&&new Map,q;return we.split(",").forEach(function de(Te){if(Te.indexOf("+")!==-1)for(var Re=+Te;Re--;)de(q);else{q=Te;var Oe=Te.split(">"),Be=Oe[0],ge=Oe[1];Be=String.fromCodePoint(_e+=parseInt(Be,Ue)),ge=String.fromCodePoint(_e+=parseInt(ge,Ue)),j.set(Be,ge),Le&&F.set(ge,Be)}}),{map:j,reverseMap:F}}var y,x,_;function w(){if(!y){var we=v(g.pairs,!0),Le=we.map,Ue=we.reverseMap;y=Le,x=Ue,_=v(g.canonical,!1).map}}function A(we){return w(),y.get(we)||null}function C(we){return w(),x.get(we)||null}function E(we){return w(),_.get(we)||null}var P=r.L,b=r.R,R=r.EN,D=r.ES,L=r.ET,N=r.AN,z=r.CS,k=r.B,V=r.S,W=r.ON,Y=r.BN,O=r.NSM,U=r.AL,H=r.LRO,G=r.RLO,X=r.LRE,Z=r.RLE,re=r.PDF,ie=r.LRI,Q=r.RLI,ue=r.FSI,he=r.PDI;function be(we,Le){for(var Ue=125,_e=new Uint32Array(we.length),j=0;j<we.length;j++)_e[j]=d(we[j]);var F=new Map;function q(gr,ii){var Hn=_e[gr];_e[gr]=ii,F.set(Hn,F.get(Hn)-1),Hn&a&&F.set(a,F.get(a)-1),F.set(ii,(F.get(ii)||0)+1),ii&a&&F.set(a,(F.get(a)||0)+1)}for(var de=new Uint8Array(we.length),Te=new Map,Re=[],Oe=null,Be=0;Be<we.length;Be++)Oe||Re.push(Oe={start:Be,end:we.length-1,level:Le==="rtl"?1:Le==="ltr"?0:yf(Be,!1)}),_e[Be]&k&&(Oe.end=Be,Oe=null);for(var ge=Z|X|G|H|s|he|re|k,We=function(gr){return gr+(gr&1?1:2)},Fe=function(gr){return gr+(gr&1?2:1)},ze=0;ze<Re.length;ze++){Oe=Re[ze];var Ne=[{_level:Oe.level,_override:0,_isolate:0}],Ie=void 0,$e=0,st=0,gt=0;F.clear();for(var te=Oe.start;te<=Oe.end;te++){var me=_e[te];if(Ie=Ne[Ne.length-1],F.set(me,(F.get(me)||0)+1),me&a&&F.set(a,(F.get(a)||0)+1),me&ge)if(me&(Z|X)){de[te]=Ie._level;var ke=(me===Z?Fe:We)(Ie._level);ke<=Ue&&!$e&&!st?Ne.push({_level:ke,_override:0,_isolate:0}):$e||st++}else if(me&(G|H)){de[te]=Ie._level;var Xe=(me===G?Fe:We)(Ie._level);Xe<=Ue&&!$e&&!st?Ne.push({_level:Xe,_override:me&G?b:P,_isolate:0}):$e||st++}else if(me&s){me&ue&&(me=yf(te+1,!0)===1?Q:ie),de[te]=Ie._level,Ie._override&&q(te,Ie._override);var tt=(me===Q?Fe:We)(Ie._level);tt<=Ue&&$e===0&&st===0?(gt++,Ne.push({_level:tt,_override:0,_isolate:1,_isolInitIndex:te})):$e++}else if(me&he){if($e>0)$e--;else if(gt>0){for(st=0;!Ne[Ne.length-1]._isolate;)Ne.pop();var _t=Ne[Ne.length-1]._isolInitIndex;_t!=null&&(Te.set(_t,te),Te.set(te,_t)),Ne.pop(),gt--}Ie=Ne[Ne.length-1],de[te]=Ie._level,Ie._override&&q(te,Ie._override)}else me&re?($e===0&&(st>0?st--:!Ie._isolate&&Ne.length>1&&(Ne.pop(),Ie=Ne[Ne.length-1])),de[te]=Ie._level):me&k&&(de[te]=Oe.level);else de[te]=Ie._level,Ie._override&&me!==Y&&q(te,Ie._override)}for(var Nt=[],Wt=null,zt=Oe.start;zt<=Oe.end;zt++){var Gt=_e[zt];if(!(Gt&l)){var Ut=de[zt],Dt=Gt&s,kr=Gt===he;Wt&&Ut===Wt._level?(Wt._end=zt,Wt._endsWithIsolInit=Dt):Nt.push(Wt={_start:zt,_end:zt,_level:Ut,_startsWithPDI:kr,_endsWithIsolInit:Dt})}}for(var Mr=[],jt=0;jt<Nt.length;jt++){var xn=Nt[jt];if(!xn._startsWithPDI||xn._startsWithPDI&&!Te.has(xn._start)){for(var J=[Wt=xn],fe=void 0;Wt&&Wt._endsWithIsolInit&&(fe=Te.get(Wt._end))!=null;)for(var ve=jt+1;ve<Nt.length;ve++)if(Nt[ve]._start===fe){J.push(Wt=Nt[ve]);break}for(var ce=[],Pe=0;Pe<J.length;Pe++)for(var nt=J[Pe],lt=nt._start;lt<=nt._end;lt++)ce.push(lt);for(var xt=de[ce[0]],mt=Oe.level,Tt=ce[0]-1;Tt>=0;Tt--)if(!(_e[Tt]&l)){mt=de[Tt];break}var wt=ce[ce.length-1],Bt=de[wt],en=Oe.level;if(!(_e[wt]&s)){for(var yi=wt+1;yi<=Oe.end;yi++)if(!(_e[yi]&l)){en=de[yi];break}}Mr.push({_seqIndices:ce,_sosType:Math.max(mt,xt)%2?b:P,_eosType:Math.max(en,Bt)%2?b:P})}}for(var ps=0;ps<Mr.length;ps++){var ms=Mr[ps],Qe=ms._seqIndices,St=ms._sosType,gs=ms._eosType,Yt=de[Qe[0]]&1?b:P;if(F.get(O))for(var sr=0;sr<Qe.length;sr++){var Zr=Qe[sr];if(_e[Zr]&O){for(var Or=St,Cr=sr-1;Cr>=0;Cr--)if(!(_e[Qe[Cr]]&l)){Or=_e[Qe[Cr]];break}q(Zr,Or&(s|he)?W:Or)}}if(F.get(R))for(var pt=0;pt<Qe.length;pt++){var It=Qe[pt];if(_e[It]&R)for(var Er=pt-1;Er>=-1;Er--){var Ht=Er===-1?St:_e[Qe[Er]];if(Ht&o){Ht===U&&q(It,N);break}}}if(F.get(U))for(var Bn=0;Bn<Qe.length;Bn++){var vs=Qe[Bn];_e[vs]&U&&q(vs,b)}if(F.get(D)||F.get(z))for(var ei=1;ei<Qe.length-1;ei++){var pr=Qe[ei];if(_e[pr]&(D|z)){for(var eo=0,df=0,hf=ei-1;hf>=0&&(eo=_e[Qe[hf]],!!(eo&l));hf--);for(var il=ei+1;il<Qe.length&&(df=_e[Qe[il]],!!(df&l));il++);eo===df&&(_e[pr]===D?eo===R:eo&(R|N))&&q(pr,eo)}}if(F.get(R))for(var zi=0;zi<Qe.length;zi++){var Gi=Qe[zi];if(_e[Gi]&R){for(var pf=zi-1;pf>=0&&_e[Qe[pf]]&(L|l);pf--)q(Qe[pf],R);for(zi++;zi<Qe.length&&_e[Qe[zi]]&(L|l|R);zi++)_e[Qe[zi]]!==R&&q(Qe[zi],R)}}if(F.get(L)||F.get(D)||F.get(z))for(var Mc=0;Mc<Qe.length;Mc++){var a0=Qe[Mc];if(_e[a0]&(L|D|z)){q(a0,W);for(var ta=Mc-1;ta>=0&&_e[Qe[ta]]&l;ta--)q(Qe[ta],W);for(var na=Mc+1;na<Qe.length&&_e[Qe[na]]&l;na++)q(Qe[na],W)}}if(F.get(R))for(var ra=0,Cc=St;ra<Qe.length;ra++){var l0=Qe[ra],Oh=_e[l0];Oh&R?Cc===P&&q(l0,P):Oh&o&&(Cc=Oh)}if(F.get(a)){var ia=b|R|N,mf=ia|P,Po=[];{for(var sl=[],Ro=0;Ro<Qe.length;Ro++)if(_e[Qe[Ro]]&a){var Pt=we[Qe[Ro]],Fh=void 0;if(A(Pt)!==null)if(sl.length<63)sl.push({char:Pt,seqIndex:Ro});else break;else if((Fh=C(Pt))!==null)for(var sa=sl.length-1;sa>=0;sa--){var gf=sl[sa].char;if(gf===Fh||gf===C(E(Pt))||A(E(gf))===Pt){Po.push([sl[sa].seqIndex,Ro]),sl.length=sa;break}}}Po.sort(function(gr,ii){return gr[0]-ii[0]})}for(var Nh=0;Nh<Po.length;Nh++){for(var c0=Po[Nh],wn=c0[0],Ec=c0[1],u0=!1,ti=0,Uh=wn+1;Uh<Ec;Uh++){var Tc=Qe[Uh];if(_e[Tc]&mf){u0=!0;var Hi=_e[Tc]&ia?b:P;if(Hi===Yt){ti=Hi;break}}}if(u0&&!ti){ti=St;for(var zh=wn-1;zh>=0;zh--){var f0=Qe[zh];if(_e[f0]&mf){var Vi=_e[f0]&ia?b:P;Vi!==Yt?ti=Vi:ti=Yt;break}}}if(ti){if(_e[Qe[wn]]=_e[Qe[Ec]]=ti,ti!==Yt){for(var ni=wn+1;ni<Qe.length;ni++)if(!(_e[Qe[ni]]&l)){d(we[Qe[ni]])&O&&(_e[Qe[ni]]=ti);break}}if(ti!==Yt){for(var Do=Ec+1;Do<Qe.length;Do++)if(!(_e[Qe[Do]]&l)){d(we[Qe[Do]])&O&&(_e[Qe[Do]]=ti);break}}}}for(var ys=0;ys<Qe.length;ys++)if(_e[Qe[ys]]&a){for(var Gh=ys,Hh=ys,_i=St,Pc=ys-1;Pc>=0;Pc--)if(_e[Qe[Pc]]&l)Gh=Pc;else{_i=_e[Qe[Pc]]&ia?b:P;break}for(var Rc=gs,Dc=ys+1;Dc<Qe.length;Dc++)if(_e[Qe[Dc]]&(a|l))Hh=Dc;else{Rc=_e[Qe[Dc]]&ia?b:P;break}for(var ri=Gh;ri<=Hh;ri++)_e[Qe[ri]]=_i===Rc?_i:Yt;ys=Hh}}}for(var mr=Oe.start;mr<=Oe.end;mr++){var vf=de[mr],to=_e[mr];if(vf&1?to&(P|R|N)&&de[mr]++:to&b?de[mr]++:to&(N|R)&&(de[mr]+=2),to&l&&(de[mr]=mr===0?Oe.level:de[mr-1]),mr===Oe.end||d(we[mr])&(V|k))for(var ol=mr;ol>=0&&d(we[ol])&c;ol--)de[ol]=Oe.level}}return{levels:de,paragraphs:Re};function yf(gr,ii){for(var Hn=gr;Hn<we.length;Hn++){var Vn=_e[Hn];if(Vn&(b|U))return 1;if(Vn&(k|P)||ii&&Vn===he)return 0;if(Vn&s){var Wi=d0(Hn);Hn=Wi===-1?we.length:Wi}}return 0}function d0(gr){for(var ii=1,Hn=gr+1;Hn<we.length;Hn++){var Vn=_e[Hn];if(Vn&k)break;if(Vn&he){if(--ii===0)return Hn}else Vn&s&&ii++}return-1}}var ye="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",Se;function ne(){if(!Se){var we=v(ye,!0),Le=we.map,Ue=we.reverseMap;Ue.forEach(function(_e,j){Le.set(j,_e)}),Se=Le}}function le(we){return ne(),Se.get(we)||null}function Ee(we,Le,Ue,_e){var j=we.length;Ue=Math.max(0,Ue==null?0:+Ue),_e=Math.min(j-1,_e==null?j-1:+_e);for(var F=new Map,q=Ue;q<=_e;q++)if(Le[q]&1){var de=le(we[q]);de!==null&&F.set(q,de)}return F}function Ce(we,Le,Ue,_e){var j=we.length;Ue=Math.max(0,Ue==null?0:+Ue),_e=Math.min(j-1,_e==null?j-1:+_e);var F=[];return Le.paragraphs.forEach(function(q){var de=Math.max(Ue,q.start),Te=Math.min(_e,q.end);if(de<Te){for(var Re=Le.levels.slice(de,Te+1),Oe=Te;Oe>=de&&d(we[Oe])&c;Oe--)Re[Oe]=q.level;for(var Be=q.level,ge=1/0,We=0;We<Re.length;We++){var Fe=Re[We];Fe>Be&&(Be=Fe),Fe<ge&&(ge=Fe|1)}for(var ze=Be;ze>=ge;ze--)for(var Ne=0;Ne<Re.length;Ne++)if(Re[Ne]>=ze){for(var Ie=Ne;Ne+1<Re.length&&Re[Ne+1]>=ze;)Ne++;Ne>Ie&&F.push([Ie+de,Ne+de])}}}),F}function Ae(we,Le,Ue,_e){var j=je(we,Le,Ue,_e),F=[].concat(we);return j.forEach(function(q,de){F[de]=(Le.levels[q]&1?le(we[q]):null)||we[q]}),F.join("")}function je(we,Le,Ue,_e){for(var j=Ce(we,Le,Ue,_e),F=[],q=0;q<we.length;q++)F[q]=q;return j.forEach(function(de){for(var Te=de[0],Re=de[1],Oe=F.slice(Te,Re+1),Be=Oe.length;Be--;)F[Re-Be]=Oe[Be]}),F}return e.closingToOpeningBracket=C,e.getBidiCharType=d,e.getBidiCharTypeName=m,e.getCanonicalBracket=E,e.getEmbeddingLevels=be,e.getMirroredCharacter=le,e.getMirroredCharactersMap=Ee,e.getReorderSegments=Ce,e.getReorderedIndices=je,e.getReorderedString=Ae,e.openingToClosingBracket=A,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return n}const zU=/\bvoid\s+main\s*\(\s*\)\s*{/g;function uM(n){const e=/^[ \t]*#include +<([\w\d./]+)>/gm;function t(r,i){let s=At[i];return s?uM(s):r}return n.replace(e,t)}const Pr=[];for(let n=0;n<256;n++)Pr[n]=(n<16?"0":"")+n.toString(16);function oee(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Pr[n&255]+Pr[n>>8&255]+Pr[n>>16&255]+Pr[n>>24&255]+"-"+Pr[e&255]+Pr[e>>8&255]+"-"+Pr[e>>16&15|64]+Pr[e>>24&255]+"-"+Pr[t&63|128]+Pr[t>>8&255]+"-"+Pr[t>>16&255]+Pr[t>>24&255]+Pr[r&255]+Pr[r>>8&255]+Pr[r>>16&255]+Pr[r>>24&255]).toUpperCase()}const Qc=Object.assign||function(){let n=arguments[0];for(let e=1,t=arguments.length;e<t;e++){let r=arguments[e];if(r)for(let i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},aee=Date.now(),BB=new WeakMap,IB=new Map;let lee=1e10;function fM(n,e){const t=dee(e);let r=BB.get(n);if(r||BB.set(n,r=Object.create(null)),r[t])return new r[t];const i=`_onBeforeCompile${t}`,s=function(c,u){n.onBeforeCompile.call(this,c,u);const f=this.customProgramCacheKey()+"|"+c.vertexShader+"|"+c.fragmentShader;let d=IB[f];if(!d){const m=cee(this,c,e,t);d=IB[f]=m}c.vertexShader=d.vertexShader,c.fragmentShader=d.fragmentShader,Qc(c.uniforms,this.uniforms),e.timeUniform&&(c.uniforms[e.timeUniform]={get value(){return Date.now()-aee}}),this[i]&&this[i](c)},o=function(){return a(e.chained?n:n.clone())},a=function(c){const u=Object.create(c,l);return Object.defineProperty(u,"baseMaterial",{value:n}),Object.defineProperty(u,"id",{value:lee++}),u.uuid=oee(),u.uniforms=Qc({},c.uniforms,e.uniforms),u.defines=Qc({},c.defines,e.defines),u.defines[`TROIKA_DERIVED_MATERIAL_${t}`]="",u.extensions=Qc({},c.extensions,e.extensions),u._listeners=void 0,u},l={constructor:{value:o},isDerivedMaterial:{value:!0},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return n.customProgramCacheKey()+"|"+t}},onBeforeCompile:{get(){return s},set(c){this[i]=c}},copy:{writable:!0,configurable:!0,value:function(c){return n.copy.call(this,c),!n.isShaderMaterial&&!n.isDerivedMaterial&&(Qc(this.extensions,c.extensions),Qc(this.defines,c.defines),Qc(this.uniforms,D_.clone(c.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const c=new n.constructor;return a(c).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let c=this._depthMaterial;return c||(c=this._depthMaterial=fM(n.isDerivedMaterial?n.getDepthMaterial():new L_({depthPacking:hC}),e),c.defines.IS_DEPTH_MATERIAL="",c.uniforms=this.uniforms),c}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let c=this._distanceMaterial;return c||(c=this._distanceMaterial=fM(n.isDerivedMaterial?n.getDistanceMaterial():new k_,e),c.defines.IS_DISTANCE_MATERIAL="",c.uniforms=this.uniforms),c}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:c,_distanceMaterial:u}=this;c&&c.dispose(),u&&u.dispose(),n.dispose.call(this)}}};return r[t]=o,new o}function cee(n,{vertexShader:e,fragmentShader:t},r,i){let{vertexDefs:s,vertexMainIntro:o,vertexMainOutro:a,vertexTransform:l,fragmentDefs:c,fragmentMainIntro:u,fragmentMainOutro:f,fragmentColorTransform:d,customRewriter:m,timeUniform:g}=r;if(s=s||"",o=o||"",a=a||"",c=c||"",u=u||"",f=f||"",(l||m)&&(e=uM(e)),(d||m)&&(t=t.replace(/^[ \t]*#include <((?:tonemapping|encodings|fog|premultiplied_alpha|dithering)_fragment)>/gm,`
//!BEGIN_POST_CHUNK $1
$&
//!END_POST_CHUNK
`),t=uM(t)),m){let v=m({vertexShader:e,fragmentShader:t});e=v.vertexShader,t=v.fragmentShader}if(d){let v=[];t=t.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,y=>(v.push(y),"")),f=`${d}
${v.join(`
`)}
${f}`}if(g){const v=`
uniform float ${g};
`;s=v+s,c=v+c}return l&&(e=`vec3 troika_position_${i};
vec3 troika_normal_${i};
vec2 troika_uv_${i};
${e}
`,s=`${s}
void troikaVertexTransform${i}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${l}
}
`,o=`
troika_position_${i} = vec3(position);
troika_normal_${i} = vec3(normal);
troika_uv_${i} = vec2(uv);
troikaVertexTransform${i}(troika_position_${i}, troika_normal_${i}, troika_uv_${i});
${o}
`,e=e.replace(/\b(position|normal|uv)\b/g,(v,y,x,_)=>/\battribute\s+vec[23]\s+$/.test(_.substr(0,x))?y:`troika_${y}_${i}`),n.map&&n.map.channel>0||(e=e.replace(/\bMAP_UV\b/g,`troika_uv_${i}`))),e=LB(e,i,s,o,a),t=LB(t,i,c,u,f),{vertexShader:e,fragmentShader:t}}function LB(n,e,t,r,i){return(r||i||t)&&(n=n.replace(zU,`
${t}
void troikaOrigMain${e}() {`),n+=`
void main() {
  ${r}
  troikaOrigMain${e}();
  ${i}
}`),n}function uee(n,e){return n==="uniforms"?void 0:typeof e=="function"?e.toString():e}let fee=0;const kB=new Map;function dee(n){const e=JSON.stringify(n,uee);let t=kB.get(e);return t==null&&kB.set(e,t=++fee),t}function hee(n,e,t){const{defaultFontURL:r}=t,i=Object.create(null),s=1/0,o=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,a="[^\\S\\u00A0]",l=new RegExp(`${a}|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]`);function c(_,w){function A(){const C=E=>{console.error(`Failure loading font ${_}${_===r?"":"; trying fallback"}`,E),_!==r&&(_=r,A())};try{const E=new XMLHttpRequest;E.open("get",_,!0),E.responseType="arraybuffer",E.onload=function(){if(E.status>=400)C(new Error(E.statusText));else if(E.status>0)try{const P=n(E.response);w(P)}catch(P){C(P)}},E.onerror=C,E.send()}catch(E){C(E)}}A()}function u(_,w){_||(_=r);let A=i[_];A?A.pending?A.pending.push(w):w(A):(i[_]={pending:[w]},c(_,C=>{let E=i[_].pending;i[_]=C,E.forEach(P=>P(C))}))}function f({text:_="",font:w=r,sdfGlyphSize:A=64,fontSize:C=1,letterSpacing:E=0,lineHeight:P="normal",maxWidth:b=s,direction:R,textAlign:D="left",textIndent:L=0,whiteSpace:N="normal",overflowWrap:z="normal",anchorX:k=0,anchorY:V=0,includeCaretPositions:W=!1,chunkedBoundsSize:Y=8192,colorRanges:O=null},U,H=!1){const G=v(),X={fontLoad:0,typesetting:0};_.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),_=_.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),C=+C,E=+E,b=+b,P=P||"normal",L=+L,u(w,Z=>{const re=isFinite(b);let ie=null,Q=null,ue=null,he=null,be=null,ye=null,Se=null,ne=0,le=0,Ee=N!=="nowrap";const{ascender:Ce,descender:Ae,unitsPerEm:je,lineGap:we,capHeight:Le,xHeight:Ue}=Z;X.fontLoad=v()-G;const _e=v(),j=C/je;P==="normal"&&(P=(Ce-Ae+we)/je),P=P*C;const F=(P-(Ce-Ae)*j)/2,q=-(Ce*j+F),de=Math.min(P,(Ce-Ae)*j),Te=(Ce+Ae)/2*j-de/2;let Re=L,Oe=new y;const Be=[Oe];Z.forEachGlyph(_,C,E,(Fe,ze,Ne)=>{const Ie=_.charAt(Ne),$e=Fe.advanceWidth*j,st=Oe.count;let gt;if("isEmpty"in Fe||(Fe.isWhitespace=!!Ie&&new RegExp(a).test(Ie),Fe.canBreakAfter=!!Ie&&l.test(Ie),Fe.isEmpty=Fe.xMin===Fe.xMax||Fe.yMin===Fe.yMax||o.test(Ie)),!Fe.isWhitespace&&!Fe.isEmpty&&le++,Ee&&re&&!Fe.isWhitespace&&ze+$e+Re>b&&st){if(Oe.glyphAt(st-1).glyphObj.canBreakAfter)gt=new y,Re=-ze;else for(let me=st;me--;)if(me===0&&z==="break-word"){gt=new y,Re=-ze;break}else if(Oe.glyphAt(me).glyphObj.canBreakAfter){gt=Oe.splitAt(me+1);const ke=gt.glyphAt(0).x;Re-=ke;for(let Xe=gt.count;Xe--;)gt.glyphAt(Xe).x-=ke;break}gt&&(Oe.isSoftWrapped=!0,Oe=gt,Be.push(Oe),ne=b)}let te=Oe.glyphAt(Oe.count);te.glyphObj=Fe,te.x=ze+Re,te.width=$e,te.charIndex=Ne,Ie===`
`&&(Oe=new y,Be.push(Oe),Re=-(ze+$e+E*C)+L)}),Be.forEach(Fe=>{for(let ze=Fe.count;ze--;){let{glyphObj:Ne,x:Ie,width:$e}=Fe.glyphAt(ze);if(!Ne.isWhitespace){Fe.width=Ie+$e,Fe.width>ne&&(ne=Fe.width);return}}});let ge=0,We=0;if(k&&(typeof k=="number"?ge=-k:typeof k=="string"&&(ge=-ne*(k==="left"?0:k==="center"?.5:k==="right"?1:m(k)))),V){if(typeof V=="number")We=-V;else if(typeof V=="string"){let Fe=Be.length*P;We=V==="top"?0:V==="top-baseline"?-q:V==="top-cap"?-q-Le*j:V==="top-ex"?-q-Ue*j:V==="middle"?Fe/2:V==="bottom"?Fe:V==="bottom-baseline"?Fe-F+Ae*j:m(V)*Fe}}if(!H){const Fe=e.getEmbeddingLevels(_,R);ie=new Uint16Array(le),Q=new Float32Array(le*2),ue={},ye=[s,s,-s,-s],Se=[];let ze=q;W&&(be=new Float32Array(_.length*3)),O&&(he=new Uint8Array(le*3));let Ne=0,Ie=-1,$e=-1,st,gt;if(Be.forEach((te,me)=>{let{count:ke,width:Xe}=te;if(ke>0){let tt=0;for(let Ut=ke;Ut--&&te.glyphAt(Ut).glyphObj.isWhitespace;)tt++;let _t=0,Nt=0;if(D==="center")_t=(ne-Xe)/2;else if(D==="right")_t=ne-Xe;else if(D==="justify"&&te.isSoftWrapped){let Ut=0;for(let Dt=ke-tt;Dt--;)te.glyphAt(Dt).glyphObj.isWhitespace&&Ut++;Nt=(ne-Xe)/Ut}if(Nt||_t){let Ut=0;for(let Dt=0;Dt<ke;Dt++){let kr=te.glyphAt(Dt);const Mr=kr.glyphObj;kr.x+=_t+Ut,Nt!==0&&Mr.isWhitespace&&Dt<ke-tt&&(Ut+=Nt,kr.width+=Nt)}}const Wt=e.getReorderSegments(_,Fe,te.glyphAt(0).charIndex,te.glyphAt(te.count-1).charIndex);for(let Ut=0;Ut<Wt.length;Ut++){const[Dt,kr]=Wt[Ut];let Mr=1/0,jt=-1/0;for(let xn=0;xn<ke;xn++)if(te.glyphAt(xn).charIndex>=Dt){let J=xn,fe=xn;for(;fe<ke;fe++){let ve=te.glyphAt(fe);if(ve.charIndex>kr)break;fe<ke-tt&&(Mr=Math.min(Mr,ve.x),jt=Math.max(jt,ve.x+ve.width))}for(let ve=J;ve<fe;ve++){const ce=te.glyphAt(ve);ce.x=jt-(ce.x+ce.width-Mr)}break}}let zt;const Gt=Ut=>zt=Ut;for(let Ut=0;Ut<ke;Ut++){let Dt=te.glyphAt(Ut);zt=Dt.glyphObj;const kr=zt.index,Mr=Fe.levels[Dt.charIndex]&1;if(Mr){const jt=e.getMirroredCharacter(_[Dt.charIndex]);jt&&Z.forEachGlyph(jt,0,0,Gt)}if(W){const{charIndex:jt}=Dt,xn=Dt.x+ge,J=Dt.x+Dt.width+ge;be[jt*3]=Mr?J:xn,be[jt*3+1]=Mr?xn:J,be[jt*3+2]=ze+Te+We;const fe=jt-Ie;fe>1&&g(be,Ie,fe),Ie=jt}if(O){const{charIndex:jt}=Dt;for(;jt>$e;)$e++,O.hasOwnProperty($e)&&(gt=O[$e])}if(!zt.isWhitespace&&!zt.isEmpty){const jt=Ne++;ue[kr]||(ue[kr]={path:zt.path,pathBounds:[zt.xMin,zt.yMin,zt.xMax,zt.yMax]});const xn=Dt.x+ge,J=ze+We;Q[jt*2]=xn,Q[jt*2+1]=J;const fe=xn+zt.xMin*j,ve=J+zt.yMin*j,ce=xn+zt.xMax*j,Pe=J+zt.yMax*j;fe<ye[0]&&(ye[0]=fe),ve<ye[1]&&(ye[1]=ve),ce>ye[2]&&(ye[2]=ce),Pe>ye[3]&&(ye[3]=Pe),jt%Y===0&&(st={start:jt,end:jt,rect:[s,s,-s,-s]},Se.push(st)),st.end++;const nt=st.rect;if(fe<nt[0]&&(nt[0]=fe),ve<nt[1]&&(nt[1]=ve),ce>nt[2]&&(nt[2]=ce),Pe>nt[3]&&(nt[3]=Pe),ie[jt]=kr,O){const lt=jt*3;he[lt]=gt>>16&255,he[lt+1]=gt>>8&255,he[lt+2]=gt&255}}}}ze-=P}),be){const te=_.length-Ie;te>1&&g(be,Ie,te)}}X.typesetting=v()-_e,U({glyphIds:ie,glyphPositions:Q,glyphData:ue,caretPositions:be,caretHeight:de,glyphColors:he,chunkedBounds:Se,fontSize:C,unitsPerEm:je,ascender:Ce*j,descender:Ae*j,capHeight:Le*j,xHeight:Ue*j,lineHeight:P,topBaseline:q,blockBounds:[ge,We-Be.length*P,ge+ne,We],visibleBounds:ye,timings:X})})}function d(_,w){f(_,A=>{const[C,E,P,b]=A.blockBounds;w({width:P-C,height:b-E})},{metricsOnly:!0})}function m(_){let w=_.match(/^([\d.]+)%$/),A=w?parseFloat(w[1]):NaN;return isNaN(A)?0:A/100}function g(_,w,A){const C=_[w*3],E=_[w*3+1],P=_[w*3+2],b=(E-C)/A;for(let R=0;R<A;R++){const D=(w+R)*3;_[D]=C+b*R,_[D+1]=C+b*(R+1),_[D+2]=P}}function v(){return(self.performance||Date).now()}function y(){this.data=[]}const x=["glyphObj","x","width","charIndex"];return y.prototype={width:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/x.length)},glyphAt(_){let w=y.flyweight;return w.data=this.data,w.index=_,w},splitAt(_){let w=new y;return w.data=this.data.splice(_*x.length),w}},y.flyweight=x.reduce((_,w,A,C)=>(Object.defineProperty(_,w,{get(){return this.data[this.index*x.length+A]},set(E){this.data[this.index*x.length+A]=E}}),_),{data:null,index:0}),{typeset:f,measure:d,loadFont:u}}const Pu=()=>(self.performance||Date).now(),J_=UU();let OB;function pee(n,e,t,r,i,s,o,a,l,c,u=!0){return u?gee(n,e,t,r,i,s,o,a,l,c).then(null,f=>(OB||(console.warn("WebGL SDF generation failed, falling back to JS",f),OB=!0),NB(n,e,t,r,i,s,o,a,l,c))):NB(n,e,t,r,i,s,o,a,l,c)}const Xy=[],mee=5;let dM=0;function GU(){const n=Pu();for(;Xy.length&&Pu()-n<mee;)Xy.shift()();dM=Xy.length?setTimeout(GU,0):0}const gee=(...n)=>new Promise((e,t)=>{Xy.push(()=>{const r=Pu();try{J_.webgl.generateIntoCanvas(...n),e({timing:Pu()-r})}catch(i){t(i)}}),dM||(dM=setTimeout(GU,0))}),vee=4,yee=2e3,FB={};let _ee=0;function NB(n,e,t,r,i,s,o,a,l,c){const u="TroikaTextSDFGenerator_JS_"+_ee++%vee;let f=FB[u];return f||(f=FB[u]={workerModule:Yg({name:u,workerId:u,dependencies:[UU,Pu],init(d,m){const g=d().javascript.generate;return function(...v){const y=m();return{textureData:g(...v),timing:m()-y}}},getTransferables(d){return[d.textureData.buffer]}}),requests:0,idleTimer:null}),f.requests++,clearTimeout(f.idleTimer),f.workerModule(n,e,t,r,i,s).then(({textureData:d,timing:m})=>{const g=Pu(),v=new Uint8Array(d.length*4);for(let y=0;y<d.length;y++)v[y*4+c]=d[y];return J_.webglUtils.renderImageData(o,v,a,l,n,e,1<<3-c),m+=Pu()-g,--f.requests===0&&(f.idleTimer=setTimeout(()=>{ree(u)},yee)),{timing:m}})}function xee(n){n._warm||(J_.webgl.isSupported(n),n._warm=!0)}const wee=J_.webglUtils.resizeWebGLCanvasWithoutClearing;/*!
Custom build of Typr.ts (https://github.com/fredli74/Typr.ts) for use in Troika text rendering.
Original MIT license applies: https://github.com/fredli74/Typr.ts/blob/master/LICENSE
*/function See(){return typeof window>"u"&&(self.window=self),function(n){var e={parse:function(i){var s=e._bin,o=new Uint8Array(i);if(s.readASCII(o,0,4)=="ttcf"){var a=4;s.readUshort(o,a),a+=2,s.readUshort(o,a),a+=2;var l=s.readUint(o,a);a+=4;for(var c=[],u=0;u<l;u++){var f=s.readUint(o,a);a+=4,c.push(e._readFont(o,f))}return c}return[e._readFont(o,0)]},_readFont:function(i,s){var o=e._bin,a=s;o.readFixed(i,s),s+=4;var l=o.readUshort(i,s);s+=2,o.readUshort(i,s),s+=2,o.readUshort(i,s),s+=2,o.readUshort(i,s),s+=2;for(var c=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GPOS","GSUB","SVG "],u={_data:i,_offset:a},f={},d=0;d<l;d++){var m=o.readASCII(i,s,4);s+=4,o.readUint(i,s),s+=4;var g=o.readUint(i,s);s+=4;var v=o.readUint(i,s);s+=4,f[m]={offset:g,length:v}}for(d=0;d<c.length;d++){var y=c[d];f[y]&&(u[y.trim()]=e[y.trim()].parse(i,f[y].offset,f[y].length,u))}return u},_tabOffset:function(i,s,o){for(var a=e._bin,l=a.readUshort(i,o+4),c=o+12,u=0;u<l;u++){var f=a.readASCII(i,c,4);c+=4,a.readUint(i,c),c+=4;var d=a.readUint(i,c);if(c+=4,a.readUint(i,c),c+=4,f==s)return d}return 0}};e._bin={readFixed:function(i,s){return(i[s]<<8|i[s+1])+(i[s+2]<<8|i[s+3])/65540},readF2dot14:function(i,s){return e._bin.readShort(i,s)/16384},readInt:function(i,s){return e._bin._view(i).getInt32(s)},readInt8:function(i,s){return e._bin._view(i).getInt8(s)},readShort:function(i,s){return e._bin._view(i).getInt16(s)},readUshort:function(i,s){return e._bin._view(i).getUint16(s)},readUshorts:function(i,s,o){for(var a=[],l=0;l<o;l++)a.push(e._bin.readUshort(i,s+2*l));return a},readUint:function(i,s){return e._bin._view(i).getUint32(s)},readUint64:function(i,s){return 4294967296*e._bin.readUint(i,s)+e._bin.readUint(i,s+4)},readASCII:function(i,s,o){for(var a="",l=0;l<o;l++)a+=String.fromCharCode(i[s+l]);return a},readUnicode:function(i,s,o){for(var a="",l=0;l<o;l++){var c=i[s++]<<8|i[s++];a+=String.fromCharCode(c)}return a},_tdec:typeof window<"u"&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(i,s,o){var a=e._bin._tdec;return a&&s==0&&o==i.length?a.decode(i):e._bin.readASCII(i,s,o)},readBytes:function(i,s,o){for(var a=[],l=0;l<o;l++)a.push(i[s+l]);return a},readASCIIArray:function(i,s,o){for(var a=[],l=0;l<o;l++)a.push(String.fromCharCode(i[s+l]));return a},_view:function(i){return i._dataView||(i._dataView=i.buffer?new DataView(i.buffer,i.byteOffset,i.byteLength):new DataView(new Uint8Array(i).buffer))}},e._lctf={},e._lctf.parse=function(i,s,o,a,l){var c=e._bin,u={},f=s;c.readFixed(i,s),s+=4;var d=c.readUshort(i,s);s+=2;var m=c.readUshort(i,s);s+=2;var g=c.readUshort(i,s);return s+=2,u.scriptList=e._lctf.readScriptList(i,f+d),u.featureList=e._lctf.readFeatureList(i,f+m),u.lookupList=e._lctf.readLookupList(i,f+g,l),u},e._lctf.readLookupList=function(i,s,o){var a=e._bin,l=s,c=[],u=a.readUshort(i,s);s+=2;for(var f=0;f<u;f++){var d=a.readUshort(i,s);s+=2;var m=e._lctf.readLookupTable(i,l+d,o);c.push(m)}return c},e._lctf.readLookupTable=function(i,s,o){var a=e._bin,l=s,c={tabs:[]};c.ltype=a.readUshort(i,s),s+=2,c.flag=a.readUshort(i,s),s+=2;var u=a.readUshort(i,s);s+=2;for(var f=c.ltype,d=0;d<u;d++){var m=a.readUshort(i,s);s+=2;var g=o(i,f,l+m,c);c.tabs.push(g)}return c},e._lctf.numOfOnes=function(i){for(var s=0,o=0;o<32;o++)i>>>o&1&&s++;return s},e._lctf.readClassDef=function(i,s){var o=e._bin,a=[],l=o.readUshort(i,s);if(s+=2,l==1){var c=o.readUshort(i,s);s+=2;var u=o.readUshort(i,s);s+=2;for(var f=0;f<u;f++)a.push(c+f),a.push(c+f),a.push(o.readUshort(i,s)),s+=2}if(l==2){var d=o.readUshort(i,s);for(s+=2,f=0;f<d;f++)a.push(o.readUshort(i,s)),s+=2,a.push(o.readUshort(i,s)),s+=2,a.push(o.readUshort(i,s)),s+=2}return a},e._lctf.getInterval=function(i,s){for(var o=0;o<i.length;o+=3){var a=i[o],l=i[o+1];if(i[o+2],a<=s&&s<=l)return o}return-1},e._lctf.readCoverage=function(i,s){var o=e._bin,a={};a.fmt=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);return s+=2,a.fmt==1&&(a.tab=o.readUshorts(i,s,l)),a.fmt==2&&(a.tab=o.readUshorts(i,s,3*l)),a},e._lctf.coverageIndex=function(i,s){var o=i.tab;if(i.fmt==1)return o.indexOf(s);if(i.fmt==2){var a=e._lctf.getInterval(o,s);if(a!=-1)return o[a+2]+(s-o[a])}return-1},e._lctf.readFeatureList=function(i,s){var o=e._bin,a=s,l=[],c=o.readUshort(i,s);s+=2;for(var u=0;u<c;u++){var f=o.readASCII(i,s,4);s+=4;var d=o.readUshort(i,s);s+=2;var m=e._lctf.readFeatureTable(i,a+d);m.tag=f.trim(),l.push(m)}return l},e._lctf.readFeatureTable=function(i,s){var o=e._bin,a=s,l={},c=o.readUshort(i,s);s+=2,c>0&&(l.featureParams=a+c);var u=o.readUshort(i,s);s+=2,l.tab=[];for(var f=0;f<u;f++)l.tab.push(o.readUshort(i,s+2*f));return l},e._lctf.readScriptList=function(i,s){var o=e._bin,a=s,l={},c=o.readUshort(i,s);s+=2;for(var u=0;u<c;u++){var f=o.readASCII(i,s,4);s+=4;var d=o.readUshort(i,s);s+=2,l[f.trim()]=e._lctf.readScriptTable(i,a+d)}return l},e._lctf.readScriptTable=function(i,s){var o=e._bin,a=s,l={},c=o.readUshort(i,s);s+=2,l.default=e._lctf.readLangSysTable(i,a+c);var u=o.readUshort(i,s);s+=2;for(var f=0;f<u;f++){var d=o.readASCII(i,s,4);s+=4;var m=o.readUshort(i,s);s+=2,l[d.trim()]=e._lctf.readLangSysTable(i,a+m)}return l},e._lctf.readLangSysTable=function(i,s){var o=e._bin,a={};o.readUshort(i,s),s+=2,a.reqFeature=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);return s+=2,a.features=o.readUshorts(i,s,l),a},e.CFF={},e.CFF.parse=function(i,s,o){var a=e._bin;(i=new Uint8Array(i.buffer,s,o))[s=0],i[++s],i[++s],i[++s],s++;var l=[];s=e.CFF.readIndex(i,s,l);for(var c=[],u=0;u<l.length-1;u++)c.push(a.readASCII(i,s+l[u],l[u+1]-l[u]));s+=l[l.length-1];var f=[];s=e.CFF.readIndex(i,s,f);var d=[];for(u=0;u<f.length-1;u++)d.push(e.CFF.readDict(i,s+f[u],s+f[u+1]));s+=f[f.length-1];var m=d[0],g=[];s=e.CFF.readIndex(i,s,g);var v=[];for(u=0;u<g.length-1;u++)v.push(a.readASCII(i,s+g[u],g[u+1]-g[u]));if(s+=g[g.length-1],e.CFF.readSubrs(i,s,m),m.CharStrings){s=m.CharStrings,g=[],s=e.CFF.readIndex(i,s,g);var y=[];for(u=0;u<g.length-1;u++)y.push(a.readBytes(i,s+g[u],g[u+1]-g[u]));m.CharStrings=y}if(m.ROS){s=m.FDArray;var x=[];for(s=e.CFF.readIndex(i,s,x),m.FDArray=[],u=0;u<x.length-1;u++){var _=e.CFF.readDict(i,s+x[u],s+x[u+1]);e.CFF._readFDict(i,_,v),m.FDArray.push(_)}s+=x[x.length-1],s=m.FDSelect,m.FDSelect=[];var w=i[s];if(s++,w!=3)throw w;var A=a.readUshort(i,s);for(s+=2,u=0;u<A+1;u++)m.FDSelect.push(a.readUshort(i,s),i[s+2]),s+=3}return m.Encoding&&(m.Encoding=e.CFF.readEncoding(i,m.Encoding,m.CharStrings.length)),m.charset&&(m.charset=e.CFF.readCharset(i,m.charset,m.CharStrings.length)),e.CFF._readFDict(i,m,v),m},e.CFF._readFDict=function(i,s,o){var a;for(var l in s.Private&&(a=s.Private[1],s.Private=e.CFF.readDict(i,a,a+s.Private[0]),s.Private.Subrs&&e.CFF.readSubrs(i,a+s.Private.Subrs,s.Private)),s)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(l)!=-1&&(s[l]=o[s[l]-426+35])},e.CFF.readSubrs=function(i,s,o){var a=e._bin,l=[];s=e.CFF.readIndex(i,s,l);var c,u=l.length;c=u<1240?107:u<33900?1131:32768,o.Bias=c,o.Subrs=[];for(var f=0;f<l.length-1;f++)o.Subrs.push(a.readBytes(i,s+l[f],l[f+1]-l[f]))},e.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],e.CFF.glyphByUnicode=function(i,s){for(var o=0;o<i.charset.length;o++)if(i.charset[o]==s)return o;return-1},e.CFF.glyphBySE=function(i,s){return s<0||s>255?-1:e.CFF.glyphByUnicode(i,e.CFF.tableSE[s])},e.CFF.readEncoding=function(i,s,o){e._bin;var a=[".notdef"],l=i[s];if(s++,l!=0)throw"error: unknown encoding format: "+l;var c=i[s];s++;for(var u=0;u<c;u++)a.push(i[s+u]);return a},e.CFF.readCharset=function(i,s,o){var a=e._bin,l=[".notdef"],c=i[s];if(s++,c==0)for(var u=0;u<o;u++){var f=a.readUshort(i,s);s+=2,l.push(f)}else{if(c!=1&&c!=2)throw"error: format: "+c;for(;l.length<o;){f=a.readUshort(i,s),s+=2;var d=0;for(c==1?(d=i[s],s++):(d=a.readUshort(i,s),s+=2),u=0;u<=d;u++)l.push(f),f++}}return l},e.CFF.readIndex=function(i,s,o){var a=e._bin,l=a.readUshort(i,s)+1,c=i[s+=2];if(s++,c==1)for(var u=0;u<l;u++)o.push(i[s+u]);else if(c==2)for(u=0;u<l;u++)o.push(a.readUshort(i,s+2*u));else if(c==3)for(u=0;u<l;u++)o.push(16777215&a.readUint(i,s+3*u-1));else if(l!=1)throw"unsupported offset size: "+c+", count: "+l;return(s+=l*c)-1},e.CFF.getCharString=function(i,s,o){var a=e._bin,l=i[s],c=i[s+1];i[s+2],i[s+3],i[s+4];var u=1,f=null,d=null;l<=20&&(f=l,u=1),l==12&&(f=100*l+c,u=2),21<=l&&l<=27&&(f=l,u=1),l==28&&(d=a.readShort(i,s+1),u=3),29<=l&&l<=31&&(f=l,u=1),32<=l&&l<=246&&(d=l-139,u=1),247<=l&&l<=250&&(d=256*(l-247)+c+108,u=2),251<=l&&l<=254&&(d=256*-(l-251)-c-108,u=2),l==255&&(d=a.readInt(i,s+1)/65535,u=5),o.val=d??"o"+f,o.size=u},e.CFF.readCharString=function(i,s,o){for(var a=s+o,l=e._bin,c=[];s<a;){var u=i[s],f=i[s+1];i[s+2],i[s+3],i[s+4];var d=1,m=null,g=null;u<=20&&(m=u,d=1),u==12&&(m=100*u+f,d=2),u!=19&&u!=20||(m=u,d=2),21<=u&&u<=27&&(m=u,d=1),u==28&&(g=l.readShort(i,s+1),d=3),29<=u&&u<=31&&(m=u,d=1),32<=u&&u<=246&&(g=u-139,d=1),247<=u&&u<=250&&(g=256*(u-247)+f+108,d=2),251<=u&&u<=254&&(g=256*-(u-251)-f-108,d=2),u==255&&(g=l.readInt(i,s+1)/65535,d=5),c.push(g??"o"+m),s+=d}return c},e.CFF.readDict=function(i,s,o){for(var a=e._bin,l={},c=[];s<o;){var u=i[s],f=i[s+1];i[s+2],i[s+3],i[s+4];var d=1,m=null,g=null;if(u==28&&(g=a.readShort(i,s+1),d=3),u==29&&(g=a.readInt(i,s+1),d=5),32<=u&&u<=246&&(g=u-139,d=1),247<=u&&u<=250&&(g=256*(u-247)+f+108,d=2),251<=u&&u<=254&&(g=256*-(u-251)-f-108,d=2),u==255)throw g=a.readInt(i,s+1)/65535,d=5,"unknown number";if(u==30){var v=[];for(d=1;;){var y=i[s+d];d++;var x=y>>4,_=15&y;if(x!=15&&v.push(x),_!=15&&v.push(_),_==15)break}for(var w="",A=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],C=0;C<v.length;C++)w+=A[v[C]];g=parseFloat(w)}u<=21&&(m=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][u],d=1,u==12&&(m=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][f],d=2)),m!=null?(l[m]=c.length==1?c[0]:c,c=[]):c.push(g),s+=d}return l},e.cmap={},e.cmap.parse=function(i,s,o){i=new Uint8Array(i.buffer,s,o),s=0;var a=e._bin,l={};a.readUshort(i,s),s+=2;var c=a.readUshort(i,s);s+=2;var u=[];l.tables=[];for(var f=0;f<c;f++){var d=a.readUshort(i,s);s+=2;var m=a.readUshort(i,s);s+=2;var g=a.readUint(i,s);s+=4;var v="p"+d+"e"+m,y=u.indexOf(g);if(y==-1){var x;y=l.tables.length,u.push(g);var _=a.readUshort(i,g);_==0?x=e.cmap.parse0(i,g):_==4?x=e.cmap.parse4(i,g):_==6?x=e.cmap.parse6(i,g):_==12?x=e.cmap.parse12(i,g):console.debug("unknown format: "+_,d,m,g),l.tables.push(x)}if(l[v]!=null)throw"multiple tables for one platform+encoding";l[v]=y}return l},e.cmap.parse0=function(i,s){var o=e._bin,a={};a.format=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);s+=2,o.readUshort(i,s),s+=2,a.map=[];for(var c=0;c<l-6;c++)a.map.push(i[s+c]);return a},e.cmap.parse4=function(i,s){var o=e._bin,a=s,l={};l.format=o.readUshort(i,s),s+=2;var c=o.readUshort(i,s);s+=2,o.readUshort(i,s),s+=2;var u=o.readUshort(i,s);s+=2;var f=u/2;l.searchRange=o.readUshort(i,s),s+=2,l.entrySelector=o.readUshort(i,s),s+=2,l.rangeShift=o.readUshort(i,s),s+=2,l.endCount=o.readUshorts(i,s,f),s+=2*f,s+=2,l.startCount=o.readUshorts(i,s,f),s+=2*f,l.idDelta=[];for(var d=0;d<f;d++)l.idDelta.push(o.readShort(i,s)),s+=2;for(l.idRangeOffset=o.readUshorts(i,s,f),s+=2*f,l.glyphIdArray=[];s<a+c;)l.glyphIdArray.push(o.readUshort(i,s)),s+=2;return l},e.cmap.parse6=function(i,s){var o=e._bin,a={};a.format=o.readUshort(i,s),s+=2,o.readUshort(i,s),s+=2,o.readUshort(i,s),s+=2,a.firstCode=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);s+=2,a.glyphIdArray=[];for(var c=0;c<l;c++)a.glyphIdArray.push(o.readUshort(i,s)),s+=2;return a},e.cmap.parse12=function(i,s){var o=e._bin,a={};a.format=o.readUshort(i,s),s+=2,s+=2,o.readUint(i,s),s+=4,o.readUint(i,s),s+=4;var l=o.readUint(i,s);s+=4,a.groups=[];for(var c=0;c<l;c++){var u=s+12*c,f=o.readUint(i,u+0),d=o.readUint(i,u+4),m=o.readUint(i,u+8);a.groups.push([f,d,m])}return a},e.glyf={},e.glyf.parse=function(i,s,o,a){for(var l=[],c=0;c<a.maxp.numGlyphs;c++)l.push(null);return l},e.glyf._parseGlyf=function(i,s){var o=e._bin,a=i._data,l=e._tabOffset(a,"glyf",i._offset)+i.loca[s];if(i.loca[s]==i.loca[s+1])return null;var c={};if(c.noc=o.readShort(a,l),l+=2,c.xMin=o.readShort(a,l),l+=2,c.yMin=o.readShort(a,l),l+=2,c.xMax=o.readShort(a,l),l+=2,c.yMax=o.readShort(a,l),l+=2,c.xMin>=c.xMax||c.yMin>=c.yMax)return null;if(c.noc>0){c.endPts=[];for(var u=0;u<c.noc;u++)c.endPts.push(o.readUshort(a,l)),l+=2;var f=o.readUshort(a,l);if(l+=2,a.length-l<f)return null;c.instructions=o.readBytes(a,l,f),l+=f;var d=c.endPts[c.noc-1]+1;for(c.flags=[],u=0;u<d;u++){var m=a[l];if(l++,c.flags.push(m),(8&m)!=0){var g=a[l];l++;for(var v=0;v<g;v++)c.flags.push(m),u++}}for(c.xs=[],u=0;u<d;u++){var y=(2&c.flags[u])!=0,x=(16&c.flags[u])!=0;y?(c.xs.push(x?a[l]:-a[l]),l++):x?c.xs.push(0):(c.xs.push(o.readShort(a,l)),l+=2)}for(c.ys=[],u=0;u<d;u++)y=(4&c.flags[u])!=0,x=(32&c.flags[u])!=0,y?(c.ys.push(x?a[l]:-a[l]),l++):x?c.ys.push(0):(c.ys.push(o.readShort(a,l)),l+=2);var _=0,w=0;for(u=0;u<d;u++)_+=c.xs[u],w+=c.ys[u],c.xs[u]=_,c.ys[u]=w}else{var A;c.parts=[];do{A=o.readUshort(a,l),l+=2;var C={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(c.parts.push(C),C.glyphIndex=o.readUshort(a,l),l+=2,1&A){var E=o.readShort(a,l);l+=2;var P=o.readShort(a,l);l+=2}else E=o.readInt8(a,l),l++,P=o.readInt8(a,l),l++;2&A?(C.m.tx=E,C.m.ty=P):(C.p1=E,C.p2=P),8&A?(C.m.a=C.m.d=o.readF2dot14(a,l),l+=2):64&A?(C.m.a=o.readF2dot14(a,l),l+=2,C.m.d=o.readF2dot14(a,l),l+=2):128&A&&(C.m.a=o.readF2dot14(a,l),l+=2,C.m.b=o.readF2dot14(a,l),l+=2,C.m.c=o.readF2dot14(a,l),l+=2,C.m.d=o.readF2dot14(a,l),l+=2)}while(32&A);if(256&A){var b=o.readUshort(a,l);for(l+=2,c.instr=[],u=0;u<b;u++)c.instr.push(a[l]),l++}}return c},e.GPOS={},e.GPOS.parse=function(i,s,o,a){return e._lctf.parse(i,s,o,a,e.GPOS.subt)},e.GPOS.subt=function(i,s,o,a){var l=e._bin,c=o,u={};if(u.fmt=l.readUshort(i,o),o+=2,s==1||s==2||s==3||s==7||s==8&&u.fmt<=2){var f=l.readUshort(i,o);o+=2,u.coverage=e._lctf.readCoverage(i,f+c)}if(s==1&&u.fmt==1){var d=l.readUshort(i,o);o+=2;var m=e._lctf.numOfOnes(d);d!=0&&(u.pos=e.GPOS.readValueRecord(i,o,d))}else if(s==2&&u.fmt>=1&&u.fmt<=2){d=l.readUshort(i,o),o+=2;var g=l.readUshort(i,o);o+=2,m=e._lctf.numOfOnes(d);var v=e._lctf.numOfOnes(g);if(u.fmt==1){u.pairsets=[];var y=l.readUshort(i,o);o+=2;for(var x=0;x<y;x++){var _=c+l.readUshort(i,o);o+=2;var w=l.readUshort(i,_);_+=2;for(var A=[],C=0;C<w;C++){var E=l.readUshort(i,_);_+=2,d!=0&&(N=e.GPOS.readValueRecord(i,_,d),_+=2*m),g!=0&&(z=e.GPOS.readValueRecord(i,_,g),_+=2*v),A.push({gid2:E,val1:N,val2:z})}u.pairsets.push(A)}}if(u.fmt==2){var P=l.readUshort(i,o);o+=2;var b=l.readUshort(i,o);o+=2;var R=l.readUshort(i,o);o+=2;var D=l.readUshort(i,o);for(o+=2,u.classDef1=e._lctf.readClassDef(i,c+P),u.classDef2=e._lctf.readClassDef(i,c+b),u.matrix=[],x=0;x<R;x++){var L=[];for(C=0;C<D;C++){var N=null,z=null;d!=0&&(N=e.GPOS.readValueRecord(i,o,d),o+=2*m),g!=0&&(z=e.GPOS.readValueRecord(i,o,g),o+=2*v),L.push({val1:N,val2:z})}u.matrix.push(L)}}}else{if(s==9&&u.fmt==1){var k=l.readUshort(i,o);o+=2;var V=l.readUint(i,o);if(o+=4,a.ltype==9)a.ltype=k;else if(a.ltype!=k)throw"invalid extension substitution";return e.GPOS.subt(i,a.ltype,c+V)}console.debug("unsupported GPOS table LookupType",s,"format",u.fmt)}return u},e.GPOS.readValueRecord=function(i,s,o){var a=e._bin,l=[];return l.push(1&o?a.readShort(i,s):0),s+=1&o?2:0,l.push(2&o?a.readShort(i,s):0),s+=2&o?2:0,l.push(4&o?a.readShort(i,s):0),s+=4&o?2:0,l.push(8&o?a.readShort(i,s):0),s+=8&o?2:0,l},e.GSUB={},e.GSUB.parse=function(i,s,o,a){return e._lctf.parse(i,s,o,a,e.GSUB.subt)},e.GSUB.subt=function(i,s,o,a){var l=e._bin,c=o,u={};if(u.fmt=l.readUshort(i,o),o+=2,s!=1&&s!=4&&s!=5&&s!=6)return null;if(s==1||s==4||s==5&&u.fmt<=2||s==6&&u.fmt<=2){var f=l.readUshort(i,o);o+=2,u.coverage=e._lctf.readCoverage(i,c+f)}if(s==1&&u.fmt>=1&&u.fmt<=2){if(u.fmt==1)u.delta=l.readShort(i,o),o+=2;else if(u.fmt==2){var d=l.readUshort(i,o);o+=2,u.newg=l.readUshorts(i,o,d),o+=2*u.newg.length}}else if(s==4){u.vals=[],d=l.readUshort(i,o),o+=2;for(var m=0;m<d;m++){var g=l.readUshort(i,o);o+=2,u.vals.push(e.GSUB.readLigatureSet(i,c+g))}}else if(s==5&&u.fmt==2){if(u.fmt==2){var v=l.readUshort(i,o);o+=2,u.cDef=e._lctf.readClassDef(i,c+v),u.scset=[];var y=l.readUshort(i,o);for(o+=2,m=0;m<y;m++){var x=l.readUshort(i,o);o+=2,u.scset.push(x==0?null:e.GSUB.readSubClassSet(i,c+x))}}}else if(s==6&&u.fmt==3){if(u.fmt==3){for(m=0;m<3;m++){d=l.readUshort(i,o),o+=2;for(var _=[],w=0;w<d;w++)_.push(e._lctf.readCoverage(i,c+l.readUshort(i,o+2*w)));o+=2*d,m==0&&(u.backCvg=_),m==1&&(u.inptCvg=_),m==2&&(u.ahedCvg=_)}d=l.readUshort(i,o),o+=2,u.lookupRec=e.GSUB.readSubstLookupRecords(i,o,d)}}else{if(s==7&&u.fmt==1){var A=l.readUshort(i,o);o+=2;var C=l.readUint(i,o);if(o+=4,a.ltype==9)a.ltype=A;else if(a.ltype!=A)throw"invalid extension substitution";return e.GSUB.subt(i,a.ltype,c+C)}console.debug("unsupported GSUB table LookupType",s,"format",u.fmt)}return u},e.GSUB.readSubClassSet=function(i,s){var o=e._bin.readUshort,a=s,l=[],c=o(i,s);s+=2;for(var u=0;u<c;u++){var f=o(i,s);s+=2,l.push(e.GSUB.readSubClassRule(i,a+f))}return l},e.GSUB.readSubClassRule=function(i,s){var o=e._bin.readUshort,a={},l=o(i,s),c=o(i,s+=2);s+=2,a.input=[];for(var u=0;u<l-1;u++)a.input.push(o(i,s)),s+=2;return a.substLookupRecords=e.GSUB.readSubstLookupRecords(i,s,c),a},e.GSUB.readSubstLookupRecords=function(i,s,o){for(var a=e._bin.readUshort,l=[],c=0;c<o;c++)l.push(a(i,s),a(i,s+2)),s+=4;return l},e.GSUB.readChainSubClassSet=function(i,s){var o=e._bin,a=s,l=[],c=o.readUshort(i,s);s+=2;for(var u=0;u<c;u++){var f=o.readUshort(i,s);s+=2,l.push(e.GSUB.readChainSubClassRule(i,a+f))}return l},e.GSUB.readChainSubClassRule=function(i,s){for(var o=e._bin,a={},l=["backtrack","input","lookahead"],c=0;c<l.length;c++){var u=o.readUshort(i,s);s+=2,c==1&&u--,a[l[c]]=o.readUshorts(i,s,u),s+=2*a[l[c]].length}return u=o.readUshort(i,s),s+=2,a.subst=o.readUshorts(i,s,2*u),s+=2*a.subst.length,a},e.GSUB.readLigatureSet=function(i,s){var o=e._bin,a=s,l=[],c=o.readUshort(i,s);s+=2;for(var u=0;u<c;u++){var f=o.readUshort(i,s);s+=2,l.push(e.GSUB.readLigature(i,a+f))}return l},e.GSUB.readLigature=function(i,s){var o=e._bin,a={chain:[]};a.nglyph=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);s+=2;for(var c=0;c<l-1;c++)a.chain.push(o.readUshort(i,s)),s+=2;return a},e.head={},e.head.parse=function(i,s,o){var a=e._bin,l={};return a.readFixed(i,s),s+=4,l.fontRevision=a.readFixed(i,s),s+=4,a.readUint(i,s),s+=4,a.readUint(i,s),s+=4,l.flags=a.readUshort(i,s),s+=2,l.unitsPerEm=a.readUshort(i,s),s+=2,l.created=a.readUint64(i,s),s+=8,l.modified=a.readUint64(i,s),s+=8,l.xMin=a.readShort(i,s),s+=2,l.yMin=a.readShort(i,s),s+=2,l.xMax=a.readShort(i,s),s+=2,l.yMax=a.readShort(i,s),s+=2,l.macStyle=a.readUshort(i,s),s+=2,l.lowestRecPPEM=a.readUshort(i,s),s+=2,l.fontDirectionHint=a.readShort(i,s),s+=2,l.indexToLocFormat=a.readShort(i,s),s+=2,l.glyphDataFormat=a.readShort(i,s),s+=2,l},e.hhea={},e.hhea.parse=function(i,s,o){var a=e._bin,l={};return a.readFixed(i,s),s+=4,l.ascender=a.readShort(i,s),s+=2,l.descender=a.readShort(i,s),s+=2,l.lineGap=a.readShort(i,s),s+=2,l.advanceWidthMax=a.readUshort(i,s),s+=2,l.minLeftSideBearing=a.readShort(i,s),s+=2,l.minRightSideBearing=a.readShort(i,s),s+=2,l.xMaxExtent=a.readShort(i,s),s+=2,l.caretSlopeRise=a.readShort(i,s),s+=2,l.caretSlopeRun=a.readShort(i,s),s+=2,l.caretOffset=a.readShort(i,s),s+=2,s+=8,l.metricDataFormat=a.readShort(i,s),s+=2,l.numberOfHMetrics=a.readUshort(i,s),s+=2,l},e.hmtx={},e.hmtx.parse=function(i,s,o,a){for(var l=e._bin,c={aWidth:[],lsBearing:[]},u=0,f=0,d=0;d<a.maxp.numGlyphs;d++)d<a.hhea.numberOfHMetrics&&(u=l.readUshort(i,s),s+=2,f=l.readShort(i,s),s+=2),c.aWidth.push(u),c.lsBearing.push(f);return c},e.kern={},e.kern.parse=function(i,s,o,a){var l=e._bin,c=l.readUshort(i,s);if(s+=2,c==1)return e.kern.parseV1(i,s-2,o,a);var u=l.readUshort(i,s);s+=2;for(var f={glyph1:[],rval:[]},d=0;d<u;d++){s+=2,o=l.readUshort(i,s),s+=2;var m=l.readUshort(i,s);s+=2;var g=m>>>8;if((g&=15)!=0)throw"unknown kern table format: "+g;s=e.kern.readFormat0(i,s,f)}return f},e.kern.parseV1=function(i,s,o,a){var l=e._bin;l.readFixed(i,s),s+=4;var c=l.readUint(i,s);s+=4;for(var u={glyph1:[],rval:[]},f=0;f<c;f++){l.readUint(i,s),s+=4;var d=l.readUshort(i,s);s+=2,l.readUshort(i,s),s+=2;var m=d>>>8;if((m&=15)!=0)throw"unknown kern table format: "+m;s=e.kern.readFormat0(i,s,u)}return u},e.kern.readFormat0=function(i,s,o){var a=e._bin,l=-1,c=a.readUshort(i,s);s+=2,a.readUshort(i,s),s+=2,a.readUshort(i,s),s+=2,a.readUshort(i,s),s+=2;for(var u=0;u<c;u++){var f=a.readUshort(i,s);s+=2;var d=a.readUshort(i,s);s+=2;var m=a.readShort(i,s);s+=2,f!=l&&(o.glyph1.push(f),o.rval.push({glyph2:[],vals:[]}));var g=o.rval[o.rval.length-1];g.glyph2.push(d),g.vals.push(m),l=f}return s},e.loca={},e.loca.parse=function(i,s,o,a){var l=e._bin,c=[],u=a.head.indexToLocFormat,f=a.maxp.numGlyphs+1;if(u==0)for(var d=0;d<f;d++)c.push(l.readUshort(i,s+(d<<1))<<1);if(u==1)for(d=0;d<f;d++)c.push(l.readUint(i,s+(d<<2)));return c},e.maxp={},e.maxp.parse=function(i,s,o){var a=e._bin,l={},c=a.readUint(i,s);return s+=4,l.numGlyphs=a.readUshort(i,s),s+=2,c==65536&&(l.maxPoints=a.readUshort(i,s),s+=2,l.maxContours=a.readUshort(i,s),s+=2,l.maxCompositePoints=a.readUshort(i,s),s+=2,l.maxCompositeContours=a.readUshort(i,s),s+=2,l.maxZones=a.readUshort(i,s),s+=2,l.maxTwilightPoints=a.readUshort(i,s),s+=2,l.maxStorage=a.readUshort(i,s),s+=2,l.maxFunctionDefs=a.readUshort(i,s),s+=2,l.maxInstructionDefs=a.readUshort(i,s),s+=2,l.maxStackElements=a.readUshort(i,s),s+=2,l.maxSizeOfInstructions=a.readUshort(i,s),s+=2,l.maxComponentElements=a.readUshort(i,s),s+=2,l.maxComponentDepth=a.readUshort(i,s),s+=2),l},e.name={},e.name.parse=function(i,s,o){var a=e._bin,l={};a.readUshort(i,s),s+=2;var c=a.readUshort(i,s);s+=2,a.readUshort(i,s);for(var u,f=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],d=s+=2,m=0;m<c;m++){var g=a.readUshort(i,s);s+=2;var v=a.readUshort(i,s);s+=2;var y=a.readUshort(i,s);s+=2;var x=a.readUshort(i,s);s+=2;var _=a.readUshort(i,s);s+=2;var w=a.readUshort(i,s);s+=2;var A,C=f[x],E=d+12*c+w;if(g==0)A=a.readUnicode(i,E,_/2);else if(g==3&&v==0)A=a.readUnicode(i,E,_/2);else if(v==0)A=a.readASCII(i,E,_);else if(v==1)A=a.readUnicode(i,E,_/2);else if(v==3)A=a.readUnicode(i,E,_/2);else{if(g!=1)throw"unknown encoding "+v+", platformID: "+g;A=a.readASCII(i,E,_),console.debug("reading unknown MAC encoding "+v+" as ASCII")}var P="p"+g+","+y.toString(16);l[P]==null&&(l[P]={}),l[P][C!==void 0?C:x]=A,l[P]._lang=y}for(var b in l)if(l[b].postScriptName!=null&&l[b]._lang==1033)return l[b];for(var b in l)if(l[b].postScriptName!=null&&l[b]._lang==0)return l[b];for(var b in l)if(l[b].postScriptName!=null&&l[b]._lang==3084)return l[b];for(var b in l)if(l[b].postScriptName!=null)return l[b];for(var b in l){u=b;break}return console.debug("returning name table with languageID "+l[u]._lang),l[u]},e["OS/2"]={},e["OS/2"].parse=function(i,s,o){var a=e._bin.readUshort(i,s);s+=2;var l={};if(a==0)e["OS/2"].version0(i,s,l);else if(a==1)e["OS/2"].version1(i,s,l);else if(a==2||a==3||a==4)e["OS/2"].version2(i,s,l);else{if(a!=5)throw"unknown OS/2 table version: "+a;e["OS/2"].version5(i,s,l)}return l},e["OS/2"].version0=function(i,s,o){var a=e._bin;return o.xAvgCharWidth=a.readShort(i,s),s+=2,o.usWeightClass=a.readUshort(i,s),s+=2,o.usWidthClass=a.readUshort(i,s),s+=2,o.fsType=a.readUshort(i,s),s+=2,o.ySubscriptXSize=a.readShort(i,s),s+=2,o.ySubscriptYSize=a.readShort(i,s),s+=2,o.ySubscriptXOffset=a.readShort(i,s),s+=2,o.ySubscriptYOffset=a.readShort(i,s),s+=2,o.ySuperscriptXSize=a.readShort(i,s),s+=2,o.ySuperscriptYSize=a.readShort(i,s),s+=2,o.ySuperscriptXOffset=a.readShort(i,s),s+=2,o.ySuperscriptYOffset=a.readShort(i,s),s+=2,o.yStrikeoutSize=a.readShort(i,s),s+=2,o.yStrikeoutPosition=a.readShort(i,s),s+=2,o.sFamilyClass=a.readShort(i,s),s+=2,o.panose=a.readBytes(i,s,10),s+=10,o.ulUnicodeRange1=a.readUint(i,s),s+=4,o.ulUnicodeRange2=a.readUint(i,s),s+=4,o.ulUnicodeRange3=a.readUint(i,s),s+=4,o.ulUnicodeRange4=a.readUint(i,s),s+=4,o.achVendID=[a.readInt8(i,s),a.readInt8(i,s+1),a.readInt8(i,s+2),a.readInt8(i,s+3)],s+=4,o.fsSelection=a.readUshort(i,s),s+=2,o.usFirstCharIndex=a.readUshort(i,s),s+=2,o.usLastCharIndex=a.readUshort(i,s),s+=2,o.sTypoAscender=a.readShort(i,s),s+=2,o.sTypoDescender=a.readShort(i,s),s+=2,o.sTypoLineGap=a.readShort(i,s),s+=2,o.usWinAscent=a.readUshort(i,s),s+=2,o.usWinDescent=a.readUshort(i,s),s+=2},e["OS/2"].version1=function(i,s,o){var a=e._bin;return s=e["OS/2"].version0(i,s,o),o.ulCodePageRange1=a.readUint(i,s),s+=4,o.ulCodePageRange2=a.readUint(i,s),s+=4},e["OS/2"].version2=function(i,s,o){var a=e._bin;return s=e["OS/2"].version1(i,s,o),o.sxHeight=a.readShort(i,s),s+=2,o.sCapHeight=a.readShort(i,s),s+=2,o.usDefault=a.readUshort(i,s),s+=2,o.usBreak=a.readUshort(i,s),s+=2,o.usMaxContext=a.readUshort(i,s),s+=2},e["OS/2"].version5=function(i,s,o){var a=e._bin;return s=e["OS/2"].version2(i,s,o),o.usLowerOpticalPointSize=a.readUshort(i,s),s+=2,o.usUpperOpticalPointSize=a.readUshort(i,s),s+=2},e.post={},e.post.parse=function(i,s,o){var a=e._bin,l={};return l.version=a.readFixed(i,s),s+=4,l.italicAngle=a.readFixed(i,s),s+=4,l.underlinePosition=a.readShort(i,s),s+=2,l.underlineThickness=a.readShort(i,s),s+=2,l},e==null&&(e={}),e.U==null&&(e.U={}),e.U.codeToGlyph=function(i,s){var o=i.cmap,a=-1;if(o.p0e4!=null?a=o.p0e4:o.p3e1!=null?a=o.p3e1:o.p1e0!=null?a=o.p1e0:o.p0e3!=null&&(a=o.p0e3),a==-1)throw"no familiar platform and encoding!";var l=o.tables[a];if(l.format==0)return s>=l.map.length?0:l.map[s];if(l.format==4){for(var c=-1,u=0;u<l.endCount.length;u++)if(s<=l.endCount[u]){c=u;break}return c==-1||l.startCount[c]>s?0:65535&(l.idRangeOffset[c]!=0?l.glyphIdArray[s-l.startCount[c]+(l.idRangeOffset[c]>>1)-(l.idRangeOffset.length-c)]:s+l.idDelta[c])}if(l.format==12){if(s>l.groups[l.groups.length-1][1])return 0;for(u=0;u<l.groups.length;u++){var f=l.groups[u];if(f[0]<=s&&s<=f[1])return f[2]+(s-f[0])}return 0}throw"unknown cmap table format "+l.format},e.U.glyphToPath=function(i,s){var o={cmds:[],crds:[]};if(i.SVG&&i.SVG.entries[s]){var a=i.SVG.entries[s];return a==null?o:(typeof a=="string"&&(a=e.SVG.toPath(a),i.SVG.entries[s]=a),a)}if(i.CFF){var l={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:i.CFF.Private?i.CFF.Private.defaultWidthX:0,open:!1},c=i.CFF,u=i.CFF.Private;if(c.ROS){for(var f=0;c.FDSelect[f+2]<=s;)f+=2;u=c.FDArray[c.FDSelect[f+1]].Private}e.U._drawCFF(i.CFF.CharStrings[s],l,c,u,o)}else i.glyf&&e.U._drawGlyf(s,i,o);return o},e.U._drawGlyf=function(i,s,o){var a=s.glyf[i];a==null&&(a=s.glyf[i]=e.glyf._parseGlyf(s,i)),a!=null&&(a.noc>-1?e.U._simpleGlyph(a,o):e.U._compoGlyph(a,s,o))},e.U._simpleGlyph=function(i,s){for(var o=0;o<i.noc;o++){for(var a=o==0?0:i.endPts[o-1]+1,l=i.endPts[o],c=a;c<=l;c++){var u=c==a?l:c-1,f=c==l?a:c+1,d=1&i.flags[c],m=1&i.flags[u],g=1&i.flags[f],v=i.xs[c],y=i.ys[c];if(c==a)if(d){if(!m){e.U.P.moveTo(s,v,y);continue}e.U.P.moveTo(s,i.xs[u],i.ys[u])}else m?e.U.P.moveTo(s,i.xs[u],i.ys[u]):e.U.P.moveTo(s,(i.xs[u]+v)/2,(i.ys[u]+y)/2);d?m&&e.U.P.lineTo(s,v,y):g?e.U.P.qcurveTo(s,v,y,i.xs[f],i.ys[f]):e.U.P.qcurveTo(s,v,y,(v+i.xs[f])/2,(y+i.ys[f])/2)}e.U.P.closePath(s)}},e.U._compoGlyph=function(i,s,o){for(var a=0;a<i.parts.length;a++){var l={cmds:[],crds:[]},c=i.parts[a];e.U._drawGlyf(c.glyphIndex,s,l);for(var u=c.m,f=0;f<l.crds.length;f+=2){var d=l.crds[f],m=l.crds[f+1];o.crds.push(d*u.a+m*u.b+u.tx),o.crds.push(d*u.c+m*u.d+u.ty)}for(f=0;f<l.cmds.length;f++)o.cmds.push(l.cmds[f])}},e.U._getGlyphClass=function(i,s){var o=e._lctf.getInterval(s,i);return o==-1?0:s[o+2]},e.U.getPairAdjustment=function(i,s,o){var a=!1;if(i.GPOS)for(var l=i.GPOS,c=l.lookupList,u=l.featureList,f=[],d=0;d<u.length;d++){var m=u[d];if(m.tag=="kern"){a=!0;for(var g=0;g<m.tab.length;g++)if(!f[m.tab[g]]){f[m.tab[g]]=!0;for(var v=c[m.tab[g]],y=0;y<v.tabs.length;y++)if(v.tabs[y]!=null){var x,_=v.tabs[y];if((!_.coverage||(x=e._lctf.coverageIndex(_.coverage,s))!=-1)&&v.ltype!=1){if(v.ltype==2){var w=null;if(_.fmt==1){var A=_.pairsets[x];for(d=0;d<A.length;d++)A[d].gid2==o&&(w=A[d])}else if(_.fmt==2){var C=e.U._getGlyphClass(s,_.classDef1),E=e.U._getGlyphClass(o,_.classDef2);w=_.matrix[C][E]}if(w){var P=0;return w.val1&&w.val1[2]&&(P+=w.val1[2]),w.val2&&w.val2[0]&&(P+=w.val2[0]),P}}}}}}}if(i.kern&&!a){var b=i.kern.glyph1.indexOf(s);if(b!=-1){var R=i.kern.rval[b].glyph2.indexOf(o);if(R!=-1)return i.kern.rval[b].vals[R]}}return 0},e.U._applySubs=function(i,s,o,a){for(var l=i.length-s-1,c=0;c<o.tabs.length;c++)if(o.tabs[c]!=null){var u,f=o.tabs[c];if(!f.coverage||(u=e._lctf.coverageIndex(f.coverage,i[s]))!=-1){if(o.ltype==1)i[s],f.fmt==1?i[s]=i[s]+f.delta:i[s]=f.newg[u];else if(o.ltype==4)for(var d=f.vals[u],m=0;m<d.length;m++){var g=d[m],v=g.chain.length;if(!(v>l)){for(var y=!0,x=0,_=0;_<v;_++){for(;i[s+x+(1+_)]==-1;)x++;g.chain[_]!=i[s+x+(1+_)]&&(y=!1)}if(y){for(i[s]=g.nglyph,_=0;_<v+x;_++)i[s+_+1]=-1;break}}}else if(o.ltype==5&&f.fmt==2)for(var w=e._lctf.getInterval(f.cDef,i[s]),A=f.cDef[w+2],C=f.scset[A],E=0;E<C.length;E++){var P=C[E],b=P.input;if(!(b.length>l)){for(y=!0,_=0;_<b.length;_++){var R=e._lctf.getInterval(f.cDef,i[s+1+_]);if(w==-1&&f.cDef[R+2]!=b[_]){y=!1;break}}if(y){var D=P.substLookupRecords;for(m=0;m<D.length;m+=2)D[m],D[m+1]}}}else if(o.ltype==6&&f.fmt==3){if(!e.U._glsCovered(i,f.backCvg,s-f.backCvg.length)||!e.U._glsCovered(i,f.inptCvg,s)||!e.U._glsCovered(i,f.ahedCvg,s+f.inptCvg.length))continue;var L=f.lookupRec;for(E=0;E<L.length;E+=2){w=L[E];var N=a[L[E+1]];e.U._applySubs(i,s+w,N,a)}}}}},e.U._glsCovered=function(i,s,o){for(var a=0;a<s.length;a++)if(e._lctf.coverageIndex(s[a],i[o+a])==-1)return!1;return!0},e.U.glyphsToPath=function(i,s,o){for(var a={cmds:[],crds:[]},l=0,c=0;c<s.length;c++){var u=s[c];if(u!=-1){for(var f=c<s.length-1&&s[c+1]!=-1?s[c+1]:0,d=e.U.glyphToPath(i,u),m=0;m<d.crds.length;m+=2)a.crds.push(d.crds[m]+l),a.crds.push(d.crds[m+1]);for(o&&a.cmds.push(o),m=0;m<d.cmds.length;m++)a.cmds.push(d.cmds[m]);o&&a.cmds.push("X"),l+=i.hmtx.aWidth[u],c<s.length-1&&(l+=e.U.getPairAdjustment(i,u,f))}}return a},e.U.P={},e.U.P.moveTo=function(i,s,o){i.cmds.push("M"),i.crds.push(s,o)},e.U.P.lineTo=function(i,s,o){i.cmds.push("L"),i.crds.push(s,o)},e.U.P.curveTo=function(i,s,o,a,l,c,u){i.cmds.push("C"),i.crds.push(s,o,a,l,c,u)},e.U.P.qcurveTo=function(i,s,o,a,l){i.cmds.push("Q"),i.crds.push(s,o,a,l)},e.U.P.closePath=function(i){i.cmds.push("Z")},e.U._drawCFF=function(i,s,o,a,l){for(var c=s.stack,u=s.nStems,f=s.haveWidth,d=s.width,m=s.open,g=0,v=s.x,y=s.y,x=0,_=0,w=0,A=0,C=0,E=0,P=0,b=0,R=0,D=0,L={val:0,size:0};g<i.length;){e.CFF.getCharString(i,g,L);var N=L.val;if(g+=L.size,N=="o1"||N=="o18")c.length%2!=0&&!f&&(d=c.shift()+a.nominalWidthX),u+=c.length>>1,c.length=0,f=!0;else if(N=="o3"||N=="o23")c.length%2!=0&&!f&&(d=c.shift()+a.nominalWidthX),u+=c.length>>1,c.length=0,f=!0;else if(N=="o4")c.length>1&&!f&&(d=c.shift()+a.nominalWidthX,f=!0),m&&e.U.P.closePath(l),y+=c.pop(),e.U.P.moveTo(l,v,y),m=!0;else if(N=="o5")for(;c.length>0;)v+=c.shift(),y+=c.shift(),e.U.P.lineTo(l,v,y);else if(N=="o6"||N=="o7")for(var z=c.length,k=N=="o6",V=0;V<z;V++){var W=c.shift();k?v+=W:y+=W,k=!k,e.U.P.lineTo(l,v,y)}else if(N=="o8"||N=="o24"){z=c.length;for(var Y=0;Y+6<=z;)x=v+c.shift(),_=y+c.shift(),w=x+c.shift(),A=_+c.shift(),v=w+c.shift(),y=A+c.shift(),e.U.P.curveTo(l,x,_,w,A,v,y),Y+=6;N=="o24"&&(v+=c.shift(),y+=c.shift(),e.U.P.lineTo(l,v,y))}else{if(N=="o11")break;if(N=="o1234"||N=="o1235"||N=="o1236"||N=="o1237")N=="o1234"&&(_=y,w=(x=v+c.shift())+c.shift(),D=A=_+c.shift(),E=A,b=y,v=(P=(C=(R=w+c.shift())+c.shift())+c.shift())+c.shift(),e.U.P.curveTo(l,x,_,w,A,R,D),e.U.P.curveTo(l,C,E,P,b,v,y)),N=="o1235"&&(x=v+c.shift(),_=y+c.shift(),w=x+c.shift(),A=_+c.shift(),R=w+c.shift(),D=A+c.shift(),C=R+c.shift(),E=D+c.shift(),P=C+c.shift(),b=E+c.shift(),v=P+c.shift(),y=b+c.shift(),c.shift(),e.U.P.curveTo(l,x,_,w,A,R,D),e.U.P.curveTo(l,C,E,P,b,v,y)),N=="o1236"&&(x=v+c.shift(),_=y+c.shift(),w=x+c.shift(),D=A=_+c.shift(),E=A,P=(C=(R=w+c.shift())+c.shift())+c.shift(),b=E+c.shift(),v=P+c.shift(),e.U.P.curveTo(l,x,_,w,A,R,D),e.U.P.curveTo(l,C,E,P,b,v,y)),N=="o1237"&&(x=v+c.shift(),_=y+c.shift(),w=x+c.shift(),A=_+c.shift(),R=w+c.shift(),D=A+c.shift(),C=R+c.shift(),E=D+c.shift(),P=C+c.shift(),b=E+c.shift(),Math.abs(P-v)>Math.abs(b-y)?v=P+c.shift():y=b+c.shift(),e.U.P.curveTo(l,x,_,w,A,R,D),e.U.P.curveTo(l,C,E,P,b,v,y));else if(N=="o14"){if(c.length>0&&!f&&(d=c.shift()+o.nominalWidthX,f=!0),c.length==4){var O=c.shift(),U=c.shift(),H=c.shift(),G=c.shift(),X=e.CFF.glyphBySE(o,H),Z=e.CFF.glyphBySE(o,G);e.U._drawCFF(o.CharStrings[X],s,o,a,l),s.x=O,s.y=U,e.U._drawCFF(o.CharStrings[Z],s,o,a,l)}m&&(e.U.P.closePath(l),m=!1)}else if(N=="o19"||N=="o20")c.length%2!=0&&!f&&(d=c.shift()+a.nominalWidthX),u+=c.length>>1,c.length=0,f=!0,g+=u+7>>3;else if(N=="o21")c.length>2&&!f&&(d=c.shift()+a.nominalWidthX,f=!0),y+=c.pop(),v+=c.pop(),m&&e.U.P.closePath(l),e.U.P.moveTo(l,v,y),m=!0;else if(N=="o22")c.length>1&&!f&&(d=c.shift()+a.nominalWidthX,f=!0),v+=c.pop(),m&&e.U.P.closePath(l),e.U.P.moveTo(l,v,y),m=!0;else if(N=="o25"){for(;c.length>6;)v+=c.shift(),y+=c.shift(),e.U.P.lineTo(l,v,y);x=v+c.shift(),_=y+c.shift(),w=x+c.shift(),A=_+c.shift(),v=w+c.shift(),y=A+c.shift(),e.U.P.curveTo(l,x,_,w,A,v,y)}else if(N=="o26")for(c.length%2&&(v+=c.shift());c.length>0;)x=v,_=y+c.shift(),v=w=x+c.shift(),y=(A=_+c.shift())+c.shift(),e.U.P.curveTo(l,x,_,w,A,v,y);else if(N=="o27")for(c.length%2&&(y+=c.shift());c.length>0;)_=y,w=(x=v+c.shift())+c.shift(),A=_+c.shift(),v=w+c.shift(),y=A,e.U.P.curveTo(l,x,_,w,A,v,y);else if(N=="o10"||N=="o29"){var re=N=="o10"?a:o;if(c.length==0)console.debug("error: empty stack");else{var ie=c.pop(),Q=re.Subrs[ie+re.Bias];s.x=v,s.y=y,s.nStems=u,s.haveWidth=f,s.width=d,s.open=m,e.U._drawCFF(Q,s,o,a,l),v=s.x,y=s.y,u=s.nStems,f=s.haveWidth,d=s.width,m=s.open}}else if(N=="o30"||N=="o31"){var ue=c.length,he=(Y=0,N=="o31");for(Y+=ue-(z=-3&ue);Y<z;)he?(_=y,w=(x=v+c.shift())+c.shift(),y=(A=_+c.shift())+c.shift(),z-Y==5?(v=w+c.shift(),Y++):v=w,he=!1):(x=v,_=y+c.shift(),w=x+c.shift(),A=_+c.shift(),v=w+c.shift(),z-Y==5?(y=A+c.shift(),Y++):y=A,he=!0),e.U.P.curveTo(l,x,_,w,A,v,y),Y+=4}else{if((N+"").charAt(0)=="o")throw console.debug("Unknown operation: "+N,i),N;c.push(N)}}}s.x=v,s.y=y,s.nStems=u,s.haveWidth=f,s.width=d,s.open=m};var t=e,r={Typr:t};return n.Typr=t,n.default=r,Object.defineProperty(n,"__esModule",{value:!0}),n}({}).Typr}/*!
Custom bundle of woff2otf (https://github.com/arty-name/woff2otf) with fflate
(https://github.com/101arrowz/fflate) for use in Troika text rendering. 
Original licenses apply: 
- fflate: https://github.com/101arrowz/fflate/blob/master/LICENSE (MIT)
- woff2otf.js: https://github.com/arty-name/woff2otf/blob/master/woff2otf.js (Apache2)
*/function Aee(){return function(n){var e=Uint8Array,t=Uint16Array,r=Uint32Array,i=new e([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),s=new e([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),o=new e([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(N,z){for(var k=new t(31),V=0;V<31;++V)k[V]=z+=1<<N[V-1];var W=new r(k[30]);for(V=1;V<30;++V)for(var Y=k[V];Y<k[V+1];++Y)W[Y]=Y-k[V]<<5|V;return[k,W]},l=a(i,2),c=l[0],u=l[1];c[28]=258,u[258]=28;for(var f=a(s,0)[0],d=new t(32768),m=0;m<32768;++m){var g=(43690&m)>>>1|(21845&m)<<1;g=(61680&(g=(52428&g)>>>2|(13107&g)<<2))>>>4|(3855&g)<<4,d[m]=((65280&g)>>>8|(255&g)<<8)>>>1}var v=function(N,z,k){for(var V=N.length,W=0,Y=new t(z);W<V;++W)++Y[N[W]-1];var O,U=new t(z);for(W=0;W<z;++W)U[W]=U[W-1]+Y[W-1]<<1;if(k){O=new t(1<<z);var H=15-z;for(W=0;W<V;++W)if(N[W])for(var G=W<<4|N[W],X=z-N[W],Z=U[N[W]-1]++<<X,re=Z|(1<<X)-1;Z<=re;++Z)O[d[Z]>>>H]=G}else for(O=new t(V),W=0;W<V;++W)N[W]&&(O[W]=d[U[N[W]-1]++]>>>15-N[W]);return O},y=new e(288);for(m=0;m<144;++m)y[m]=8;for(m=144;m<256;++m)y[m]=9;for(m=256;m<280;++m)y[m]=7;for(m=280;m<288;++m)y[m]=8;var x=new e(32);for(m=0;m<32;++m)x[m]=5;var _=v(y,9,1),w=v(x,5,1),A=function(N){for(var z=N[0],k=1;k<N.length;++k)N[k]>z&&(z=N[k]);return z},C=function(N,z,k){var V=z/8|0;return(N[V]|N[V+1]<<8)>>(7&z)&k},E=function(N,z){var k=z/8|0;return(N[k]|N[k+1]<<8|N[k+2]<<16)>>(7&z)},P=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],b=function(N,z,k){var V=new Error(z||P[N]);if(V.code=N,Error.captureStackTrace&&Error.captureStackTrace(V,b),!k)throw V;return V},R=function(N,z,k){var V=N.length;if(!V||k&&!k.l&&V<5)return z||new e(0);var W=!z||k,Y=!k||k.i;k||(k={}),z||(z=new e(3*V));var O,U=function(Ie){var $e=z.length;if(Ie>$e){var st=new e(Math.max(2*$e,Ie));st.set(z),z=st}},H=k.f||0,G=k.p||0,X=k.b||0,Z=k.l,re=k.d,ie=k.m,Q=k.n,ue=8*V;do{if(!Z){k.f=H=C(N,G,1);var he=C(N,G+1,3);if(G+=3,!he){var be=N[(Ue=((O=G)/8|0)+(7&O&&1)+4)-4]|N[Ue-3]<<8,ye=Ue+be;if(ye>V){Y&&b(0);break}W&&U(X+be),z.set(N.subarray(Ue,ye),X),k.b=X+=be,k.p=G=8*ye;continue}if(he==1)Z=_,re=w,ie=9,Q=5;else if(he==2){var Se=C(N,G,31)+257,ne=C(N,G+10,15)+4,le=Se+C(N,G+5,31)+1;G+=14;for(var Ee=new e(le),Ce=new e(19),Ae=0;Ae<ne;++Ae)Ce[o[Ae]]=C(N,G+3*Ae,7);G+=3*ne;var je=A(Ce),we=(1<<je)-1,Le=v(Ce,je,1);for(Ae=0;Ae<le;){var Ue,_e=Le[C(N,G,we)];if(G+=15&_e,(Ue=_e>>>4)<16)Ee[Ae++]=Ue;else{var j=0,F=0;for(Ue==16?(F=3+C(N,G,3),G+=2,j=Ee[Ae-1]):Ue==17?(F=3+C(N,G,7),G+=3):Ue==18&&(F=11+C(N,G,127),G+=7);F--;)Ee[Ae++]=j}}var q=Ee.subarray(0,Se),de=Ee.subarray(Se);ie=A(q),Q=A(de),Z=v(q,ie,1),re=v(de,Q,1)}else b(1);if(G>ue){Y&&b(0);break}}W&&U(X+131072);for(var Te=(1<<ie)-1,Re=(1<<Q)-1,Oe=G;;Oe=G){var Be=(j=Z[E(N,G)&Te])>>>4;if((G+=15&j)>ue){Y&&b(0);break}if(j||b(2),Be<256)z[X++]=Be;else{if(Be==256){Oe=G,Z=null;break}var ge=Be-254;if(Be>264){var We=i[Ae=Be-257];ge=C(N,G,(1<<We)-1)+c[Ae],G+=We}var Fe=re[E(N,G)&Re],ze=Fe>>>4;if(Fe||b(3),G+=15&Fe,de=f[ze],ze>3&&(We=s[ze],de+=E(N,G)&(1<<We)-1,G+=We),G>ue){Y&&b(0);break}W&&U(X+131072);for(var Ne=X+ge;X<Ne;X+=4)z[X]=z[X-de],z[X+1]=z[X+1-de],z[X+2]=z[X+2-de],z[X+3]=z[X+3-de];X=Ne}}k.l=Z,k.p=Oe,k.b=X,Z&&(H=1,k.m=ie,k.d=re,k.n=Q)}while(!H);return X==z.length?z:function(Ie,$e,st){($e==null||$e<0)&&($e=0),(st==null||st>Ie.length)&&(st=Ie.length);var gt=new(Ie instanceof t?t:Ie instanceof r?r:e)(st-$e);return gt.set(Ie.subarray($e,st)),gt}(z,0,X)},D=new e(0),L=typeof TextDecoder<"u"&&new TextDecoder;try{L.decode(D,{stream:!0})}catch{}return n.convert_streams=function(N){var z=new DataView(N),k=0;function V(){var Se=z.getUint16(k);return k+=2,Se}function W(){var Se=z.getUint32(k);return k+=4,Se}function Y(Se){be.setUint16(ye,Se),ye+=2}function O(Se){be.setUint32(ye,Se),ye+=4}for(var U={signature:W(),flavor:W(),length:W(),numTables:V(),reserved:V(),totalSfntSize:W(),majorVersion:V(),minorVersion:V(),metaOffset:W(),metaLength:W(),metaOrigLength:W(),privOffset:W(),privLength:W()},H=0;Math.pow(2,H)<=U.numTables;)H++;H--;for(var G=16*Math.pow(2,H),X=16*U.numTables-G,Z=12,re=[],ie=0;ie<U.numTables;ie++)re.push({tag:W(),offset:W(),compLength:W(),origLength:W(),origChecksum:W()}),Z+=16;var Q,ue=new Uint8Array(12+16*re.length+re.reduce(function(Se,ne){return Se+ne.origLength+4},0)),he=ue.buffer,be=new DataView(he),ye=0;return O(U.flavor),Y(U.numTables),Y(G),Y(H),Y(X),re.forEach(function(Se){O(Se.tag),O(Se.origChecksum),O(Z),O(Se.origLength),Se.outOffset=Z,(Z+=Se.origLength)%4!=0&&(Z+=4-Z%4)}),re.forEach(function(Se){var ne,le=N.slice(Se.offset,Se.offset+Se.compLength);if(Se.compLength!=Se.origLength){var Ee=new Uint8Array(Se.origLength);ne=new Uint8Array(le,2),R(ne,Ee)}else Ee=new Uint8Array(le);ue.set(Ee,Se.outOffset);var Ce=0;(Z=Se.outOffset+Se.origLength)%4!=0&&(Ce=4-Z%4),ue.set(new Uint8Array(Ce).buffer,Se.outOffset+Se.origLength),Q=Z+Ce}),he.slice(0,Q)},Object.defineProperty(n,"__esModule",{value:!0}),n}({}).convert_streams}function bee(n,e){const t={M:2,L:2,Q:4,C:6,Z:0},r={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},i=1,s=2,o=4,a=8,l=16,c=32;let u;function f(C){if(!u){const E={R:s,L:i,D:o,C:l,U:c,T:a};u=new Map;for(let P in r){let b=0;r[P].split(",").forEach(R=>{let[D,L]=R.split("+");D=parseInt(D,36),L=L?parseInt(L,36):0,u.set(b+=D,E[P]);for(let N=L;N--;)u.set(++b,E[P])})}}return u.get(C)||c}const d=1,m=2,g=3,v=4,y=[null,"isol","init","fina","medi"];function x(C){const E=new Uint8Array(C.length);let P=c,b=d,R=-1;for(let D=0;D<C.length;D++){const L=C.codePointAt(D);let N=f(L)|0,z=d;N&a||(P&(i|o|l)?N&(s|o|l)?(z=g,(b===d||b===g)&&E[R]++):N&(i|c)&&(b===m||b===v)&&E[R]--:P&(s|c)&&(b===m||b===v)&&E[R]--,b=E[D]=z,P=N,R=D,L>65535&&D++)}return E}function _(C,E){const P=[];for(let R=0;R<E.length;R++){const D=E.codePointAt(R);D>65535&&R++,P.push(n.U.codeToGlyph(C,D))}const b=C.GSUB;if(b){const{lookupList:R,featureList:D}=b;let L;const N=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws)$/,z=[];D.forEach(k=>{if(N.test(k.tag))for(let V=0;V<k.tab.length;V++){if(z[k.tab[V]])continue;z[k.tab[V]]=!0;const W=R[k.tab[V]],Y=/^(isol|init|fina|medi)$/.test(k.tag);Y&&!L&&(L=x(E));for(let O=0;O<P.length;O++)(!L||!Y||y[L[O]]===k.tag)&&n.U._applySubs(P,O,W,R)}})}return P}function w(...C){for(let E=0;E<C.length;E++)if(typeof C[E]=="number")return C[E]}function A(C){const E=Object.create(null),P=C["OS/2"],b=C.hhea,R=C.head.unitsPerEm,D=w(P&&P.sTypoAscender,b&&b.ascender,R),L={unitsPerEm:R,ascender:D,descender:w(P&&P.sTypoDescender,b&&b.descender,0),capHeight:w(P&&P.sCapHeight,D),xHeight:w(P&&P.sxHeight,D),lineGap:w(P&&P.sTypoLineGap,b&&b.lineGap),forEachGlyph(N,z,k,V){let W=0;const Y=1/L.unitsPerEm*z,O=_(C,N);let U=0,H=-1;return O.forEach((G,X)=>{if(G!==-1){let Z=E[G];if(!Z){const{cmds:re,crds:ie}=n.U.glyphToPath(C,G);let Q="",ue=0;for(let ne=0,le=re.length;ne<le;ne++){const Ee=t[re[ne]];Q+=re[ne];for(let Ce=1;Ce<=Ee;Ce++)Q+=(Ce>1?",":"")+ie[ue++]}let he,be,ye,Se;if(ie.length){he=be=1/0,ye=Se=-1/0;for(let ne=0,le=ie.length;ne<le;ne+=2){let Ee=ie[ne],Ce=ie[ne+1];Ee<he&&(he=Ee),Ce<be&&(be=Ce),Ee>ye&&(ye=Ee),Ce>Se&&(Se=Ce)}}else he=ye=be=Se=0;Z=E[G]={index:G,advanceWidth:C.hmtx.aWidth[G],xMin:he,yMin:be,xMax:ye,yMax:Se,path:Q,pathCommandCount:re.length}}H!==-1&&(W+=n.U.getPairAdjustment(C,H,G)*Y),V.call(null,Z,W,U),Z.advanceWidth&&(W+=Z.advanceWidth*Y),k&&(W+=k*z),H=G}U+=N.codePointAt(U)>65535?2:1}),W}};return L}return function(E){const P=new Uint8Array(E,0,4),b=n._bin.readASCII(P,0,4);if(b==="wOFF")E=e(E);else if(b==="wOF2")throw new Error("woff2 fonts not supported");return A(n.parse(E)[0])}}const Mee=Yg({name:"Typr Font Parser",dependencies:[See,Aee,bee],init(n,e,t){const r=n(),i=e();return t(r,i)}}),Ad={defaultFontURL:"https://fonts.gstatic.com/s/roboto/v18/KFOmCnqEu92Fr1Mu4mxM.woff",sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048},Cee=new He;function ed(){return(self.performance||Date).now()}const UB=Object.create(null);function HU(n,e){n=Pee({},n);const t=ed();if(n.font=Ree(n.font||Ad.defaultFontURL),n.text=""+n.text,n.sdfGlyphSize=n.sdfGlyphSize||Ad.sdfGlyphSize,n.colorRanges!=null){let f={};for(let d in n.colorRanges)if(n.colorRanges.hasOwnProperty(d)){let m=n.colorRanges[d];typeof m!="number"&&(m=Cee.set(m).getHex()),f[d]=m}n.colorRanges=f}Object.freeze(n);const{textureWidth:r,sdfExponent:i}=Ad,{sdfGlyphSize:s}=n,o=r/s*4;let a=UB[s];if(!a){const f=document.createElement("canvas");f.width=r,f.height=s*256/o,a=UB[s]={glyphCount:0,sdfGlyphSize:s,sdfCanvas:f,sdfTexture:new mn(f,void 0,void 0,void 0,fn,fn),contextLost:!1,glyphsByFont:new Map},a.sdfTexture.generateMipmaps=!1,Eee(a)}const{sdfTexture:l,sdfCanvas:c}=a;let u=a.glyphsByFont.get(n.font);u||a.glyphsByFont.set(n.font,u=new Map),Bee(n).then(f=>{const{glyphIds:d,glyphPositions:m,fontSize:g,unitsPerEm:v,timings:y}=f,x=[],_=new Float32Array(d.length*4),w=g/v;let A=0,C=0;const E=ed();d.forEach((L,N)=>{let z=u.get(L);if(!z){const{path:Y,pathBounds:O}=f.glyphData[L],U=Math.max(O[2]-O[0],O[3]-O[1])/s*(Ad.sdfMargin*s+.5),H=a.glyphCount++,G=[O[0]-U,O[1]-U,O[2]+U,O[3]+U];u.set(L,z={path:Y,atlasIndex:H,sdfViewBox:G}),x.push(z)}const{sdfViewBox:k}=z,V=m[C++],W=m[C++];_[A++]=V+k[0]*w,_[A++]=W+k[1]*w,_[A++]=V+k[2]*w,_[A++]=W+k[3]*w,d[N]=z.atlasIndex}),y.quads=(y.quads||0)+(ed()-E);const P=ed();y.sdf={};const b=c.height,R=Math.ceil(a.glyphCount/o),D=Math.pow(2,Math.ceil(Math.log2(R*s)));D>b&&(console.info(`Increasing SDF texture size ${b}->${D}`),wee(c,r,D),l.dispose()),Promise.all(x.map(L=>VU(L,a,n.gpuAccelerateSDF).then(({timing:N})=>{y.sdf[L.atlasIndex]=N}))).then(()=>{x.length&&!a.contextLost&&(WU(a),l.needsUpdate=!0),y.sdfTotal=ed()-P,y.total=ed()-t,e(Object.freeze({parameters:n,sdfTexture:l,sdfGlyphSize:s,sdfExponent:i,glyphBounds:_,glyphAtlasIndices:d,glyphColors:f.glyphColors,caretPositions:f.caretPositions,caretHeight:f.caretHeight,chunkedBounds:f.chunkedBounds,ascender:f.ascender,descender:f.descender,lineHeight:f.lineHeight,capHeight:f.capHeight,xHeight:f.xHeight,topBaseline:f.topBaseline,blockBounds:f.blockBounds,visibleBounds:f.visibleBounds,timings:f.timings}))})}),Promise.resolve().then(()=>{a.contextLost||xee(c)})}function VU({path:n,atlasIndex:e,sdfViewBox:t},{sdfGlyphSize:r,sdfCanvas:i,contextLost:s},o){if(s)return Promise.resolve({timing:-1});const{textureWidth:a,sdfExponent:l}=Ad,c=Math.max(t[2]-t[0],t[3]-t[1]),u=Math.floor(e/4),f=u%(a/r)*r,d=Math.floor(u/(a/r))*r,m=e%4;return pee(r,r,n,t,c,l,i,f,d,m,o)}function Eee(n){const e=n.sdfCanvas;e.addEventListener("webglcontextlost",t=>{console.log("Context Lost",t),t.preventDefault(),n.contextLost=!0}),e.addEventListener("webglcontextrestored",t=>{console.log("Context Restored",t),n.contextLost=!1;const r=[];n.glyphsByFont.forEach(i=>{i.forEach(s=>{r.push(VU(s,n,!0))})}),Promise.all(r).then(()=>{WU(n),n.sdfTexture.needsUpdate=!0})})}function Tee({font:n,characters:e,sdfGlyphSize:t},r){let i=Array.isArray(e)?e.join(`
`):""+e;HU({font:n,sdfGlyphSize:t,text:i},r)}function Pee(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}let sy;function Ree(n){return sy||(sy=typeof document>"u"?{}:document.createElement("a")),sy.href=n,sy.href}function WU(n){if(typeof createImageBitmap!="function"){console.info("Safari<15: applying SDF canvas workaround");const{sdfCanvas:e,sdfTexture:t}=n,{width:r,height:i}=e,s=n.sdfCanvas.getContext("webgl");let o=t.image.data;(!o||o.length!==r*i*4)&&(o=new Uint8Array(r*i*4),t.image={width:r,height:i,data:o},t.flipY=!1,t.isDataTexture=!0),s.readPixels(0,0,r,i,s.RGBA,s.UNSIGNED_BYTE,o)}}const Dee=Yg({name:"Typesetter",dependencies:[Ad,Mee,hee,see],init(n,e,t,r){const{defaultFontURL:i}=n;return t(e,r(),{defaultFontURL:i})}}),Bee=Yg({name:"Typesetter",dependencies:[Dee],init(n){return function(e){return new Promise(t=>{n.typeset(e,t)})}},getTransferables(n){const e=[n.glyphPositions.buffer,n.glyphIds.buffer];return n.caretPositions&&e.push(n.caretPositions.buffer),n.glyphColors&&e.push(n.glyphColors.buffer),e}}),zB={};function Iee(n){let e=zB[n];if(!e){const t=new el(1,1,n,n),r=t.clone(),i=t.attributes,s=r.attributes,o=new ht,a=i.uv.count;for(let l=0;l<a;l++)s.position.array[l*3]*=-1,s.normal.array[l*3+2]*=-1;["position","normal","uv"].forEach(l=>{o.setAttribute(l,new Ze([...i[l].array,...s[l].array],i[l].itemSize))}),o.setIndex([...t.index.array,...r.index.array.map(l=>l+a)]),o.translate(.5,.5,0),e=zB[n]=o}return e}const Lee="aTroikaGlyphBounds",GB="aTroikaGlyphIndex",kee="aTroikaGlyphColor";class Oee extends NC{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new Za,this.boundingBox=new qa}computeBoundingSphere(){}computeBoundingBox(){}setSide(e){const t=this.getIndex().count;this.setDrawRange(e===mi?t/2:0,e===Gs?t:t/2)}set detail(e){if(e!==this._detail){this._detail=e,(typeof e!="number"||e<1)&&(e=1);let t=Iee(e);["position","normal","uv"].forEach(r=>{this.attributes[r]=t.attributes[r].clone()}),this.setIndex(t.getIndex().clone())}}get detail(){return this._detail}set curveRadius(e){e!==this._curveRadius&&(this._curveRadius=e,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(e,t,r,i,s){FS(this,Lee,e,4),FS(this,GB,t,1),FS(this,kee,s,3),this._blockBounds=r,this._chunkedBounds=i,this.instanceCount=t.length,this._updateBounds()}_updateBounds(){const e=this._blockBounds;if(e){const{curveRadius:t,boundingBox:r}=this;if(t){const{PI:i,floor:s,min:o,max:a,sin:l,cos:c}=Math,u=i/2,f=i*2,d=Math.abs(t),m=e[0]/d,g=e[2]/d,v=s((m+u)/f)!==s((g+u)/f)?-d:o(l(m)*d,l(g)*d),y=s((m-u)/f)!==s((g-u)/f)?d:a(l(m)*d,l(g)*d),x=s((m+i)/f)!==s((g+i)/f)?d*2:a(d-c(m)*d,d-c(g)*d);r.min.set(v,e[1],t<0?-x:0),r.max.set(y,e[3],t<0?0:x)}else r.min.set(e[0],e[1],0),r.max.set(e[2],e[3],0);r.getBoundingSphere(this.boundingSphere)}}applyClipRect(e){let t=this.getAttribute(GB).count,r=this._chunkedBounds;if(r)for(let i=r.length;i--;){t=r[i].end;let s=r[i].rect;if(s[1]<e.w&&s[3]>e.y&&s[0]<e.z&&s[2]>e.x)break}this.instanceCount=t}}function FS(n,e,t,r){const i=n.getAttribute(e);t?i&&i.array.length===t.length?(i.array.set(t),i.needsUpdate=!0):(n.setAttribute(e,new Vu(t,r)),delete n._maxInstanceCount,n.dispose()):i&&n.deleteAttribute(e)}const Fee=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaDistanceOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,Nee=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaDistanceOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaDistanceOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,Uee=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaDistanceOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaOutlineOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of exponential encoding in webgl-sdf-generator
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,zee=`
float aaDist = troikaGetAADist();
float fragDistance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(fragDistance, uTroikaDistanceOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  fragDistance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`;function Gee(n){const e=fM(n,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new De},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new Ct(0,0,0,0)},uTroikaClipRect:{value:new Ct(0,0,0,0)},uTroikaDistanceOffset:{value:0},uTroikaOutlineOpacity:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new De},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new He},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new $r},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:Fee,vertexTransform:Nee,fragmentDefs:Uee,fragmentColorTransform:zee,customRewriter({vertexShader:t,fragmentShader:r}){let i=/\buniform\s+vec3\s+diffuse\b/;return i.test(r)&&(r=r.replace(i,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),i.test(t)||(t=t.replace(zU,`uniform vec3 diffuse;
$&
vTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;
`))),{vertexShader:t,fragmentShader:r}}});return e.transparent=!0,Object.defineProperties(e,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),e}const QC=new Ri({color:16777215,side:Gs,transparent:!0}),HB=8421504,VB=new qe,oy=new $,NS=new $,Bp=[],Hee=new $,US="+x+y";function WB(n){return Array.isArray(n)?n[0]:n}let jU=()=>{const n=new Nn(new el(1,1),QC);return jU=()=>n,n},$U=()=>{const n=new Nn(new el(1,1,32,1),QC);return $U=()=>n,n};const Vee={type:"syncstart"},Wee={type:"synccomplete"},XU=["font","fontSize","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],jee=XU.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");let JU=class extends Nn{constructor(){const e=new Oee;super(e,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.fontSize=.1,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=HB,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=US,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(e){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(e):(this._isSyncing=!0,this.dispatchEvent(Vee),HU({text:this.text,font:this.font,fontSize:this.fontSize||.1,letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF},t=>{this._isSyncing=!1,this._textRenderInfo=t,this.geometry.updateGlyphs(t.glyphBounds,t.glyphAtlasIndices,t.blockBounds,t.chunkedBounds,t.glyphColors);const r=this._queuedSyncs;r&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{r.forEach(i=>i&&i())})),this.dispatchEvent(Wee),e&&e()})))}onBeforeRender(e,t,r,i,s,o){this.sync(),s.isTroikaTextMaterial&&this._prepareForRender(s),s._hadOwnSide=s.hasOwnProperty("side"),this.geometry.setSide(s._actualSide=s.side),s.side=za}onAfterRender(e,t,r,i,s,o){s._hadOwnSide?s.side=s._actualSide:delete s.side}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}get material(){let e=this._derivedMaterial;const t=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=QC.clone());if((!e||e.baseMaterial!==t)&&(e=this._derivedMaterial=Gee(t),t.addEventListener("dispose",function r(){t.removeEventListener("dispose",r),e.dispose()})),this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY){let r=e._outlineMtl;return r||(r=e._outlineMtl=Object.create(e,{id:{value:e.id+.1}}),r.isTextOutlineMaterial=!0,r.depthWrite=!1,r.map=null,e.addEventListener("dispose",function i(){e.removeEventListener("dispose",i),r.dispose()})),[r,e]}else return e}set material(e){e&&e.isTroikaTextMaterial?(this._derivedMaterial=e,this._baseMaterial=e.baseMaterial):this._baseMaterial=e}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(e){this.geometry.detail=e}get curveRadius(){return this.geometry.curveRadius}set curveRadius(e){this.geometry.curveRadius=e}get customDepthMaterial(){return WB(this.material).getDepthMaterial()}get customDistanceMaterial(){return WB(this.material).getDistanceMaterial()}_prepareForRender(e){const t=e.isTextOutlineMaterial,r=e.uniforms,i=this.textRenderInfo;if(i){const{sdfTexture:a,blockBounds:l}=i;r.uTroikaSDFTexture.value=a,r.uTroikaSDFTextureSize.value.set(a.image.width,a.image.height),r.uTroikaSDFGlyphSize.value=i.sdfGlyphSize,r.uTroikaSDFExponent.value=i.sdfExponent,r.uTroikaTotalBounds.value.fromArray(l),r.uTroikaUseGlyphColors.value=!t&&!!i.glyphColors;let c=0,u=0,f=0,d,m,g,v=0,y=0;if(t){let{outlineWidth:_,outlineOffsetX:w,outlineOffsetY:A,outlineBlur:C,outlineOpacity:E}=this;c=this._parsePercent(_)||0,u=Math.max(0,this._parsePercent(C)||0),d=E,v=this._parsePercent(w)||0,y=this._parsePercent(A)||0}else f=Math.max(0,this._parsePercent(this.strokeWidth)||0),f&&(g=this.strokeColor,r.uTroikaStrokeColor.value.set(g??HB),m=this.strokeOpacity,m==null&&(m=1)),d=this.fillOpacity;r.uTroikaDistanceOffset.value=c,r.uTroikaPositionOffset.value.set(v,y),r.uTroikaBlurRadius.value=u,r.uTroikaStrokeWidth.value=f,r.uTroikaStrokeOpacity.value=m,r.uTroikaFillOpacity.value=d??1,r.uTroikaCurveRadius.value=this.curveRadius||0;let x=this.clipRect;if(x&&Array.isArray(x)&&x.length===4)r.uTroikaClipRect.value.fromArray(x);else{const _=(this.fontSize||.1)*100;r.uTroikaClipRect.value.set(l[0]-_,l[1]-_,l[2]+_,l[3]+_)}this.geometry.applyClipRect(r.uTroikaClipRect.value)}r.uTroikaSDFDebug.value=!!this.debugSDF,e.polygonOffset=!!this.depthOffset,e.polygonOffsetFactor=e.polygonOffsetUnits=this.depthOffset||0;const s=t?this.outlineColor||0:this.color;if(s==null)delete e.color;else{const a=e.hasOwnProperty("color")?e.color:e.color=new He;(s!==a._input||typeof s=="object")&&a.set(a._input=s)}let o=this.orientation||US;if(o!==e._orientation){let a=r.uTroikaOrient.value;o=o.replace(/[^-+xyz]/g,"");let l=o!==US&&o.match(/^([-+])([xyz])([-+])([xyz])$/);if(l){let[,c,u,f,d]=l;oy.set(0,0,0)[u]=c==="-"?1:-1,NS.set(0,0,0)[d]=f==="-"?-1:1,VB.lookAt(Hee,oy.cross(NS),NS),a.setFromMatrix4(VB)}else a.identity();e._orientation=o}}_parsePercent(e){if(typeof e=="string"){let t=e.match(/^(-?[\d.]+)%$/),r=t?parseFloat(t[1]):NaN;e=(isNaN(r)?0:r/100)*this.fontSize}return e}localPositionToTextCoords(e,t=new De){t.copy(e);const r=this.curveRadius;return r&&(t.x=Math.atan2(e.x,Math.abs(r)-Math.abs(e.z))*Math.abs(r)),t}worldPositionToTextCoords(e,t=new De){return oy.copy(e),this.localPositionToTextCoords(this.worldToLocal(oy),t)}raycast(e,t){const{textRenderInfo:r,curveRadius:i}=this;if(r){const s=r.blockBounds,o=i?$U():jU(),a=o.geometry,{position:l,uv:c}=a.attributes;for(let u=0;u<c.count;u++){let f=s[0]+c.getX(u)*(s[2]-s[0]);const d=s[1]+c.getY(u)*(s[3]-s[1]);let m=0;i&&(m=i-Math.cos(f/i)*i,f=Math.sin(f/i)*i),l.setXYZ(u,f,d,m)}a.boundingSphere=this.geometry.boundingSphere,a.boundingBox=this.geometry.boundingBox,o.matrixWorld=this.matrixWorld,o.material.side=this.material.side,Bp.length=0,o.raycast(e,Bp);for(let u=0;u<Bp.length;u++)Bp[u].object=this,t.push(Bp[u])}}copy(e){const t=this.geometry;return super.copy(e),this.geometry=t,jee.forEach(r=>{this[r]=e[r]}),this}clone(){return new this.constructor().copy(this)}};XU.forEach(n=>{const e="_private_"+n;Object.defineProperty(JU.prototype,n,{get(){return this[e]},set(t){t!==this[e]&&(this[e]=t,this._needsSync=!0)}})});const jB=B.forwardRef(({sdfGlyphSize:n=64,anchorX:e="center",anchorY:t="middle",font:r,fontSize:i=1,children:s,characters:o,onSync:a,...l},c)=>{const u=Sc(({invalidate:g})=>g),[f]=B.useState(()=>new JU),[d,m]=B.useMemo(()=>{const g=[];let v="";return B.Children.forEach(s,y=>{typeof y=="string"||typeof y=="number"?v+=y:g.push(y)}),[g,v]},[s]);return WC(()=>new Promise(g=>Tee({font:r,characters:o},g)),["troika-text",r,o]),B.useLayoutEffect(()=>void f.sync(()=>{u(),a&&a(f)})),B.useEffect(()=>()=>f.dispose(),[f]),B.createElement("primitive",Kt({object:f,ref:c,font:r,text:m,anchorX:e,anchorY:t,fontSize:i,sdfGlyphSize:n},l),d)});function $ee(n,e,t,r){const i=class extends So{constructor(o={}){const a=Object.entries(n);super({uniforms:a.reduce((l,[c,u])=>{const f=D_.clone({[c]:{value:u}});return{...l,...f}},{}),vertexShader:e,fragmentShader:t}),this.key="",a.forEach(([l])=>Object.defineProperty(this,l,{get:()=>this.uniforms[l].value,set:c=>this.uniforms[l].value=c})),Object.assign(this,o),r&&r(this)}};return i.key=Ei.generateUUID(),i}const $B=n=>n===Object(n)&&!Array.isArray(n)&&typeof n!="function";function K_(n,e){const t=Sc(i=>i.gl),r=Eo(Eh,$B(n)?Object.values(n):n);if(B.useLayoutEffect(()=>{e==null||e(r)},[e]),B.useEffect(()=>{"initTexture"in t&&(Array.isArray(r)?r:[r]).forEach(t.initTexture)},[t,r]),$B(n)){const i=Object.keys(n),s={};return i.forEach(o=>Object.assign(s,{[o]:r[i.indexOf(o)]})),s}else return r}K_.preload=n=>Eo.preload(Eh,n);K_.clear=n=>Eo.clear(Eh,n);const Xee=()=>parseInt(_h.replace(/\D+/g,"")),Jee=Xee(),Kee=$ee({color:new He("white"),scale:[1,1],imageBounds:[1,1],map:null,zoom:1,grayscale:0,opacity:1},`
  varying vec2 vUv;
  void main() {
    gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(position, 1.);
    vUv = uv;
  }
`,`
  // mostly from https://gist.github.com/statico/df64c5d167362ecf7b34fca0b1459a44
  varying vec2 vUv;
  uniform vec2 scale;
  uniform vec2 imageBounds;
  uniform vec3 color;
  uniform sampler2D map;
  uniform float zoom;
  uniform float grayscale;
  uniform float opacity;
  const vec3 luma = vec3(.299, 0.587, 0.114);
  vec4 toGrayscale(vec4 color, float intensity) {
    return vec4(mix(color.rgb, vec3(dot(color.rgb, luma)), intensity), color.a);
  }
  vec2 aspect(vec2 size) {
    return size / min(size.x, size.y);
  }
  void main() {
    vec2 s = aspect(scale);
    vec2 i = aspect(imageBounds);
    float rs = s.x / s.y;
    float ri = i.x / i.y;
    vec2 new = rs < ri ? vec2(i.x * s.y / i.y, s.y) : vec2(s.x, i.y * s.x / i.x);
    vec2 offset = (rs < ri ? vec2((new.x - s.x) / 2.0, 0.0) : vec2(0.0, (new.y - s.y) / 2.0)) / new;
    vec2 uv = vUv * s / new + offset;
    vec2 zUv = (uv - vec2(0.5, 0.5)) / zoom + vec2(0.5, 0.5);
    gl_FragColor = toGrayscale(texture2D(map, zUv) * vec4(color, opacity), grayscale);
    
    #include <tonemapping_fragment>
    #include <${Jee>=154?"colorspace_fragment":"encodings_fragment"}>
  }
`),KU=B.forwardRef(({children:n,color:e,segments:t=1,scale:r=1,zoom:i=1,grayscale:s=0,opacity:o=1,texture:a,toneMapped:l,transparent:c,...u},f)=>{ZN({ImageMaterial:Kee});const d=Array.isArray(r)?[r[0],r[1]]:[r,r],m=[a.image.width,a.image.height];return B.createElement("mesh",Kt({ref:f,scale:Array.isArray(r)?[...r,1]:r},u),B.createElement("planeGeometry",{args:[1,1,t,t]}),B.createElement("imageMaterial",{color:e,map:a,zoom:i,grayscale:s,opacity:o,scale:d,imageBounds:m,toneMapped:l,transparent:c}),n)}),Yee=B.forwardRef(({url:n,...e},t)=>{const r=K_(n);return B.createElement(KU,Kt({},e,{texture:r,ref:t}))}),Qee=B.forwardRef(({url:n,...e},t)=>B.createElement(KU,Kt({},e,{ref:t}))),qee=B.forwardRef((n,e)=>{if(n.url)return B.createElement(Yee,Kt({},n,{ref:e}));if(n.texture)return B.createElement(Qee,Kt({},n,{ref:e}));throw new Error("<Image /> requires a url or texture")});let ay=null,YU="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function QU(n,e,t){return r=>{t&&t(r),n&&(ay||(ay=new QZ),ay.setDecoderPath(typeof n=="string"?n:YU),r.setDRACOLoader(ay)),e&&r.setMeshoptDecoder(typeof kS=="function"?kS():kS)}}function af(n,e=!0,t=!0,r){return Eo(KC,n,QU(e,t,r))}af.preload=(n,e=!0,t=!0,r)=>Eo.preload(KC,n,QU(e,t,r));af.clear=n=>Eo.clear(KC,n);af.setDecoderPath=n=>{YU=n};function Zee(n,e){const{unsuspend:t,start:r,crossOrigin:i,muted:s,loop:o,...a}={unsuspend:"loadedmetadata",crossOrigin:"Anonymous",muted:!0,loop:!0,start:!0,playsInline:!0,...e},l=Sc(u=>u.gl),c=WC(()=>new Promise((u,f)=>{const d=Object.assign(document.createElement("video"),{src:typeof n=="string"&&n||void 0,srcObject:n instanceof MediaStream&&n||void 0,crossOrigin:i,loop:o,muted:s,...a}),m=new hN(d);"colorSpace"in m?m.colorSpace=l.outputColorSpace:m.encoding=l.outputEncoding,d.addEventListener(t,()=>u(m))}),[n]);return B.useEffect(()=>void(r&&c.image.play()),[c,r]),c}function hm(n){return Eo(YC,n)}hm.preload=n=>Eo.preload(YC,n);hm.clear=n=>Eo.clear(YC,n);function ete(n,e){const t=B.useRef(),[r]=B.useState(()=>e?e instanceof Et?{current:e}:e:t),[i]=B.useState(()=>new HN(void 0));B.useLayoutEffect(()=>{e&&(r.current=e instanceof Et?e:e.current),i._root=r.current});const s=B.useRef({}),o=B.useMemo(()=>{const a={};return n.forEach(l=>Object.defineProperty(a,l.name,{enumerable:!0,get(){if(r.current)return s.current[l.name]||(s.current[l.name]=i.clipAction(l,r.current))},configurable:!0})),{ref:r,clips:n,actions:a,names:n.map(l=>l.name),mixer:i}},[n]);return hs((a,l)=>i.update(l)),B.useEffect(()=>{const a=r.current;return()=>{s.current={},i.stopAllAction(),Object.values(o.actions).forEach(l=>{a&&i.uncacheAction(l,a)})}},[n]),o}var tte=`#define GLSLIFY 1
vec3 mod289(vec3 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 mod289(vec4 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 permute(vec4 x){return mod289(((x*34.0)+1.0)*x);}vec4 taylorInvSqrt(vec4 r){return 1.79284291400159-0.85373472095314*r;}float snoise(vec3 v){const vec2 C=vec2(1.0/6.0,1.0/3.0);const vec4 D=vec4(0.0,0.5,1.0,2.0);vec3 i=floor(v+dot(v,C.yyy));vec3 x0=v-i+dot(i,C.xxx);vec3 g=step(x0.yzx,x0.xyz);vec3 l=1.0-g;vec3 i1=min(g.xyz,l.zxy);vec3 i2=max(g.xyz,l.zxy);vec3 x1=x0-i1+C.xxx;vec3 x2=x0-i2+C.yyy;vec3 x3=x0-D.yyy;i=mod289(i);vec4 p=permute(permute(permute(i.z+vec4(0.0,i1.z,i2.z,1.0))+i.y+vec4(0.0,i1.y,i2.y,1.0))+i.x+vec4(0.0,i1.x,i2.x,1.0));float n_=0.142857142857;vec3 ns=n_*D.wyz-D.xzx;vec4 j=p-49.0*floor(p*ns.z*ns.z);vec4 x_=floor(j*ns.z);vec4 y_=floor(j-7.0*x_);vec4 x=x_*ns.x+ns.yyyy;vec4 y=y_*ns.x+ns.yyyy;vec4 h=1.0-abs(x)-abs(y);vec4 b0=vec4(x.xy,y.xy);vec4 b1=vec4(x.zw,y.zw);vec4 s0=floor(b0)*2.0+1.0;vec4 s1=floor(b1)*2.0+1.0;vec4 sh=-step(h,vec4(0.0));vec4 a0=b0.xzyw+s0.xzyw*sh.xxyy;vec4 a1=b1.xzyw+s1.xzyw*sh.zzww;vec3 p0=vec3(a0.xy,h.x);vec3 p1=vec3(a0.zw,h.y);vec3 p2=vec3(a1.xy,h.z);vec3 p3=vec3(a1.zw,h.w);vec4 norm=taylorInvSqrt(vec4(dot(p0,p0),dot(p1,p1),dot(p2,p2),dot(p3,p3)));p0*=norm.x;p1*=norm.y;p2*=norm.z;p3*=norm.w;vec4 m=max(0.6-vec4(dot(x0,x0),dot(x1,x1),dot(x2,x2),dot(x3,x3)),0.0);m=m*m;return 42.0*dot(m*m,vec4(dot(p0,x0),dot(p1,x1),dot(p2,x2),dot(p3,x3)));}`;class nte extends Mo{constructor(e={}){super(e),this.setValues(e),this._time={value:0},this._distort={value:.4},this._radius={value:1}}onBeforeCompile(e){e.uniforms.time=this._time,e.uniforms.radius=this._radius,e.uniforms.distort=this._distort,e.vertexShader=`
      uniform float time;
      uniform float radius;
      uniform float distort;
      ${tte}
      ${e.vertexShader}
    `,e.vertexShader=e.vertexShader.replace("#include <begin_vertex>",`
        float updateTime = time / 50.0;
        float noise = snoise(vec3(position / 2.0 + updateTime * 5.0));
        vec3 transformed = vec3(position * (noise * pow(distort, 2.0) + radius));
        `)}get time(){return this._time.value}set time(e){this._time.value=e}get distort(){return this._distort.value}set distort(e){this._distort.value=e}get radius(){return this._radius.value}set radius(e){this._radius.value=e}}const XB=B.forwardRef(({speed:n=1,...e},t)=>{const[r]=B.useState(()=>new nte);return hs(i=>r&&(r.time=i.clock.getElapsedTime()*n)),B.createElement("primitive",Kt({object:r,ref:t,attach:"material"},e))});class rte extends ac{constructor(e={}){super(e),this.setValues(e),this._time={value:0},this._factor={value:1}}onBeforeCompile(e){e.uniforms.time=this._time,e.uniforms.factor=this._factor,e.vertexShader=`
      uniform float time;
      uniform float factor;
      ${e.vertexShader}
    `,e.vertexShader=e.vertexShader.replace("#include <begin_vertex>",`float theta = sin( time + position.y ) / 2.0 * factor;
        float c = cos( theta );
        float s = sin( theta );
        mat3 m = mat3( c, 0, s, 0, 1, 0, -s, 0, c );
        vec3 transformed = vec3( position ) * m;
        vNormal = vNormal * m;`)}get time(){return this._time.value}set time(e){this._time.value=e}get factor(){return this._factor.value}set factor(e){this._factor.value=e}}const ite=B.forwardRef(({speed:n=1,...e},t)=>{const[r]=B.useState(()=>new rte);return hs(i=>r&&(r.time=i.clock.getElapsedTime()*n)),B.createElement("primitive",Kt({object:r,ref:t,attach:"material"},e))});function ste(n,e){const t=n+"Geometry";return B.forwardRef(({args:r,children:i,...s},o)=>{const a=B.useRef(null);return B.useImperativeHandle(o,()=>a.current),B.useLayoutEffect(()=>void(e==null?void 0:e(a.current))),B.createElement("mesh",Kt({ref:a},s),B.createElement(t,{attach:"geometry",args:r}),i)})}const ote=ste("sphere"),zS=B.forwardRef(({children:n,enabled:e=!0,speed:t=1,rotationIntensity:r=1,floatIntensity:i=1,floatingRange:s=[-.1,.1],...o},a)=>{const l=B.useRef(null),c=B.useRef(Math.random()*1e4);return hs(u=>{var f,d;if(!e||t===0)return;const m=c.current+u.clock.getElapsedTime();l.current.rotation.x=Math.cos(m/4*t)/8*r,l.current.rotation.y=Math.sin(m/4*t)/8*r,l.current.rotation.z=Math.sin(m/4*t)/20*r;let g=Math.sin(m/4*t)/10;g=Ei.mapLinear(g,-.1,.1,(f=s==null?void 0:s[0])!==null&&f!==void 0?f:-.1,(d=s==null?void 0:s[1])!==null&&d!==void 0?d:.1),l.current.position.y=g*i,l.current.updateMatrix()}),B.createElement("group",o,B.createElement("group",{ref:XC([l,a]),matrixAutoUpdate:!1},n))});var qU={exports:{}},ate="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",lte=ate,cte=lte;function ZU(){}function e5(){}e5.resetWarningCache=ZU;var ute=function(){function n(r,i,s,o,a,l){if(l!==cte){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:e5,resetWarningCache:ZU};return t.PropTypes=t,t};qU.exports=ute();var fte=qU.exports;const on=mh(fte),ng=B.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"}),Y_=B.createContext({}),qC=B.createContext(null),Q_=typeof document<"u",dte=Q_?B.useLayoutEffect:B.useEffect,t5=B.createContext({strict:!1});function hte(n,e,t,r){const{visualElement:i}=B.useContext(Y_),s=B.useContext(t5),o=B.useContext(qC),a=B.useContext(ng).reducedMotion,l=B.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(n,{visualState:e,parent:i,props:t,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;B.useInsertionEffect(()=>{c&&c.update(t,o)});const u=B.useRef(!!window.HandoffAppearAnimations);return dte(()=>{c&&(c.render(),u.current&&c.animationState&&c.animationState.animateChanges())}),B.useEffect(()=>{c&&(c.updateFeatures(),!u.current&&c.animationState&&c.animationState.animateChanges(),window.HandoffAppearAnimations=void 0,u.current=!1)}),c}function bd(n){return typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function pte(n,e,t){return B.useCallback(r=>{r&&n.mount&&n.mount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):bd(t)&&(t.current=r))},[e])}function rg(n){return typeof n=="string"||Array.isArray(n)}function q_(n){return typeof n=="object"&&typeof n.start=="function"}const ZC=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],eE=["initial",...ZC];function Z_(n){return q_(n.animate)||eE.some(e=>rg(n[e]))}function n5(n){return!!(Z_(n)||n.variants)}function mte(n,e){if(Z_(n)){const{initial:t,animate:r}=n;return{initial:t===!1||rg(t)?t:void 0,animate:rg(r)?r:void 0}}return n.inherit!==!1?e:{}}function gte(n){const{initial:e,animate:t}=mte(n,B.useContext(Y_));return B.useMemo(()=>({initial:e,animate:t}),[JB(e),JB(t)])}function JB(n){return Array.isArray(n)?n.join(" "):n}const KB={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ig={};for(const n in KB)ig[n]={isEnabled:e=>KB[n].some(t=>!!e[t])};function vte(n){for(const e in n)ig[e]={...ig[e],...n[e]}}const r5=B.createContext({}),i5=B.createContext({}),yte=Symbol.for("motionComponentSymbol");function s5({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:r,Component:i}){n&&vte(n);function s(a,l){let c;const u={...B.useContext(ng),...a,layoutId:_te(a)},{isStatic:f}=u,d=gte(a),m=r(a,f);if(!f&&Q_){d.visualElement=hte(i,m,u,e);const g=B.useContext(i5),v=B.useContext(t5).strict;d.visualElement&&(c=d.visualElement.loadFeatures(u,v,n,g))}return B.createElement(Y_.Provider,{value:d},c&&d.visualElement?B.createElement(c,{visualElement:d.visualElement,...u}):null,t(i,a,pte(m,d.visualElement,l),m,f,d.visualElement))}const o=B.forwardRef(s);return o[yte]=i,o}function _te({layoutId:n}){const e=B.useContext(r5).id;return e&&n!==void 0?e+"-"+n:n}function xte(n){function e(r,i={}){return s5(n(r,i))}if(typeof Proxy>"u")return e;const t=new Map;return new Proxy(e,{get:(r,i)=>(t.has(i)||t.set(i,e(i)),t.get(i))})}const wte=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function tE(n){return typeof n!="string"||n.includes("-")?!1:!!(wte.indexOf(n)>-1||/[A-Z]/.test(n))}const B1={};function Ste(n){Object.assign(B1,n)}const Qg=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],lf=new Set(Qg);function o5(n,{layout:e,layoutId:t}){return lf.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!B1[n]||n==="opacity")}const Un=n=>!!(n&&n.getVelocity),Ate={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},bte=Qg.length;function Mte(n,{enableHardwareAcceleration:e=!0,allowTransformNone:t=!0},r,i){let s="";for(let o=0;o<bte;o++){const a=Qg[o];if(n[a]!==void 0){const l=Ate[a]||a;s+=`${l}(${n[a]}) `}}return e&&!n.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(n,r?"":s):t&&r&&(s="none"),s}const a5=n=>e=>typeof e=="string"&&e.startsWith(n),l5=a5("--"),hM=a5("var(--"),Cte=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,Ete=(n,e)=>e&&typeof n=="number"?e.transform(n):n,lc=(n,e,t)=>Math.min(Math.max(t,n),e),cf={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},pm={...cf,transform:n=>lc(0,1,n)},ly={...cf,default:1},mm=n=>Math.round(n*1e5)/1e5,ex=/(-)?([\d]*\.?[\d])+/g,c5=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Tte=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function qg(n){return typeof n=="string"}const Zg=n=>({test:e=>qg(e)&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Cl=Zg("deg"),$o=Zg("%"),ft=Zg("px"),Pte=Zg("vh"),Rte=Zg("vw"),YB={...$o,parse:n=>$o.parse(n)/100,transform:n=>$o.transform(n*100)},QB={...cf,transform:Math.round},u5={borderWidth:ft,borderTopWidth:ft,borderRightWidth:ft,borderBottomWidth:ft,borderLeftWidth:ft,borderRadius:ft,radius:ft,borderTopLeftRadius:ft,borderTopRightRadius:ft,borderBottomRightRadius:ft,borderBottomLeftRadius:ft,width:ft,maxWidth:ft,height:ft,maxHeight:ft,size:ft,top:ft,right:ft,bottom:ft,left:ft,padding:ft,paddingTop:ft,paddingRight:ft,paddingBottom:ft,paddingLeft:ft,margin:ft,marginTop:ft,marginRight:ft,marginBottom:ft,marginLeft:ft,rotate:Cl,rotateX:Cl,rotateY:Cl,rotateZ:Cl,scale:ly,scaleX:ly,scaleY:ly,scaleZ:ly,skew:Cl,skewX:Cl,skewY:Cl,distance:ft,translateX:ft,translateY:ft,translateZ:ft,x:ft,y:ft,z:ft,perspective:ft,transformPerspective:ft,opacity:pm,originX:YB,originY:YB,originZ:ft,zIndex:QB,fillOpacity:pm,strokeOpacity:pm,numOctaves:QB};function nE(n,e,t,r){const{style:i,vars:s,transform:o,transformOrigin:a}=n;let l=!1,c=!1,u=!0;for(const f in e){const d=e[f];if(l5(f)){s[f]=d;continue}const m=u5[f],g=Ete(d,m);if(lf.has(f)){if(l=!0,o[f]=g,!u)continue;d!==(m.default||0)&&(u=!1)}else f.startsWith("origin")?(c=!0,a[f]=g):i[f]=g}if(e.transform||(l||r?i.transform=Mte(n.transform,t,u,r):i.transform&&(i.transform="none")),c){const{originX:f="50%",originY:d="50%",originZ:m=0}=a;i.transformOrigin=`${f} ${d} ${m}`}}const rE=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function f5(n,e,t){for(const r in e)!Un(e[r])&&!o5(r,t)&&(n[r]=e[r])}function Dte({transformTemplate:n},e,t){return B.useMemo(()=>{const r=rE();return nE(r,e,{enableHardwareAcceleration:!t},n),Object.assign({},r.vars,r.style)},[e])}function Bte(n,e,t){const r=n.style||{},i={};return f5(i,r,n),Object.assign(i,Dte(n,e,t)),n.transformValues?n.transformValues(i):i}function Ite(n,e,t){const r={},i=Bte(n,e,t);return n.drag&&n.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(r.tabIndex=0),r.style=i,r}const Lte=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function I1(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||Lte.has(n)}let d5=n=>!I1(n);function h5(n){n&&(d5=e=>e.startsWith("on")?!I1(e):n(e))}try{h5(require("@emotion/is-prop-valid").default)}catch{}function p5(n,e,t){const r={};for(const i in n)i==="values"&&typeof n.values=="object"||(d5(i)||t===!0&&I1(i)||!e&&!I1(i)||n.draggable&&i.startsWith("onDrag"))&&(r[i]=n[i]);return r}function qB(n,e,t){return typeof n=="string"?n:ft.transform(e+t*n)}function kte(n,e,t){const r=qB(e,n.x,n.width),i=qB(t,n.y,n.height);return`${r} ${i}`}const Ote={offset:"stroke-dashoffset",array:"stroke-dasharray"},Fte={offset:"strokeDashoffset",array:"strokeDasharray"};function Nte(n,e,t=1,r=0,i=!0){n.pathLength=1;const s=i?Ote:Fte;n[s.offset]=ft.transform(-r);const o=ft.transform(e),a=ft.transform(t);n[s.array]=`${o} ${a}`}function iE(n,{attrX:e,attrY:t,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},u,f,d){if(nE(n,c,u,d),f){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:m,style:g,dimensions:v}=n;m.transform&&(v&&(g.transform=m.transform),delete m.transform),v&&(i!==void 0||s!==void 0||g.transform)&&(g.transformOrigin=kte(v,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(m.x=e),t!==void 0&&(m.y=t),r!==void 0&&(m.scale=r),o!==void 0&&Nte(m,o,a,l,!1)}const m5=()=>({...rE(),attrs:{}}),sE=n=>typeof n=="string"&&n.toLowerCase()==="svg";function Ute(n,e,t,r){const i=B.useMemo(()=>{const s=m5();return iE(s,e,{enableHardwareAcceleration:!1},sE(r),n.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(n.style){const s={};f5(s,n.style,n),i.style={...s,...i.style}}return i}function zte(n=!1){return(t,r,i,{latestValues:s},o)=>{const l=(tE(t)?Ute:Ite)(r,s,o,t),u={...p5(r,typeof t=="string",n),...l,ref:i},{children:f}=r,d=B.useMemo(()=>Un(f)?f.get():f,[f]);return B.createElement(t,{...u,children:d})}}const oE=n=>n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function g5(n,{style:e,vars:t},r,i){Object.assign(n.style,e,i&&i.getProjectionStyles(r));for(const s in t)n.style.setProperty(s,t[s])}const v5=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function y5(n,e,t,r){g5(n,e,void 0,r);for(const i in e.attrs)n.setAttribute(v5.has(i)?i:oE(i),e.attrs[i])}function aE(n,e){const{style:t}=n,r={};for(const i in t)(Un(t[i])||e.style&&Un(e.style[i])||o5(i,n))&&(r[i]=t[i]);return r}function _5(n,e){const t=aE(n,e);for(const r in n)if(Un(n[r])||Un(e[r])){const i=Qg.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;t[i]=n[r]}return t}function lE(n,e,t,r={},i={}){return typeof e=="function"&&(e=e(t!==void 0?t:n.custom,r,i)),typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"&&(e=e(t!==void 0?t:n.custom,r,i)),e}function cE(n){const e=B.useRef(null);return e.current===null&&(e.current=n()),e.current}const L1=n=>Array.isArray(n),Gte=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),Hte=n=>L1(n)?n[n.length-1]||0:n;function gm(n){const e=Un(n)?n.get():n;return Gte(e)?e.toValue():e}function Vte({scrapeMotionValuesFromProps:n,createRenderState:e,onMount:t},r,i,s){const o={latestValues:Wte(r,i,s,n),renderState:e()};return t&&(o.mount=a=>t(r,a,o)),o}const uE=n=>(e,t)=>{const r=B.useContext(Y_),i=B.useContext(qC),s=()=>Vte(n,e,r,i);return t?s():cE(s)};function Wte(n,e,t,r){const i={},s=r(n,{});for(const d in s)i[d]=gm(s[d]);let{initial:o,animate:a}=n;const l=Z_(n),c=n5(n);e&&c&&!l&&n.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let u=t?t.initial===!1:!1;u=u||o===!1;const f=u?a:o;return f&&typeof f!="boolean"&&!q_(f)&&(Array.isArray(f)?f:[f]).forEach(m=>{const g=lE(n,m);if(!g)return;const{transitionEnd:v,transition:y,...x}=g;for(const _ in x){let w=x[_];if(Array.isArray(w)){const A=u?w.length-1:0;w=w[A]}w!==null&&(i[_]=w)}for(const _ in v)i[_]=v[_]}),i}const Fn=n=>n;class ZB{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const t=this.order.indexOf(e);t!==-1&&(this.order.splice(t,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function jte(n){let e=new ZB,t=new ZB,r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,c=!1,u=!1)=>{const f=u&&i,d=f?e:t;return c&&o.add(l),d.add(l)&&f&&i&&(r=e.order.length),l},cancel:l=>{t.remove(l),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[e,t]=[t,e],t.clear(),r=e.order.length,r)for(let c=0;c<r;c++){const u=e.order[c];u(l),o.has(u)&&(a.schedule(u),n())}i=!1,s&&(s=!1,a.process(l))}};return a}const cy=["prepare","read","update","preRender","render","postRender"],$te=40;function Xte(n,e){let t=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=cy.reduce((f,d)=>(f[d]=jte(()=>t=!0),f),{}),o=f=>s[f].process(i),a=()=>{const f=performance.now();t=!1,i.delta=r?1e3/60:Math.max(Math.min(f-i.timestamp,$te),1),i.timestamp=f,i.isProcessing=!0,cy.forEach(o),i.isProcessing=!1,t&&e&&(r=!1,n(a))},l=()=>{t=!0,r=!0,i.isProcessing||n(a)};return{schedule:cy.reduce((f,d)=>{const m=s[d];return f[d]=(g,v=!1,y=!1)=>(t||l(),m.schedule(g,v,y)),f},{}),cancel:f=>cy.forEach(d=>s[d].cancel(f)),state:i,steps:s}}const{schedule:ln,cancel:Qo,state:xr,steps:GS}=Xte(typeof requestAnimationFrame<"u"?requestAnimationFrame:Fn,!0),Jte={useVisualState:uE({scrapeMotionValuesFromProps:_5,createRenderState:m5,onMount:(n,e,{renderState:t,latestValues:r})=>{ln.read(()=>{try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}),ln.render(()=>{iE(t,r,{enableHardwareAcceleration:!1},sE(e.tagName),n.transformTemplate),y5(e,t)})}})},Kte={useVisualState:uE({scrapeMotionValuesFromProps:aE,createRenderState:rE})};function Yte(n,{forwardMotionProps:e=!1},t,r){return{...tE(n)?Jte:Kte,preloadedFeatures:t,useRender:zte(e),createVisualElement:r,Component:n}}function Ra(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}const x5=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1;function tx(n,e="page"){return{point:{x:n[e+"X"],y:n[e+"Y"]}}}const w5=n=>e=>x5(e)&&n(e,tx(e));function yo(n,e,t,r){return Ra(n,e,w5(t),r)}const Qte=(n,e)=>t=>e(n(t)),Ia=(...n)=>n.reduce(Qte);function S5(n){let e=null;return()=>{const t=()=>{e=null};return e===null?(e=n,t):!1}}const eI=S5("dragHorizontal"),tI=S5("dragVertical");function A5(n){let e=!1;if(n==="y")e=tI();else if(n==="x")e=eI();else{const t=eI(),r=tI();t&&r?e=()=>{t(),r()}:(t&&t(),r&&r())}return e}function fE(){const n=A5(!0);return n?(n(),!1):!0}class Ac{constructor(e){this.isMounted=!1,this.node=e}update(){}}function nI(n,e){const t="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(s,o)=>{if(s.type==="touch"||fE())return;const a=n.getProps();n.animationState&&a.whileHover&&n.animationState.setActive("whileHover",e),a[r]&&ln.update(()=>a[r](s,o))};return yo(n.current,t,i,{passive:!n.getProps()[r]})}class qte extends Ac{mount(){this.unmount=Ia(nI(this.node,!0),nI(this.node,!1))}unmount(){}}class Zte extends Ac{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ia(Ra(this.node.current,"focus",()=>this.onFocus()),Ra(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const b5=(n,e)=>e?n===e?!0:b5(n,e.parentElement):!1;function HS(n,e){if(!e)return;const t=new PointerEvent("pointer"+n);e(t,tx(t))}class ene extends Ac{constructor(){super(...arguments),this.removeStartListeners=Fn,this.removeEndListeners=Fn,this.removeAccessibleListeners=Fn,this.startPointerPress=(e,t)=>{if(this.removeEndListeners(),this.isPressing)return;const r=this.node.getProps(),s=yo(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u}=this.node.getProps();ln.update(()=>{b5(this.node.current,a.target)?c&&c(a,l):u&&u(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=yo(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Ia(s,o),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||HS("up",(l,c)=>{const{onTap:u}=this.node.getProps();u&&ln.update(()=>u(l,c))})};this.removeEndListeners(),this.removeEndListeners=Ra(this.node.current,"keyup",o),HS("down",(a,l)=>{this.startPress(a,l)})},t=Ra(this.node.current,"keydown",e),r=()=>{this.isPressing&&HS("cancel",(s,o)=>this.cancelPress(s,o))},i=Ra(this.node.current,"blur",r);this.removeAccessibleListeners=Ia(t,i)}}startPress(e,t){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&ln.update(()=>r(e,t))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!fE()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&ln.update(()=>r(e,t))}mount(){const e=this.node.getProps(),t=yo(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Ra(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Ia(t,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const pM=new WeakMap,VS=new WeakMap,tne=n=>{const e=pM.get(n.target);e&&e(n)},nne=n=>{n.forEach(tne)};function rne({root:n,...e}){const t=n||document;VS.has(t)||VS.set(t,{});const r=VS.get(t),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(nne,{root:n,...e})),r[i]}function ine(n,e,t){const r=rne(e);return pM.set(n,t),r.observe(n),()=>{pM.delete(n),r.unobserve(n)}}const sne={some:0,all:1};class one extends Ac{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:i="some",once:s}=e,o={root:t?t.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:sne[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),d=c?u:f;d&&d(l)};return ine(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(ane(e,t))&&this.startObserver()}unmount(){}}function ane({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const lne={inView:{Feature:one},tap:{Feature:ene},focus:{Feature:Zte},hover:{Feature:qte}};function M5(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}function cne(n){const e={};return n.values.forEach((t,r)=>e[r]=t.get()),e}function une(n){const e={};return n.values.forEach((t,r)=>e[r]=t.getVelocity()),e}function nx(n,e,t){const r=n.getProps();return lE(r,e,t!==void 0?t:r.custom,cne(n),une(n))}const fne="framerAppearId",dne="data-"+oE(fne);let hne=Fn,rx=Fn;const La=n=>n*1e3,Xo=n=>n/1e3,pne={current:!1},C5=n=>Array.isArray(n)&&typeof n[0]=="number";function E5(n){return!!(!n||typeof n=="string"&&T5[n]||C5(n)||Array.isArray(n)&&n.every(E5))}const jp=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,T5={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:jp([0,.65,.55,1]),circOut:jp([.55,0,1,.45]),backIn:jp([.31,.01,.66,-.59]),backOut:jp([.33,1.53,.69,.99])};function P5(n){if(n)return C5(n)?jp(n):Array.isArray(n)?n.map(P5):T5[n]}function mne(n,e,t,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:t};l&&(c.offset=l);const u=P5(a);return Array.isArray(u)&&(c.easing=u),n.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function gne(n,{repeat:e,repeatType:t="loop"}){const r=e&&t!=="loop"&&e%2===1?0:n.length-1;return n[r]}const R5=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,vne=1e-7,yne=12;function _ne(n,e,t,r,i){let s,o,a=0;do o=e+(t-e)/2,s=R5(o,r,i)-n,s>0?t=o:e=o;while(Math.abs(s)>vne&&++a<yne);return o}function e0(n,e,t,r){if(n===e&&t===r)return Fn;const i=s=>_ne(s,0,1,n,t);return s=>s===0||s===1?s:R5(i(s),e,r)}const xne=e0(.42,0,1,1),wne=e0(0,0,.58,1),D5=e0(.42,0,.58,1),B5=n=>Array.isArray(n)&&typeof n[0]!="number",I5=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,L5=n=>e=>1-n(1-e),k5=n=>1-Math.sin(Math.acos(n)),dE=L5(k5),Sne=I5(dE),O5=e0(.33,1.53,.69,.99),hE=L5(O5),Ane=I5(hE),bne=n=>(n*=2)<1?.5*hE(n):.5*(2-Math.pow(2,-10*(n-1))),Mne={linear:Fn,easeIn:xne,easeInOut:D5,easeOut:wne,circIn:k5,circInOut:Sne,circOut:dE,backIn:hE,backInOut:Ane,backOut:O5,anticipate:bne},rI=n=>{if(Array.isArray(n)){rx(n.length===4);const[e,t,r,i]=n;return e0(e,t,r,i)}else if(typeof n=="string")return Mne[n];return n},pE=(n,e)=>t=>!!(qg(t)&&Tte.test(t)&&t.startsWith(n)||e&&Object.prototype.hasOwnProperty.call(t,e)),F5=(n,e,t)=>r=>{if(!qg(r))return r;const[i,s,o,a]=r.match(ex);return{[n]:parseFloat(i),[e]:parseFloat(s),[t]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},Cne=n=>lc(0,255,n),WS={...cf,transform:n=>Math.round(Cne(n))},yu={test:pE("rgb","red"),parse:F5("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+WS.transform(n)+", "+WS.transform(e)+", "+WS.transform(t)+", "+mm(pm.transform(r))+")"};function Ene(n){let e="",t="",r="",i="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),i=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),i=n.substring(4,5),e+=e,t+=t,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const mM={test:pE("#"),parse:Ene,transform:yu.transform},Md={test:pE("hsl","hue"),parse:F5("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+$o.transform(mm(e))+", "+$o.transform(mm(t))+", "+mm(pm.transform(r))+")"},ui={test:n=>yu.test(n)||mM.test(n)||Md.test(n),parse:n=>yu.test(n)?yu.parse(n):Md.test(n)?Md.parse(n):mM.parse(n),transform:n=>qg(n)?n:n.hasOwnProperty("red")?yu.transform(n):Md.transform(n)},_n=(n,e,t)=>-t*n+t*e+n;function jS(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function Tne({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let i=0,s=0,o=0;if(!e)i=s=o=t;else{const a=t<.5?t*(1+e):t+e-t*e,l=2*t-a;i=jS(l,a,n+1/3),s=jS(l,a,n),o=jS(l,a,n-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const $S=(n,e,t)=>{const r=n*n;return Math.sqrt(Math.max(0,t*(e*e-r)+r))},Pne=[mM,yu,Md],Rne=n=>Pne.find(e=>e.test(n));function iI(n){const e=Rne(n);let t=e.parse(n);return e===Md&&(t=Tne(t)),t}const N5=(n,e)=>{const t=iI(n),r=iI(e),i={...t};return s=>(i.red=$S(t.red,r.red,s),i.green=$S(t.green,r.green,s),i.blue=$S(t.blue,r.blue,s),i.alpha=_n(t.alpha,r.alpha,s),yu.transform(i))};function Dne(n){var e,t;return isNaN(n)&&qg(n)&&(((e=n.match(ex))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(c5))===null||t===void 0?void 0:t.length)||0)>0}const U5={regex:Cte,countKey:"Vars",token:"${v}",parse:Fn},z5={regex:c5,countKey:"Colors",token:"${c}",parse:ui.parse},G5={regex:ex,countKey:"Numbers",token:"${n}",parse:cf.parse};function XS(n,{regex:e,countKey:t,token:r,parse:i}){const s=n.tokenised.match(e);s&&(n["num"+t]=s.length,n.tokenised=n.tokenised.replace(e,r),n.values.push(...s.map(i)))}function k1(n){const e=n.toString(),t={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return t.value.includes("var(--")&&XS(t,U5),XS(t,z5),XS(t,G5),t}function H5(n){return k1(n).values}function V5(n){const{values:e,numColors:t,numVars:r,tokenised:i}=k1(n),s=e.length;return o=>{let a=i;for(let l=0;l<s;l++)l<r?a=a.replace(U5.token,o[l]):l<r+t?a=a.replace(z5.token,ui.transform(o[l])):a=a.replace(G5.token,mm(o[l]));return a}}const Bne=n=>typeof n=="number"?0:n;function Ine(n){const e=H5(n);return V5(n)(e.map(Bne))}const cc={test:Dne,parse:H5,createTransformer:V5,getAnimatableNone:Ine},W5=(n,e)=>t=>`${t>0?e:n}`;function j5(n,e){return typeof n=="number"?t=>_n(n,e,t):ui.test(n)?N5(n,e):n.startsWith("var(")?W5(n,e):X5(n,e)}const $5=(n,e)=>{const t=[...n],r=t.length,i=n.map((s,o)=>j5(s,e[o]));return s=>{for(let o=0;o<r;o++)t[o]=i[o](s);return t}},Lne=(n,e)=>{const t={...n,...e},r={};for(const i in t)n[i]!==void 0&&e[i]!==void 0&&(r[i]=j5(n[i],e[i]));return i=>{for(const s in r)t[s]=r[s](i);return t}},X5=(n,e)=>{const t=cc.createTransformer(e),r=k1(n),i=k1(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?Ia($5(r.values,i.values),t):W5(n,e)},sh=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r},sI=(n,e)=>t=>_n(n,e,t);function kne(n){return typeof n=="number"?sI:typeof n=="string"?ui.test(n)?N5:X5:Array.isArray(n)?$5:typeof n=="object"?Lne:sI}function One(n,e,t){const r=[],i=t||kne(n[0]),s=n.length-1;for(let o=0;o<s;o++){let a=i(n[o],n[o+1]);if(e){const l=Array.isArray(e)?e[o]||Fn:e;a=Ia(l,a)}r.push(a)}return r}function J5(n,e,{clamp:t=!0,ease:r,mixer:i}={}){const s=n.length;if(rx(s===e.length),s===1)return()=>e[0];n[0]>n[s-1]&&(n=[...n].reverse(),e=[...e].reverse());const o=One(e,r,i),a=o.length,l=c=>{let u=0;if(a>1)for(;u<n.length-2&&!(c<n[u+1]);u++);const f=sh(n[u],n[u+1],c);return o[u](f)};return t?c=>l(lc(n[0],n[s-1],c)):l}function K5(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const i=sh(0,e,r);n.push(_n(t,1,i))}}function Y5(n){const e=[0];return K5(e,n.length-1),e}function Fne(n,e){return n.map(t=>t*e)}function Nne(n,e){return n.map(()=>e||D5).splice(0,n.length-1)}function O1({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const i=B5(r)?r.map(rI):rI(r),s={done:!1,value:e[0]},o=Fne(t&&t.length===e.length?t:Y5(e),n),a=J5(o,e,{ease:Array.isArray(i)?i:Nne(e,i)});return{calculatedDuration:n,next:l=>(s.value=a(l),s.done=l>=n,s)}}function Q5(n,e){return e?n*(1e3/e):0}const Une=5;function q5(n,e,t){const r=Math.max(e-Une,0);return Q5(t-n(r),e-r)}const JS=.001,zne=.01,oI=10,Gne=.05,Hne=1;function Vne({duration:n=800,bounce:e=.25,velocity:t=0,mass:r=1}){let i,s;hne(n<=La(oI));let o=1-e;o=lc(Gne,Hne,o),n=lc(zne,oI,Xo(n)),o<1?(i=c=>{const u=c*o,f=u*n,d=u-t,m=gM(c,o),g=Math.exp(-f);return JS-d/m*g},s=c=>{const f=c*o*n,d=f*t+t,m=Math.pow(o,2)*Math.pow(c,2)*n,g=Math.exp(-f),v=gM(Math.pow(c,2),o);return(-i(c)+JS>0?-1:1)*((d-m)*g)/v}):(i=c=>{const u=Math.exp(-c*n),f=(c-t)*n+1;return-JS+u*f},s=c=>{const u=Math.exp(-c*n),f=(t-c)*(n*n);return u*f});const a=5/n,l=jne(i,s,a);if(n=La(n),isNaN(l))return{stiffness:100,damping:10,duration:n};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:n}}}const Wne=12;function jne(n,e,t){let r=t;for(let i=1;i<Wne;i++)r=r-n(r)/e(r);return r}function gM(n,e){return n*Math.sqrt(1-e*e)}const $ne=["duration","bounce"],Xne=["stiffness","damping","mass"];function aI(n,e){return e.some(t=>n[t]!==void 0)}function Jne(n){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...n};if(!aI(n,Xne)&&aI(n,$ne)){const t=Vne(n);e={...e,...t,velocity:0,mass:1},e.isResolvedFromDuration=!0}return e}function mE({keyframes:n,restDelta:e,restSpeed:t,...r}){const i=n[0],s=n[n.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:c,velocity:u,duration:f,isResolvedFromDuration:d}=Jne(r),m=u?-Xo(u):0,g=l/(2*Math.sqrt(a*c)),v=s-i,y=Xo(Math.sqrt(a/c)),x=Math.abs(v)<5;t||(t=x?.01:2),e||(e=x?.005:.5);let _;if(g<1){const w=gM(y,g);_=A=>{const C=Math.exp(-g*y*A);return s-C*((m+g*y*v)/w*Math.sin(w*A)+v*Math.cos(w*A))}}else if(g===1)_=w=>s-Math.exp(-y*w)*(v+(m+y*v)*w);else{const w=y*Math.sqrt(g*g-1);_=A=>{const C=Math.exp(-g*y*A),E=Math.min(w*A,300);return s-C*((m+g*y*v)*Math.sinh(E)+w*v*Math.cosh(E))/w}}return{calculatedDuration:d&&f||null,next:w=>{const A=_(w);if(d)o.done=w>=f;else{let C=m;w!==0&&(g<1?C=q5(_,w,A):C=0);const E=Math.abs(C)<=t,P=Math.abs(s-A)<=e;o.done=E&&P}return o.value=o.done?s:A,o}}}function lI({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const f=n[0],d={done:!1,value:f},m=b=>a!==void 0&&b<a||l!==void 0&&b>l,g=b=>a===void 0?l:l===void 0||Math.abs(a-b)<Math.abs(l-b)?a:l;let v=t*e;const y=f+v,x=o===void 0?y:o(y);x!==y&&(v=x-f);const _=b=>-v*Math.exp(-b/r),w=b=>x+_(b),A=b=>{const R=_(b),D=w(b);d.done=Math.abs(R)<=c,d.value=d.done?x:D};let C,E;const P=b=>{m(d.value)&&(C=b,E=mE({keyframes:[d.value,g(d.value)],velocity:q5(w,b,d.value),damping:i,stiffness:s,restDelta:c,restSpeed:u}))};return P(0),{calculatedDuration:null,next:b=>{let R=!1;return!E&&C===void 0&&(R=!0,A(b),P(b)),C!==void 0&&b>C?E.next(b-C):(!R&&A(b),d)}}}const Kne=n=>{const e=({timestamp:t})=>n(t);return{start:()=>ln.update(e,!0),stop:()=>Qo(e),now:()=>xr.isProcessing?xr.timestamp:performance.now()}},vM=2e4;function yM(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<vM;)e+=t,r=n.next(e);return e>=vM?1/0:e}const Yne={decay:lI,inertia:lI,tween:O1,keyframes:O1,spring:mE};function F1({autoplay:n=!0,delay:e=0,driver:t=Kne,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:c,onComplete:u,onUpdate:f,...d}){let m=1,g=!1,v,y;const x=()=>{y=new Promise(G=>{v=G})};x();let _;const w=Yne[i]||O1;let A;w!==O1&&typeof r[0]!="number"&&(A=J5([0,100],r,{clamp:!1}),r=[0,100]);const C=w({...d,keyframes:r});let E;a==="mirror"&&(E=w({...d,keyframes:[...r].reverse(),velocity:-(d.velocity||0)}));let P="idle",b=null,R=null,D=null;C.calculatedDuration===null&&s&&(C.calculatedDuration=yM(C));const{calculatedDuration:L}=C;let N=1/0,z=1/0;L!==null&&(N=L+o,z=N*(s+1)-o);let k=0;const V=G=>{if(R===null)return;m>0&&(R=Math.min(R,G)),m<0&&(R=Math.min(G-z/m,R)),b!==null?k=b:k=Math.round(G-R)*m;const X=k-e*(m>=0?1:-1),Z=m>=0?X<0:X>z;k=Math.max(X,0),P==="finished"&&b===null&&(k=z);let re=k,ie=C;if(s){const be=k/N;let ye=Math.floor(be),Se=be%1;!Se&&be>=1&&(Se=1),Se===1&&ye--,ye=Math.min(ye,s+1);const ne=!!(ye%2);ne&&(a==="reverse"?(Se=1-Se,o&&(Se-=o/N)):a==="mirror"&&(ie=E));let le=lc(0,1,Se);k>z&&(le=a==="reverse"&&ne?1:0),re=le*N}const Q=Z?{done:!1,value:r[0]}:ie.next(re);A&&(Q.value=A(Q.value));let{done:ue}=Q;!Z&&L!==null&&(ue=m>=0?k>=z:k<=0);const he=b===null&&(P==="finished"||P==="running"&&ue);return f&&f(Q.value),he&&O(),Q},W=()=>{_&&_.stop(),_=void 0},Y=()=>{P="idle",W(),v(),x(),R=D=null},O=()=>{P="finished",u&&u(),W(),v()},U=()=>{if(g)return;_||(_=t(V));const G=_.now();l&&l(),b!==null?R=G-b:(!R||P==="finished")&&(R=G),P==="finished"&&x(),D=R,b=null,P="running",_.start()};n&&U();const H={then(G,X){return y.then(G,X)},get time(){return Xo(k)},set time(G){G=La(G),k=G,b!==null||!_||m===0?b=G:R=_.now()-G/m},get duration(){const G=C.calculatedDuration===null?yM(C):C.calculatedDuration;return Xo(G)},get speed(){return m},set speed(G){G===m||!_||(m=G,H.time=Xo(k))},get state(){return P},play:U,pause:()=>{P="paused",b=k},stop:()=>{g=!0,P!=="idle"&&(P="idle",c&&c(),Y())},cancel:()=>{D!==null&&V(D),Y()},complete:()=>{P="finished"},sample:G=>(R=0,V(G))};return H}function Z5(n){let e;return()=>(e===void 0&&(e=n()),e)}const Qne=Z5(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),qne=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),uy=10,Zne=2e4,ere=(n,e)=>e.type==="spring"||n==="backgroundColor"||!E5(e.ease);function tre(n,e,{onUpdate:t,onComplete:r,...i}){if(!(Qne()&&qne.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,a,l;const c=()=>{l=new Promise(_=>{a=_})};c();let{keyframes:u,duration:f=300,ease:d,times:m}=i;if(ere(e,i)){const _=F1({...i,repeat:0,delay:0});let w={done:!1,value:u[0]};const A=[];let C=0;for(;!w.done&&C<Zne;)w=_.sample(C),A.push(w.value),C+=uy;m=void 0,u=A,f=C-uy,d="linear"}const g=mne(n.owner.current,e,u,{...i,duration:f,ease:d,times:m});i.syncStart&&(g.startTime=xr.isProcessing?xr.timestamp:document.timeline?document.timeline.currentTime:performance.now());const v=()=>g.cancel(),y=()=>{ln.update(v),a(),c()};return g.onfinish=()=>{n.set(gne(u,i)),r&&r(),y()},{then(_,w){return l.then(_,w)},attachTimeline(_){return g.timeline=_,g.onfinish=null,Fn},get time(){return Xo(g.currentTime||0)},set time(_){g.currentTime=La(_)},get speed(){return g.playbackRate},set speed(_){g.playbackRate=_},get duration(){return Xo(f)},play:()=>{o||(g.play(),Qo(v))},pause:()=>g.pause(),stop:()=>{if(o=!0,g.playState==="idle")return;const{currentTime:_}=g;if(_){const w=F1({...i,autoplay:!1});n.setWithVelocity(w.sample(_-uy).value,w.sample(_).value,uy)}y()},complete:()=>g.finish(),cancel:y}}function nre({keyframes:n,delay:e,onUpdate:t,onComplete:r}){const i=()=>(t&&t(n[n.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Fn,pause:Fn,stop:Fn,then:s=>(s(),Promise.resolve()),cancel:Fn,complete:Fn});return e?F1({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const rre={type:"spring",stiffness:500,damping:25,restSpeed:10},ire=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),sre={type:"keyframes",duration:.8},ore={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},are=(n,{keyframes:e})=>e.length>2?sre:lf.has(n)?n.startsWith("scale")?ire(e[1]):rre:ore,_M=(n,e)=>n==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(cc.test(e)||e==="0")&&!e.startsWith("url(")),lre=new Set(["brightness","contrast","saturate","opacity"]);function cre(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(ex)||[];if(!r)return n;const i=t.replace(r,"");let s=lre.has(e)?1:0;return r!==t&&(s*=100),e+"("+s+i+")"}const ure=/([a-z-]*)\(.*?\)/g,xM={...cc,getAnimatableNone:n=>{const e=n.match(ure);return e?e.map(cre).join(" "):n}},fre={...u5,color:ui,backgroundColor:ui,outlineColor:ui,fill:ui,stroke:ui,borderColor:ui,borderTopColor:ui,borderRightColor:ui,borderBottomColor:ui,borderLeftColor:ui,filter:xM,WebkitFilter:xM},gE=n=>fre[n];function ez(n,e){let t=gE(n);return t!==xM&&(t=cc),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const tz=n=>/^0[^.\s]+$/.test(n);function dre(n){if(typeof n=="number")return n===0;if(n!==null)return n==="none"||n==="0"||tz(n)}function hre(n,e,t,r){const i=_M(e,t);let s;Array.isArray(t)?s=[...t]:s=[null,t];const o=r.from!==void 0?r.from:n.get();let a;const l=[];for(let c=0;c<s.length;c++)s[c]===null&&(s[c]=c===0?o:s[c-1]),dre(s[c])&&l.push(c),typeof s[c]=="string"&&s[c]!=="none"&&s[c]!=="0"&&(a=s[c]);if(i&&l.length&&a)for(let c=0;c<l.length;c++){const u=l[c];s[u]=ez(e,a)}return s}function pre({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}function nz(n,e){return n[e]||n.default||n}const vE=(n,e,t,r={})=>i=>{const s=nz(r,n)||{},o=s.delay||r.delay||0;let{elapsed:a=0}=r;a=a-La(o);const l=hre(e,n,t,s),c=l[0],u=l[l.length-1],f=_M(n,c),d=_M(n,u);let m={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:g=>{e.set(g),s.onUpdate&&s.onUpdate(g)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(pre(s)||(m={...m,...are(n,m)}),m.duration&&(m.duration=La(m.duration)),m.repeatDelay&&(m.repeatDelay=La(m.repeatDelay)),!f||!d||pne.current||s.type===!1)return nre(m);if(e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const g=tre(e,n,m);if(g)return g}return F1(m)};function N1(n){return!!(Un(n)&&n.add)}const rz=n=>/^\-?\d*\.?\d+$/.test(n);function yE(n,e){n.indexOf(e)===-1&&n.push(e)}function ix(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class _E{constructor(){this.subscriptions=[]}add(e){return yE(this.subscriptions,e),()=>ix(this.subscriptions,e)}notify(e,t,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const mre=n=>!isNaN(parseFloat(n));class gre{constructor(e,t={}){this.version="10.16.4",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:o}=xr;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,ln.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>ln.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=mre(this.current),this.owner=t.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new _E);const r=this.events[e].add(t);return e==="change"?()=>{r(),ln.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Q5(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ku(n,e){return new gre(n,e)}const iz=n=>e=>e.test(n),vre={test:n=>n==="auto",parse:n=>n},sz=[cf,ft,$o,Cl,Rte,Pte,vre],Ip=n=>sz.find(iz(n)),yre=[...sz,ui,cc],_re=n=>yre.find(iz(n));function xre(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,Ku(t))}function wre(n,e){const t=nx(n,e);let{transitionEnd:r={},transition:i={},...s}=t?n.makeTargetAnimatable(t,!1):{};s={...s,...r};for(const o in s){const a=Hte(s[o]);xre(n,o,a)}}function oz(n,e,t){var r,i;const s=Object.keys(e).filter(a=>!n.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],c=e[l];let u=null;Array.isArray(c)&&(u=c[0]),u===null&&(u=(i=(r=t[l])!==null&&r!==void 0?r:n.readValue(l))!==null&&i!==void 0?i:e[l]),u!=null&&(typeof u=="string"&&(rz(u)||tz(u))?u=parseFloat(u):!_re(u)&&cc.test(c)&&(u=ez(l,c)),n.addValue(l,Ku(u,{owner:n})),t[l]===void 0&&(t[l]=u),u!==null&&n.setBaseTarget(l,u))}}function Sre(n,e){return e?(e[n]||e.default||e).from:void 0}function Are(n,e,t){const r={};for(const i in n){const s=Sre(i,e);if(s!==void 0)r[i]=s;else{const o=t.getValue(i);o&&(r[i]=o.get())}}return r}function bre({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function xE(n,e,{delay:t=0,transitionOverride:r,type:i}={}){let{transition:s=n.getDefaultTransition(),transitionEnd:o,...a}=n.makeTargetAnimatable(e);const l=n.getValue("willChange");r&&(s=r);const c=[],u=i&&n.animationState&&n.animationState.getState()[i];for(const f in a){const d=n.getValue(f),m=a[f];if(!d||m===void 0||u&&bre(u,f))continue;const g={delay:t,elapsed:0,...s};if(window.HandoffAppearAnimations&&!d.hasAnimated){const y=n.getProps()[dne];y&&(g.elapsed=window.HandoffAppearAnimations(y,f,d,ln),g.syncStart=!0)}d.start(vE(f,d,m,n.shouldReduceMotion&&lf.has(f)?{type:!1}:g));const v=d.animation;N1(l)&&(l.add(f),v.then(()=>l.remove(f))),c.push(v)}return o&&Promise.all(c).then(()=>{o&&wre(n,o)}),c}function wM(n,e,t={}){const r=nx(n,e,t.custom);let{transition:i=n.getDefaultTransition()||{}}=r||{};t.transitionOverride&&(i=t.transitionOverride);const s=r?()=>Promise.all(xE(n,r,t)):()=>Promise.resolve(),o=n.variantChildren&&n.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:u,staggerDirection:f}=i;return Mre(n,e,c+l,u,f,t)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,c]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>c())}else return Promise.all([s(),o(t.delay)])}function Mre(n,e,t=0,r=0,i=1,s){const o=[],a=(n.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(n.variantChildren).sort(Cre).forEach((c,u)=>{c.notify("AnimationStart",e),o.push(wM(c,e,{...s,delay:t+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function Cre(n,e){return n.sortNodePosition(e)}function Ere(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>wM(n,s,t));r=Promise.all(i)}else if(typeof e=="string")r=wM(n,e,t);else{const i=typeof e=="function"?nx(n,e,t.custom):e;r=Promise.all(xE(n,i,t))}return r.then(()=>n.notify("AnimationComplete",e))}const Tre=[...ZC].reverse(),Pre=ZC.length;function Rre(n){return e=>Promise.all(e.map(({animation:t,options:r})=>Ere(n,t,r)))}function Dre(n){let e=Rre(n);const t=Ire();let r=!0;const i=(l,c)=>{const u=nx(n,c);if(u){const{transition:f,transitionEnd:d,...m}=u;l={...l,...m,...d}}return l};function s(l){e=l(n)}function o(l,c){const u=n.getProps(),f=n.getVariantContext(!0)||{},d=[],m=new Set;let g={},v=1/0;for(let x=0;x<Pre;x++){const _=Tre[x],w=t[_],A=u[_]!==void 0?u[_]:f[_],C=rg(A),E=_===c?w.isActive:null;E===!1&&(v=x);let P=A===f[_]&&A!==u[_]&&C;if(P&&r&&n.manuallyAnimateOnMount&&(P=!1),w.protectedKeys={...g},!w.isActive&&E===null||!A&&!w.prevProp||q_(A)||typeof A=="boolean")continue;const b=Bre(w.prevProp,A);let R=b||_===c&&w.isActive&&!P&&C||x>v&&C;const D=Array.isArray(A)?A:[A];let L=D.reduce(i,{});E===!1&&(L={});const{prevResolvedValues:N={}}=w,z={...N,...L},k=V=>{R=!0,m.delete(V),w.needsAnimating[V]=!0};for(const V in z){const W=L[V],Y=N[V];g.hasOwnProperty(V)||(W!==Y?L1(W)&&L1(Y)?!M5(W,Y)||b?k(V):w.protectedKeys[V]=!0:W!==void 0?k(V):m.add(V):W!==void 0&&m.has(V)?k(V):w.protectedKeys[V]=!0)}w.prevProp=A,w.prevResolvedValues=L,w.isActive&&(g={...g,...L}),r&&n.blockInitialAnimation&&(R=!1),R&&!P&&d.push(...D.map(V=>({animation:V,options:{type:_,...l}})))}if(m.size){const x={};m.forEach(_=>{const w=n.getBaseTarget(_);w!==void 0&&(x[_]=w)}),d.push({animation:x})}let y=!!d.length;return r&&u.initial===!1&&!n.manuallyAnimateOnMount&&(y=!1),r=!1,y?e(d):Promise.resolve()}function a(l,c,u){var f;if(t[l].isActive===c)return Promise.resolve();(f=n.variantChildren)===null||f===void 0||f.forEach(m=>{var g;return(g=m.animationState)===null||g===void 0?void 0:g.setActive(l,c)}),t[l].isActive=c;const d=o(u,l);for(const m in t)t[m].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>t}}function Bre(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!M5(e,n):!1}function qc(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Ire(){return{animate:qc(!0),whileInView:qc(),whileHover:qc(),whileTap:qc(),whileDrag:qc(),whileFocus:qc(),exit:qc()}}class Lre extends Ac{constructor(e){super(e),e.animationState||(e.animationState=Dre(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),q_(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}let kre=0;class Ore extends Ac{constructor(){super(...arguments),this.id=kre++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});t&&!e&&s.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const az={animation:{Feature:Lre},exit:{Feature:Ore}},cI=(n,e)=>Math.abs(n-e);function Fre(n,e){const t=cI(n.x,e.x),r=cI(n.y,e.y);return Math.sqrt(t**2+r**2)}class lz{constructor(e,t,{transformPagePoint:r}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const c=YS(this.lastMoveEventInfo,this.history),u=this.startEvent!==null,f=Fre(c.offset,{x:0,y:0})>=3;if(!u&&!f)return;const{point:d}=c,{timestamp:m}=xr;this.history.push({...d,timestamp:m});const{onStart:g,onMove:v}=this.handlers;u||(g&&g(this.lastMoveEvent,c),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,c)},this.handlePointerMove=(c,u)=>{this.lastMoveEvent=c,this.lastMoveEventInfo=KS(u,this.transformPagePoint),ln.update(this.updatePoint,!0)},this.handlePointerUp=(c,u)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:f,onSessionEnd:d}=this.handlers,m=YS(c.type==="pointercancel"?this.lastMoveEventInfo:KS(u,this.transformPagePoint),this.history);this.startEvent&&f&&f(c,m),d&&d(c,m)},!x5(e))return;this.handlers=t,this.transformPagePoint=r;const i=tx(e),s=KS(i,this.transformPagePoint),{point:o}=s,{timestamp:a}=xr;this.history=[{...o,timestamp:a}];const{onSessionStart:l}=t;l&&l(e,YS(s,this.history)),this.removeListeners=Ia(yo(window,"pointermove",this.handlePointerMove),yo(window,"pointerup",this.handlePointerUp),yo(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Qo(this.updatePoint)}}function KS(n,e){return e?{point:e(n.point)}:n}function uI(n,e){return{x:n.x-e.x,y:n.y-e.y}}function YS({point:n},e){return{point:n,delta:uI(n,cz(e)),offset:uI(n,Nre(e)),velocity:Ure(e,.1)}}function Nre(n){return n[0]}function cz(n){return n[n.length-1]}function Ure(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const i=cz(n);for(;t>=0&&(r=n[t],!(i.timestamp-r.timestamp>La(e)));)t--;if(!r)return{x:0,y:0};const s=Xo(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function cs(n){return n.max-n.min}function SM(n,e=0,t=.01){return Math.abs(n-e)<=t}function fI(n,e,t,r=.5){n.origin=r,n.originPoint=_n(e.min,e.max,n.origin),n.scale=cs(t)/cs(e),(SM(n.scale,1,1e-4)||isNaN(n.scale))&&(n.scale=1),n.translate=_n(t.min,t.max,n.origin)-n.originPoint,(SM(n.translate)||isNaN(n.translate))&&(n.translate=0)}function vm(n,e,t,r){fI(n.x,e.x,t.x,r?r.originX:void 0),fI(n.y,e.y,t.y,r?r.originY:void 0)}function dI(n,e,t){n.min=t.min+e.min,n.max=n.min+cs(e)}function zre(n,e,t){dI(n.x,e.x,t.x),dI(n.y,e.y,t.y)}function hI(n,e,t){n.min=e.min-t.min,n.max=n.min+cs(e)}function ym(n,e,t){hI(n.x,e.x,t.x),hI(n.y,e.y,t.y)}function Gre(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?_n(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?_n(t,n,r.max):Math.min(n,t)),n}function pI(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function Hre(n,{top:e,left:t,bottom:r,right:i}){return{x:pI(n.x,t,i),y:pI(n.y,e,r)}}function mI(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function Vre(n,e){return{x:mI(n.x,e.x),y:mI(n.y,e.y)}}function Wre(n,e){let t=.5;const r=cs(n),i=cs(e);return i>r?t=sh(e.min,e.max-r,n.min):r>i&&(t=sh(n.min,n.max-i,e.min)),lc(0,1,t)}function jre(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const AM=.35;function $re(n=AM){return n===!1?n=0:n===!0&&(n=AM),{x:gI(n,"left","right"),y:gI(n,"top","bottom")}}function gI(n,e,t){return{min:vI(n,e),max:vI(n,t)}}function vI(n,e){return typeof n=="number"?n:n[e]||0}const yI=()=>({translate:0,scale:1,origin:0,originPoint:0}),Cd=()=>({x:yI(),y:yI()}),_I=()=>({min:0,max:0}),$n=()=>({x:_I(),y:_I()});function No(n){return[n("x"),n("y")]}function uz({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function Xre({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function Jre(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function QS(n){return n===void 0||n===1}function bM({scale:n,scaleX:e,scaleY:t}){return!QS(n)||!QS(e)||!QS(t)}function iu(n){return bM(n)||fz(n)||n.z||n.rotate||n.rotateX||n.rotateY}function fz(n){return xI(n.x)||xI(n.y)}function xI(n){return n&&n!=="0%"}function U1(n,e,t){const r=n-t,i=e*r;return t+i}function wI(n,e,t,r,i){return i!==void 0&&(n=U1(n,i,r)),U1(n,t,r)+e}function MM(n,e=0,t=1,r,i){n.min=wI(n.min,e,t,r,i),n.max=wI(n.max,e,t,r,i)}function dz(n,{x:e,y:t}){MM(n.x,e.translate,e.scale,e.originPoint),MM(n.y,t.translate,t.scale,t.originPoint)}function Kre(n,e,t,r=!1){const i=t.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=t[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Ed(n,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,dz(n,o)),r&&iu(s.latestValues)&&Ed(n,s.latestValues))}e.x=SI(e.x),e.y=SI(e.y)}function SI(n){return Number.isInteger(n)||n>1.0000000000001||n<.999999999999?n:1}function Bl(n,e){n.min=n.min+e,n.max=n.max+e}function AI(n,e,[t,r,i]){const s=e[i]!==void 0?e[i]:.5,o=_n(n.min,n.max,s);MM(n,e[t],e[r],o,e.scale)}const Yre=["x","scaleX","originX"],Qre=["y","scaleY","originY"];function Ed(n,e){AI(n.x,e,Yre),AI(n.y,e,Qre)}function hz(n,e){return uz(Jre(n.getBoundingClientRect(),e))}function qre(n,e,t){const r=hz(n,t),{scroll:i}=e;return i&&(Bl(r.x,i.offset.x),Bl(r.y,i.offset.y)),r}const Zre=new WeakMap;class eie{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=$n(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=l=>{this.stopAnimation(),t&&this.snapToCursor(tx(l,"page").point)},s=(l,c)=>{const{drag:u,dragPropagation:f,onDragStart:d}=this.getProps();if(u&&!f&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=A5(u),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),No(g=>{let v=this.getAxisMotionValue(g).get()||0;if($o.test(v)){const{projection:y}=this.visualElement;if(y&&y.layout){const x=y.layout.layoutBox[g];x&&(v=cs(x)*(parseFloat(v)/100))}}this.originPoint[g]=v}),d&&ln.update(()=>d(l,c),!1,!0);const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},o=(l,c)=>{const{dragPropagation:u,dragDirectionLock:f,onDirectionLock:d,onDrag:m}=this.getProps();if(!u&&!this.openGlobalLock)return;const{offset:g}=c;if(f&&this.currentDirection===null){this.currentDirection=tie(g),this.currentDirection!==null&&d&&d(this.currentDirection);return}this.updateAxis("x",c.point,g),this.updateAxis("y",c.point,g),this.visualElement.render(),m&&m(l,c)},a=(l,c)=>this.stop(l,c);this.panSession=new lz(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=t;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&ln.update(()=>s(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:i}=this.getProps();if(!r||!fy(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=Gre(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),{layout:r}=this.visualElement.projection||{},i=this.constraints;e&&bd(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=Hre(r.layoutBox,e):this.constraints=!1,this.elastic=$re(t),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&No(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=jre(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!bd(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=qre(r,i.root,this.visualElement.getTransformPagePoint());let o=Vre(i.layout.layoutBox,s);if(t){const a=t(Xre(o));this.hasMutatedConstraints=!!a,a&&(o=uz(a))}return o}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=No(u=>{if(!fy(u,t,this.currentDirection))return;let f=l&&l[u]||{};o&&(f={min:0,max:0});const d=i?200:1e6,m=i?40:1e7,g={type:"inertia",velocity:r?e[u]:0,bounceStiffness:d,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(u,g)});return Promise.all(c).then(a)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return r.start(vE(e,r,0,t))}stopAnimation(){No(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[t];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){No(t=>{const{drag:r}=this.getProps();if(!fy(t,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(t);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[t];s.set(e[t]-_n(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!bd(t)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};No(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();i[o]=Wre({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),No(o=>{if(!fy(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(_n(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;Zre.set(this.visualElement,this);const e=this.visualElement.current,t=yo(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();bd(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=Ra(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(No(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=l[u].translate,f.set(f.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),t(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=AM,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function fy(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function tie(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class nie extends Ac{constructor(e){super(e),this.removeGroupControls=Fn,this.removeListeners=Fn,this.controls=new eie(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Fn}unmount(){this.removeGroupControls(),this.removeListeners()}}const bI=n=>(e,t)=>{n&&ln.update(()=>n(e,t))};class rie extends Ac{constructor(){super(...arguments),this.removePointerDownListener=Fn}onPointerDown(e){this.session=new lz(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:bI(e),onStart:bI(t),onMove:r,onEnd:(s,o)=>{delete this.session,i&&ln.update(()=>i(s,o))}}}mount(){this.removePointerDownListener=yo(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function iie(){const n=B.useContext(qC);if(n===null)return[!0,null];const{isPresent:e,onExitComplete:t,register:r}=n,i=B.useId();return B.useEffect(()=>r(i),[]),!e&&t?[!1,()=>t&&t(i)]:[!0]}const Jy={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function MI(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Lp={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(ft.test(n))n=parseFloat(n);else return n;const t=MI(n,e.target.x),r=MI(n,e.target.y);return`${t}% ${r}%`}},sie={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,i=cc.parse(n);if(i.length>5)return r;const s=cc.createTransformer(n),o=typeof i[0]!="number"?1:0,a=t.x.scale*e.x,l=t.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=_n(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}};class oie extends ee.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;Ste(aie),s&&(t.group&&t.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Jy.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==t||t===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||ln.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function pz(n){const[e,t]=iie(),r=B.useContext(r5);return ee.createElement(oie,{...n,layoutGroup:r,switchLayoutGroup:B.useContext(i5),isPresent:e,safeToRemove:t})}const aie={borderRadius:{...Lp,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Lp,borderTopRightRadius:Lp,borderBottomLeftRadius:Lp,borderBottomRightRadius:Lp,boxShadow:sie},mz=["TopLeft","TopRight","BottomLeft","BottomRight"],lie=mz.length,CI=n=>typeof n=="string"?parseFloat(n):n,EI=n=>typeof n=="number"||ft.test(n);function cie(n,e,t,r,i,s){i?(n.opacity=_n(0,t.opacity!==void 0?t.opacity:1,uie(r)),n.opacityExit=_n(e.opacity!==void 0?e.opacity:1,0,fie(r))):s&&(n.opacity=_n(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,r));for(let o=0;o<lie;o++){const a=`border${mz[o]}Radius`;let l=TI(e,a),c=TI(t,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||EI(l)===EI(c)?(n[a]=Math.max(_n(CI(l),CI(c),r),0),($o.test(c)||$o.test(l))&&(n[a]+="%")):n[a]=c}(e.rotate||t.rotate)&&(n.rotate=_n(e.rotate||0,t.rotate||0,r))}function TI(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const uie=gz(0,.5,dE),fie=gz(.5,.95,Fn);function gz(n,e,t){return r=>r<n?0:r>e?1:t(sh(n,e,r))}function PI(n,e){n.min=e.min,n.max=e.max}function Ts(n,e){PI(n.x,e.x),PI(n.y,e.y)}function RI(n,e,t,r,i){return n-=e,n=U1(n,1/t,r),i!==void 0&&(n=U1(n,1/i,r)),n}function die(n,e=0,t=1,r=.5,i,s=n,o=n){if($o.test(e)&&(e=parseFloat(e),e=_n(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=_n(s.min,s.max,r);n===s&&(a-=e),n.min=RI(n.min,e,t,a,i),n.max=RI(n.max,e,t,a,i)}function DI(n,e,[t,r,i],s,o){die(n,e[t],e[r],e[i],e.scale,s,o)}const hie=["x","scaleX","originX"],pie=["y","scaleY","originY"];function BI(n,e,t,r){DI(n.x,e,hie,t?t.x:void 0,r?r.x:void 0),DI(n.y,e,pie,t?t.y:void 0,r?r.y:void 0)}function II(n){return n.translate===0&&n.scale===1}function vz(n){return II(n.x)&&II(n.y)}function mie(n,e){return n.x.min===e.x.min&&n.x.max===e.x.max&&n.y.min===e.y.min&&n.y.max===e.y.max}function yz(n,e){return Math.round(n.x.min)===Math.round(e.x.min)&&Math.round(n.x.max)===Math.round(e.x.max)&&Math.round(n.y.min)===Math.round(e.y.min)&&Math.round(n.y.max)===Math.round(e.y.max)}function LI(n){return cs(n.x)/cs(n.y)}class gie{constructor(){this.members=[]}add(e){yE(this.members,e),e.scheduleRender()}remove(e){if(ix(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let r;for(let i=t;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function kI(n,e,t){let r="";const i=n.x.translate/e.x,s=n.y.translate/e.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{rotate:l,rotateX:c,rotateY:u}=t;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),u&&(r+=`rotateY(${u}deg) `)}const o=n.x.scale*e.x,a=n.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const vie=(n,e)=>n.depth-e.depth;class yie{constructor(){this.children=[],this.isDirty=!1}add(e){yE(this.children,e),this.isDirty=!0}remove(e){ix(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(vie),this.isDirty=!1,this.children.forEach(e)}}function _ie(n,e){const t=performance.now(),r=({timestamp:i})=>{const s=i-t;s>=e&&(Qo(r),n(s-e))};return ln.read(r,!0),()=>Qo(r)}function xie(n){window.MotionDebug&&window.MotionDebug.record(n)}function _z(n){return n instanceof SVGElement&&n.tagName!=="svg"}function wE(n,e,t){const r=Un(n)?n:Ku(n);return r.start(vE("",r,e,t)),r.animation}const OI=["","X","Y","Z"],FI=1e3;let wie=0;const su={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function xz({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=wie++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{su.totalNodes=su.resolvedTargetDeltas=su.recalculatedProjection=0,this.nodes.forEach(bie),this.nodes.forEach(Pie),this.nodes.forEach(Rie),this.nodes.forEach(Mie),xie(su)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new yie)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new _E),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=_z(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),n){let f;const d=()=>this.root.updateBlockedByResize=!1;n(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=_ie(d,250),Jy.hasAnimatedSinceResize&&(Jy.hasAnimatedSinceResize=!1,this.nodes.forEach(UI))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:d,hasRelativeTargetChanged:m,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||kie,{onLayoutAnimationStart:y,onLayoutAnimationComplete:x}=u.getProps(),_=!this.targetLayout||!yz(this.targetLayout,g)||m,w=!d&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||d&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,w);const A={...nz(v,"layout"),onPlay:y,onComplete:x};(u.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A)}else d||UI(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Qo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Die),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(NI);return}this.isUpdating||this.nodes.forEach(Eie),this.isUpdating=!1,this.nodes.forEach(Tie),this.nodes.forEach(Sie),this.nodes.forEach(Aie),this.clearAllSnapshots();const a=performance.now();xr.delta=lc(0,1e3/60,a-xr.timestamp),xr.timestamp=a,xr.isProcessing=!0,GS.update.process(xr),GS.preRender.process(xr),GS.render.process(xr),xr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(Cie),this.sharedNodes.forEach(Bie)}scheduleUpdateProjection(){ln.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){ln.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=$n(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:t(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!vz(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&(a||iu(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),Oie(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return $n();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(Bl(a.x,l.offset.x),Bl(a.y,l.offset.y)),a}removeElementScroll(o){const a=$n();Ts(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:u,options:f}=c;if(c!==this.root&&u&&f.layoutScroll){if(u.isRoot){Ts(a,o);const{scroll:d}=this.root;d&&(Bl(a.x,-d.offset.x),Bl(a.y,-d.offset.y))}Bl(a.x,u.offset.x),Bl(a.y,u.offset.y)}}return a}applyTransform(o,a=!1){const l=$n();Ts(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Ed(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),iu(u.latestValues)&&Ed(l,u.latestValues)}return iu(this.latestValues)&&Ed(l,this.latestValues),l}removeTransform(o){const a=$n();Ts(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!iu(c.latestValues))continue;bM(c.latestValues)&&c.updateSnapshot();const u=$n(),f=c.measurePageBox();Ts(u,f),BI(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return iu(this.latestValues)&&BI(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==xr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:d}=this.options;if(!(!this.layout||!(f||d))){if(this.resolvedRelativeTargetAt=xr.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$n(),this.relativeTargetOrigin=$n(),ym(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Ts(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=$n(),this.targetWithTransforms=$n()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),zre(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ts(this.target,this.layout.layoutBox),dz(this.target,this.targetDelta)):Ts(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$n(),this.relativeTargetOrigin=$n(),ym(this.relativeTargetOrigin,this.target,m.target),Ts(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}su.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||bM(this.parent.latestValues)||fz(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===xr.timestamp&&(c=!1),c)return;const{layout:u,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||f))return;Ts(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,m=this.treeScale.y;Kre(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:g}=a;if(!g){this.projectionTransform&&(this.projectionDelta=Cd(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Cd(),this.projectionDeltaWithTransform=Cd());const v=this.projectionTransform;vm(this.projectionDelta,this.layoutCorrected,g,this.latestValues),this.projectionTransform=kI(this.projectionDelta,this.treeScale),(this.projectionTransform!==v||this.treeScale.x!==d||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),su.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},f=Cd();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const d=$n(),m=l?l.source:void 0,g=this.layout?this.layout.source:void 0,v=m!==g,y=this.getStack(),x=!y||y.members.length<=1,_=!!(v&&!x&&this.options.crossfade===!0&&!this.path.some(Lie));this.animationProgress=0;let w;this.mixTargetDelta=A=>{const C=A/1e3;zI(f.x,o.x,C),zI(f.y,o.y,C),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ym(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Iie(this.relativeTarget,this.relativeTargetOrigin,d,C),w&&mie(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=$n()),Ts(w,this.relativeTarget)),v&&(this.animationValues=u,cie(u,c,this.latestValues,C,_,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Qo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ln.update(()=>{Jy.hasAnimatedSinceResize=!0,this.currentAnimation=wE(0,FI,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(FI),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&wz(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||$n();const f=cs(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const d=cs(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+d}Ts(a,l),Ed(a,u),vm(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new gie),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let u=0;u<OI.length;u++){const f="rotate"+OI[u];l[f]&&(c[f]=l[f],o.setStaticValue(f,0))}o.render();for(const u in c)o.setStaticValue(u,c[u]);o.scheduleRender()}getProjectionStyles(o={}){var a,l;const c={};if(!this.instance||this.isSVG)return c;if(this.isVisible)c.visibility="";else return{visibility:"hidden"};const u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=gm(o.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=gm(o.pointerEvents)||""),this.hasProjected&&!iu(this.latestValues)&&(v.transform=u?u({},""):"none",this.hasProjected=!1),v}const d=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=kI(this.projectionDeltaWithTransform,this.treeScale,d),u&&(c.transform=u(d,c.transform));const{x:m,y:g}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${g.origin*100}% 0`,f.animationValues?c.opacity=f===this?(l=(a=d.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:c.opacity=f===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const v in B1){if(d[v]===void 0)continue;const{correct:y,applyTo:x}=B1[v],_=c.transform==="none"?d[v]:y(d[v],f);if(x){const w=x.length;for(let A=0;A<w;A++)c[x[A]]=_}else c[v]=_}return this.options.layoutId&&(c.pointerEvents=f===this?gm(o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(NI),this.root.sharedNodes.clear()}}}function Sie(n){n.updateLayout()}function Aie(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=n.layout,{animationType:s}=n.options,o=t.source!==n.layout.source;s==="size"?No(f=>{const d=o?t.measuredBox[f]:t.layoutBox[f],m=cs(d);d.min=r[f].min,d.max=d.min+m}):wz(s,t.layoutBox,r)&&No(f=>{const d=o?t.measuredBox[f]:t.layoutBox[f],m=cs(r[f]);d.max=d.min+m,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[f].max=n.relativeTarget[f].min+m)});const a=Cd();vm(a,r,t.layoutBox);const l=Cd();o?vm(l,n.applyTransform(i,!0),t.measuredBox):vm(l,r,t.layoutBox);const c=!vz(a);let u=!1;if(!n.resumeFrom){const f=n.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:d,layout:m}=f;if(d&&m){const g=$n();ym(g,t.layoutBox,d.layoutBox);const v=$n();ym(v,r,m.layoutBox),yz(g,v)||(u=!0),f.options.layoutRoot&&(n.relativeTarget=v,n.relativeTargetOrigin=g,n.relativeParent=f)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function bie(n){su.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function Mie(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function Cie(n){n.clearSnapshot()}function NI(n){n.clearMeasurements()}function Eie(n){n.isLayoutDirty=!1}function Tie(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function UI(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function Pie(n){n.resolveTargetDelta()}function Rie(n){n.calcProjection()}function Die(n){n.resetRotation()}function Bie(n){n.removeLeadSnapshot()}function zI(n,e,t){n.translate=_n(e.translate,0,t),n.scale=_n(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function GI(n,e,t,r){n.min=_n(e.min,t.min,r),n.max=_n(e.max,t.max,r)}function Iie(n,e,t,r){GI(n.x,e.x,t.x,r),GI(n.y,e.y,t.y,r)}function Lie(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const kie={duration:.45,ease:[.4,0,.1,1]},HI=n=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(n),VI=HI("applewebkit/")&&!HI("chrome/")?Math.round:Fn;function WI(n){n.min=VI(n.min),n.max=VI(n.max)}function Oie(n){WI(n.x),WI(n.y)}function wz(n,e,t){return n==="position"||n==="preserve-aspect"&&!SM(LI(e),LI(t),.2)}const Fie=xz({attachResizeListener:(n,e)=>Ra(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),qS={current:void 0},Sz=xz({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!qS.current){const n=new Fie({});n.mount(window),n.setOptions({layoutScroll:!0}),qS.current=n}return qS.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),Nie={pan:{Feature:rie},drag:{Feature:nie,ProjectionNode:Sz,MeasureLayout:pz}},Uie=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function zie(n){const e=Uie.exec(n);if(!e)return[,];const[,t,r]=e;return[t,r]}function CM(n,e,t=1){const[r,i]=zie(n);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return rz(o)?parseFloat(o):o}else return hM(i)?CM(i,e,t+1):i}function Gie(n,{...e},t){const r=n.current;if(!(r instanceof Element))return{target:e,transitionEnd:t};t&&(t={...t}),n.values.forEach(i=>{const s=i.get();if(!hM(s))return;const o=CM(s,r);o&&i.set(o)});for(const i in e){const s=e[i];if(!hM(s))continue;const o=CM(s,r);o&&(e[i]=o,t||(t={}),t[i]===void 0&&(t[i]=s))}return{target:e,transitionEnd:t}}const Hie=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Az=n=>Hie.has(n),Vie=n=>Object.keys(n).some(Az),jI=n=>n===cf||n===ft,$I=(n,e)=>parseFloat(n.split(", ")[e]),XI=(n,e)=>(t,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return $I(i[1],e);{const s=r.match(/^matrix\((.+)\)$/);return s?$I(s[1],n):0}},Wie=new Set(["x","y","z"]),jie=Qg.filter(n=>!Wie.has(n));function $ie(n){const e=[];return jie.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e.length&&n.render(),e}const oh={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:XI(4,13),y:XI(5,14)};oh.translateX=oh.x;oh.translateY=oh.y;const Xie=(n,e,t)=>{const r=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",n.display||"block"),t.forEach(c=>{a[c]=oh[c](r,s)}),e.render();const l=e.measureViewportBox();return t.forEach(c=>{const u=e.getValue(c);u&&u.jump(a[c]),n[c]=oh[c](l,s)}),n},Jie=(n,e,t={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(Az);let s=[],o=!1;const a=[];if(i.forEach(l=>{const c=n.getValue(l);if(!n.hasValue(l))return;let u=t[l],f=Ip(u);const d=e[l];let m;if(L1(d)){const g=d.length,v=d[0]===null?1:0;u=d[v],f=Ip(u);for(let y=v;y<g&&d[y]!==null;y++)m?rx(Ip(d[y])===m):m=Ip(d[y])}else m=Ip(d);if(f!==m)if(jI(f)&&jI(m)){const g=c.get();typeof g=="string"&&c.set(parseFloat(g)),typeof d=="string"?e[l]=parseFloat(d):Array.isArray(d)&&m===ft&&(e[l]=d.map(parseFloat))}else f!=null&&f.transform&&(m!=null&&m.transform)&&(u===0||d===0)?u===0?c.set(m.transform(u)):e[l]=f.transform(d):(o||(s=$ie(n),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],c.jump(d))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=Xie(e,n,a);return s.length&&s.forEach(([u,f])=>{n.getValue(u).set(f)}),n.render(),Q_&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:e,transitionEnd:r}};function Kie(n,e,t,r){return Vie(e)?Jie(n,e,t,r):{target:e,transitionEnd:r}}const Yie=(n,e,t,r)=>{const i=Gie(n,e,r);return e=i.target,r=i.transitionEnd,Kie(n,e,t,r)},EM={current:null},bz={current:!1};function Qie(){if(bz.current=!0,!!Q_)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>EM.current=n.matches;n.addListener(e),e()}else EM.current=!1}function qie(n,e,t){const{willChange:r}=e;for(const i in e){const s=e[i],o=t[i];if(Un(s))n.addValue(i,s),N1(r)&&r.add(i);else if(Un(o))n.addValue(i,Ku(s,{owner:n})),N1(r)&&r.remove(i);else if(o!==s)if(n.hasValue(i)){const a=n.getValue(i);!a.hasAnimated&&a.set(s)}else{const a=n.getStaticValue(i);n.addValue(i,Ku(a!==void 0?a:s,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const sg=new WeakMap,Mz=Object.keys(ig),Zie=Mz.length,JI=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],ese=eE.length;class Cz{constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>ln.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=t.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=Z_(t),this.isVariantNode=n5(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(t,{});for(const f in u){const d=u[f];a[f]!==void 0&&Un(d)&&(d.set(a[f],!1),N1(c)&&c.add(f))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,sg.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),bz.current||Qie(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:EM.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){sg.delete(this.current),this.projection&&this.projection.unmount(),Qo(this.notifyUpdate),Qo(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const r=lf.has(e),i=t.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&ln.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...t},r,i,s){let o,a;for(let l=0;l<Zie;l++){const c=Mz[l],{isEnabled:u,Feature:f,ProjectionNode:d,MeasureLayout:m}=ig[c];d&&(o=d),u(t)&&(!this.features[c]&&f&&(this.features[c]=new f(this)),m&&(a=m))}if(!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:u,dragConstraints:f,layoutScroll:d,layoutRoot:m}=t;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!u||f&&bd(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:s,layoutScroll:d,layoutRoot:m})}return a}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):$n()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e,t=!0){return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<JI.length;r++){const i=JI[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=qie(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const t={};for(let r=0;r<ese;r++){const i=eE[r],s=this.props[i];(rg(s)||s===!1)&&(t[i]=s)}return t}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=Ku(t,{owner:this}),this.addValue(e,r)),r}readValue(e){var t;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(t=this.getBaseTargetFromProps(this.props,e))!==null&&t!==void 0?t:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(t=lE(this.props,r))===null||t===void 0?void 0:t[e]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Un(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new _E),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class Ez extends Cz{sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:t,...r},{transformValues:i},s){let o=Are(r,e||{},this);if(i&&(t&&(t=i(t)),r&&(r=i(r)),o&&(o=i(o))),s){oz(this,r,o);const a=Yie(this,r,o,t);t=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:t,...r}}}function tse(n){return window.getComputedStyle(n)}class Tz extends Ez{readValueFromInstance(e,t){if(lf.has(t)){const r=gE(t);return r&&r.default||0}else{const r=tse(e),i=(l5(t)?r.getPropertyValue(t):r[t])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return hz(e,t)}build(e,t,r,i){nE(e,t,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,t){return aE(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Un(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}renderInstance(e,t,r,i){g5(e,t,r,i)}}class Pz extends Ez{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(lf.has(t)){const r=gE(t);return r&&r.default||0}return t=v5.has(t)?t:oE(t),e.getAttribute(t)}measureInstanceViewportBox(){return $n()}scrapeMotionValuesFromProps(e,t){return _5(e,t)}build(e,t,r,i){iE(e,t,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,t,r,i){y5(e,t,r,i)}mount(e){this.isSVGTag=sE(e.tagName),super.mount(e)}}const nse=(n,e)=>tE(n)?new Pz(e,{enableHardwareAcceleration:!1}):new Tz(e,{enableHardwareAcceleration:!0}),rse={layout:{ProjectionNode:Sz,MeasureLayout:pz}},ise={...az,...lne,...Nie,...rse},kl=xte((n,e)=>Yte(n,e,ise,nse));function sse({children:n,isValidProp:e,...t}){e&&h5(e),t={...B.useContext(ng),...t},t.isStatic=cE(()=>t.isStatic);const r=B.useMemo(()=>t,[JSON.stringify(t.transition),t.transformPagePoint,t.reducedMotion]);return B.createElement(ng.Provider,{value:r},n)}function og(n){const e=cE(()=>Ku(n)),{isStatic:t}=B.useContext(ng);if(t){const[,r]=B.useState(n);B.useEffect(()=>e.on("change",r),[])}return e}function Rz(n,e,t){var r;if(typeof n=="string"){let i=document;e&&(rx(!!e.current),i=e.current),t?((r=t[n])!==null&&r!==void 0||(t[n]=i.querySelectorAll(n)),n=t[n]):n=i.querySelectorAll(n)}else n instanceof Element&&(n=[n]);return Array.from(n||[])}function ose(n,e){let t;const r=()=>{const{currentTime:i}=e,o=(i===null?0:i.value)/100;t!==o&&n(o),t=o};return ln.update(r,!0),()=>Qo(r)}const ase=Z5(()=>window.ScrollTimeline!==void 0);class Dz{constructor(e){this.animations=e.filter(Boolean)}then(e,t){return Promise.all(this.animations).then(e).catch(t)}getAll(e){return this.animations[0][e]}setAll(e,t){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=t}attachTimeline(e){const t=this.animations.map(r=>{if(ase()&&r.attachTimeline)r.attachTimeline(e);else return r.pause(),ose(i=>{r.time=r.duration*i},e)});return()=>{t.forEach((r,i)=>{r&&r(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}stop(){this.runAll("stop")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function lse(n){return typeof n=="object"&&!Array.isArray(n)}function cse(n){const e={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},t=_z(n)?new Pz(e,{enableHardwareAcceleration:!1}):new Tz(e,{enableHardwareAcceleration:!0});t.mount(n),sg.set(n,t)}function use(n,e=100){const t=mE({keyframes:[0,e],...n}),r=Math.min(yM(t),vM);return{type:"keyframes",ease:i=>t.next(r*i).value/e,duration:Xo(r)}}function KI(n,e,t,r){var i;return typeof e=="number"?e:e.startsWith("-")||e.startsWith("+")?Math.max(0,n+parseFloat(e)):e==="<"?t:(i=r.get(e))!==null&&i!==void 0?i:n}const fse=(n,e,t)=>{const r=e-n;return((t-n)%r+r)%r+n};function dse(n,e){return B5(n)?n[fse(0,n.length,e)]:n}function hse(n,e,t){for(let r=0;r<n.length;r++){const i=n[r];i.at>e&&i.at<t&&(ix(n,i),r--)}}function pse(n,e,t,r,i,s){hse(n,i,s);for(let o=0;o<e.length;o++)n.push({value:e[o],at:_n(i,s,r[o]),easing:dse(t,o)})}function mse(n,e){return n.at===e.at?n.value===null?1:e.value===null?-1:0:n.at-e.at}const gse="easeInOut";function vse(n,{defaultTransition:e={},...t}={},r){const i=e.duration||.3,s=new Map,o=new Map,a={},l=new Map;let c=0,u=0,f=0;for(let d=0;d<n.length;d++){const m=n[d];if(typeof m=="string"){l.set(m,u);continue}else if(!Array.isArray(m)){l.set(m.name,KI(u,m.at,c,l));continue}let[g,v,y={}]=m;y.at!==void 0&&(u=KI(u,y.at,c,l));let x=0;const _=(w,A,C,E=0,P=0)=>{const b=yse(w),{delay:R=0,times:D=Y5(b),type:L="keyframes",...N}=A;let{ease:z=e.ease||"easeOut",duration:k}=A;const V=typeof R=="function"?R(E,P):R,W=b.length;if(W<=2&&L==="spring"){let H=100;if(W===2&&wse(b)){const Z=b[1]-b[0];H=Math.abs(Z)}const G={...N};k!==void 0&&(G.duration=La(k));const X=use(G,H);z=X.ease,k=X.duration}k??(k=i);const Y=u+V,O=Y+k;D.length===1&&D[0]===0&&(D[1]=1);const U=D.length-b.length;U>0&&K5(D,U),b.length===1&&b.unshift(null),pse(C,b,z,D,Y,O),x=Math.max(V+k,x),f=Math.max(O,f)};if(Un(g)){const w=YI(g,o);_(v,y,QI("default",w))}else{const w=Rz(g,r,a),A=w.length;for(let C=0;C<A;C++){v=v,y=y;const E=w[C],P=YI(E,o);for(const b in v)_(v[b],_se(y,b),QI(b,P),C,A)}c=u,u+=x}}return o.forEach((d,m)=>{for(const g in d){const v=d[g];v.sort(mse);const y=[],x=[],_=[];for(let A=0;A<v.length;A++){const{at:C,value:E,easing:P}=v[A];y.push(E),x.push(sh(0,f,C)),_.push(P||"easeOut")}x[0]!==0&&(x.unshift(0),y.unshift(y[0]),_.unshift(gse)),x[x.length-1]!==1&&(x.push(1),y.push(null)),s.has(m)||s.set(m,{keyframes:{},transition:{}});const w=s.get(m);w.keyframes[g]=y,w.transition[g]={...e,duration:f,ease:_,times:x,...t}}}),s}function YI(n,e){return!e.has(n)&&e.set(n,{}),e.get(n)}function QI(n,e){return e[n]||(e[n]=[]),e[n]}function yse(n){return Array.isArray(n)?n:[n]}function _se(n,e){return n[e]?{...n,...n[e]}:{...n}}const xse=n=>typeof n=="number",wse=n=>n.every(xse);function Bz(n,e,t,r){const i=Rz(n,r),s=i.length,o=[];for(let a=0;a<s;a++){const l=i[a];sg.has(l)||cse(l);const c=sg.get(l),u={...t};typeof u.delay=="function"&&(u.delay=u.delay(a,s)),o.push(...xE(c,{...e,transition:u},{}))}return new Dz(o)}const Sse=n=>Array.isArray(n)&&Array.isArray(n[0]);function Ase(n,e,t){const r=[];return vse(n,e,t).forEach(({keyframes:s,transition:o},a)=>{let l;Un(a)?l=wE(a,s.default,o.default):l=Bz(a,s,o),r.push(l)}),new Dz(r)}const bse=n=>{function e(t,r,i){let s;return Sse(t)?s=Ase(t,r,n):lse(r)?s=Bz(t,r,i,n):s=wE(t,r,i),n&&n.animations.push(s),s}return e},ag=bse();function Mse(n,e){typeof n=="function"?n(e):n!=null&&(n.current=e)}function Iz(...n){return e=>n.forEach(t=>Mse(t,e))}function Th(...n){return B.useCallback(Iz(...n),n)}const Lz=B.forwardRef((n,e)=>{const{children:t,...r}=n,i=B.Children.toArray(t),s=i.find(Cse);if(s){const o=s.props.children,a=i.map(l=>l===s?B.Children.count(o)>1?B.Children.only(null):B.isValidElement(o)?o.props.children:null:l);return B.createElement(TM,Kt({},r,{ref:e}),B.isValidElement(o)?B.cloneElement(o,void 0,a):null)}return B.createElement(TM,Kt({},r,{ref:e}),t)});Lz.displayName="Slot";const TM=B.forwardRef((n,e)=>{const{children:t,...r}=n;return B.isValidElement(t)?B.cloneElement(t,{...Ese(r,t.props),ref:e?Iz(e,t.ref):t.ref}):B.Children.count(t)>1?B.Children.only(null):null});TM.displayName="SlotClone";const kz=({children:n})=>B.createElement(B.Fragment,null,n);function Cse(n){return B.isValidElement(n)&&n.type===kz}function Ese(n,e){const t={...e};for(const r in e){const i=n[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?t[r]=(...a)=>{s(...a),i(...a)}:i&&(t[r]=i):r==="style"?t[r]={...i,...s}:r==="className"&&(t[r]=[i,s].filter(Boolean).join(" "))}return{...n,...t}}const Tse=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],uf=Tse.reduce((n,e)=>{const t=B.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?Lz:e;return B.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),B.createElement(a,Kt({},o,{ref:i}))});return t.displayName=`Primitive.${e}`,{...n,[e]:t}},{});function Pse(n,e){n&&Mg.flushSync(()=>n.dispatchEvent(e))}const Rse=B.forwardRef((n,e)=>{var t;const{container:r=globalThis==null||(t=globalThis.document)===null||t===void 0?void 0:t.body,...i}=n;return r?qF.createPortal(B.createElement(uf.div,Kt({},i,{ref:e})),r):null}),Dse=Rse;var qI=Object.prototype.hasOwnProperty;function lg(n,e){var t,r;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((r=n.length)===e.length)for(;r--&&lg(n[r],e[r]););return r===-1}if(!t||typeof n=="object"){r=0;for(t in n)if(qI.call(n,t)&&++r&&!qI.call(e,t)||!(t in e)||!lg(n[t],e[t]))return!1;return Object.keys(e).length===r}}return n!==n&&e!==e}var sx=function(e,t,r,i){this.name=e,this.fn=t,this.args=r,this.modifiers=i};sx.prototype._test=function(e){var t=this.fn;try{zd(this.modifiers.slice(),t,this)(e)}catch{t=function(){return!1}}try{return zd(this.modifiers.slice(),t,this)(e)}catch{return!1}};sx.prototype._check=function(e){try{zd(this.modifiers.slice(),this.fn,this)(e)}catch{if(zd(this.modifiers.slice(),function(r){return r},this)(!1))return}if(!zd(this.modifiers.slice(),this.fn,this)(e))throw null};sx.prototype._testAsync=function(e){var t=this;return new Promise(function(r,i){Fz(t.modifiers.slice(),t.fn,t)(e).then(function(s){s?r(e):i(null)}).catch(function(s){return i(s)})})};function Oz(n,e){return e===void 0&&(e="simple"),typeof n=="object"?n[e]:n}function zd(n,e,t){if(n.length){var r=n.shift(),i=zd(n,e,t);return r.perform(i,t)}else return Oz(e)}function Fz(n,e,t){if(n.length){var r=n.shift(),i=Fz(n,e,t);return r.performAsync(i,t)}else return function(s){return Promise.resolve(Oz(e,"async")(s))}}var Bse=function(e,t,r){this.name=e,this.perform=t,this.performAsync=r},SE=function(n){function e(t,r,i,s){for(var o=[],a=arguments.length-4;a-- >0;)o[a]=arguments[a+4];n.call(this,o),n.captureStackTrace&&n.captureStackTrace(this,e),this.rule=t,this.value=r,this.cause=i,this.target=s}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e}(Error),qo=function(e,t){e===void 0&&(e=[]),t===void 0&&(t=[]),this.chain=e,this.nextRuleModifiers=t};qo.prototype._applyRule=function(e,t){var r=this;return function(){for(var i=[],s=arguments.length;s--;)i[s]=arguments[s];return r.chain.push(new sx(t,e.apply(r,i),i,r.nextRuleModifiers)),r.nextRuleModifiers=[],r}};qo.prototype._applyModifier=function(e,t){return this.nextRuleModifiers.push(new Bse(t,e.simple,e.async)),this};qo.prototype._clone=function(){return new qo(this.chain.slice(),this.nextRuleModifiers.slice())};qo.prototype.test=function(e){return this.chain.every(function(t){return t._test(e)})};qo.prototype.testAll=function(e){var t=[];return this.chain.forEach(function(r){try{r._check(e)}catch(i){t.push(new SE(r,e,i))}}),t};qo.prototype.check=function(e){this.chain.forEach(function(t){try{t._check(e)}catch(r){throw new SE(t,e,r)}})};qo.prototype.testAsync=function(e){var t=this;return new Promise(function(r,i){Nz(e,t.chain.slice(),r,i)})};function Nz(n,e,t,r){if(e.length){var i=e.shift();i._testAsync(n).then(function(){Nz(n,e,t,r)},function(s){r(new SE(i,n,s))})}else t(n)}var ZI=function(n,e){return e&&typeof n=="string"&&n.trim().length===0?!0:n==null};function Ise(n,e){return e===void 0&&(e=!1),{simple:function(t){return ZI(t,e)||n.check(t)===void 0},async:function(t){return ZI(t,e)||n.testAsync(t)}}}function Di(){return typeof Proxy<"u"?Uz(new qo):PM(new qo)}var cg={};Di.extend=function(n){Object.assign(cg,n)};Di.clearCustomRules=function(){cg={}};function Uz(n){return new Proxy(n,{get:function(t,r){if(r in t)return t[r];var i=Uz(n._clone());if(r in z1)return i._applyModifier(z1[r],r);if(r in cg)return i._applyRule(cg[r],r);if(r in RM)return i._applyRule(RM[r],r)}})}function PM(n){var e=function(i,s){return Object.keys(i).forEach(function(o){s[o]=function(){for(var a=[],l=arguments.length;l--;)a[l]=arguments[l];var c=PM(s._clone()),u=c._applyRule(i[o],o).apply(void 0,a);return u}}),s},t=e(RM,n),r=e(cg,t);return Object.keys(z1).forEach(function(i){Object.defineProperty(r,i,{get:function(){var s=PM(r._clone());return s._applyModifier(z1[i],i)}})}),r}var z1={not:{simple:function(n){return function(e){return!n(e)}},async:function(n){return function(e){return Promise.resolve(n(e)).then(function(t){return!t}).catch(function(){return!0})}}},some:{simple:function(n){return function(e){return dy(e).some(function(t){try{return n(t)}catch{return!1}})}},async:function(n){return function(e){return Promise.all(dy(e).map(function(t){try{return n(t).catch(function(){return!1})}catch{return!1}})).then(function(t){return t.some(Boolean)})}}},every:{simple:function(n){return function(e){return e!==!1&&dy(e).every(n)}},async:function(n){return function(e){return Promise.all(dy(e).map(n)).then(function(t){return t.every(Boolean)})}}},strict:{simple:function(n,e){return function(t){return eL(e)&&t&&typeof t=="object"?Object.keys(e.args[0]).length===Object.keys(t).length&&n(t):n(t)}},async:function(n,e){return function(t){return Promise.resolve(n(t)).then(function(r){return eL(e)&&t&&typeof t=="object"?Object.keys(e.args[0]).length===Object.keys(t).length&&r:r}).catch(function(){return!1})}}}};function eL(n){return n&&n.name==="schema"&&n.args.length>0&&typeof n.args[0]=="object"}function dy(n){return typeof n=="string"?n.split(""):n}var RM={equal:function(n){return function(e){return e==n}},exact:function(n){return function(e){return e===n}},number:function(n){return n===void 0&&(n=!0),function(e){return typeof e=="number"&&(n||isFinite(e))}},integer:function(){return function(n){var e=Number.isInteger||Lse;return e(n)}},numeric:function(){return function(n){return!isNaN(parseFloat(n))&&isFinite(n)}},string:function(){return td("string")},boolean:function(){return td("boolean")},undefined:function(){return td("undefined")},null:function(){return td("null")},array:function(){return td("array")},object:function(){return td("object")},instanceOf:function(n){return function(e){return e instanceof n}},pattern:function(n){return function(e){return n.test(e)}},lowercase:function(){return function(n){return typeof n=="boolean"||n===n.toLowerCase()&&n.trim()!==""}},uppercase:function(){return function(n){return n===n.toUpperCase()&&n.trim()!==""}},vowel:function(){return function(n){return/^[aeiou]+$/i.test(n)}},consonant:function(){return function(n){return/^(?=[^aeiou])([a-z]+)$/i.test(n)}},first:function(n){return function(e){return e[0]==n}},last:function(n){return function(e){return e[e.length-1]==n}},empty:function(){return function(n){return n.length===0}},length:function(n,e){return function(t){return t.length>=n&&t.length<=(e||n)}},minLength:function(n){return function(e){return e.length>=n}},maxLength:function(n){return function(e){return e.length<=n}},negative:function(){return function(n){return n<0}},positive:function(){return function(n){return n>=0}},between:function(n,e){return function(t){return t>=n&&t<=e}},range:function(n,e){return function(t){return t>=n&&t<=e}},lessThan:function(n){return function(e){return e<n}},lessThanOrEqual:function(n){return function(e){return e<=n}},greaterThan:function(n){return function(e){return e>n}},greaterThanOrEqual:function(n){return function(e){return e>=n}},even:function(){return function(n){return n%2===0}},odd:function(){return function(n){return n%2!==0}},includes:function(n){return function(e){return~e.indexOf(n)}},schema:function(n){return kse(n)},passesAnyOf:function(){for(var n=[],e=arguments.length;e--;)n[e]=arguments[e];return function(t){return n.some(function(r){return r.test(t)})}},optional:Ise};function td(n){return function(e){return Array.isArray(e)&&n==="array"||e===null&&n==="null"||typeof e===n}}function Lse(n){return typeof n=="number"&&isFinite(n)&&Math.floor(n)===n}function kse(n){return{simple:function(e){var t=[];if(Object.keys(n).forEach(function(r){var i=n[r];try{i.check((e||{})[r])}catch(s){s.target=r,t.push(s)}}),t.length>0)throw t;return!0},async:function(e){var t=[],r=Object.keys(n).map(function(i){var s=n[i];return s.testAsync((e||{})[i]).catch(function(o){o.target=i,t.push(o)})});return Promise.all(r).then(function(){if(t.length>0)throw t;return!0})}}}var qt="colors",li="sizes",it="space",Ose={gap:it,gridGap:it,columnGap:it,gridColumnGap:it,rowGap:it,gridRowGap:it,inset:it,insetBlock:it,insetBlockEnd:it,insetBlockStart:it,insetInline:it,insetInlineEnd:it,insetInlineStart:it,margin:it,marginTop:it,marginRight:it,marginBottom:it,marginLeft:it,marginBlock:it,marginBlockEnd:it,marginBlockStart:it,marginInline:it,marginInlineEnd:it,marginInlineStart:it,padding:it,paddingTop:it,paddingRight:it,paddingBottom:it,paddingLeft:it,paddingBlock:it,paddingBlockEnd:it,paddingBlockStart:it,paddingInline:it,paddingInlineEnd:it,paddingInlineStart:it,top:it,right:it,bottom:it,left:it,scrollMargin:it,scrollMarginTop:it,scrollMarginRight:it,scrollMarginBottom:it,scrollMarginLeft:it,scrollMarginX:it,scrollMarginY:it,scrollMarginBlock:it,scrollMarginBlockEnd:it,scrollMarginBlockStart:it,scrollMarginInline:it,scrollMarginInlineEnd:it,scrollMarginInlineStart:it,scrollPadding:it,scrollPaddingTop:it,scrollPaddingRight:it,scrollPaddingBottom:it,scrollPaddingLeft:it,scrollPaddingX:it,scrollPaddingY:it,scrollPaddingBlock:it,scrollPaddingBlockEnd:it,scrollPaddingBlockStart:it,scrollPaddingInline:it,scrollPaddingInlineEnd:it,scrollPaddingInlineStart:it,fontSize:"fontSizes",background:qt,backgroundColor:qt,backgroundImage:qt,borderImage:qt,border:qt,borderBlock:qt,borderBlockEnd:qt,borderBlockStart:qt,borderBottom:qt,borderBottomColor:qt,borderColor:qt,borderInline:qt,borderInlineEnd:qt,borderInlineStart:qt,borderLeft:qt,borderLeftColor:qt,borderRight:qt,borderRightColor:qt,borderTop:qt,borderTopColor:qt,caretColor:qt,color:qt,columnRuleColor:qt,fill:qt,outline:qt,outlineColor:qt,stroke:qt,textDecorationColor:qt,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:li,minBlockSize:li,maxBlockSize:li,inlineSize:li,minInlineSize:li,maxInlineSize:li,width:li,minWidth:li,maxWidth:li,height:li,minHeight:li,maxHeight:li,flexBasis:li,gridTemplateColumns:li,gridTemplateRows:li,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},Fse=(n,e)=>typeof e=="function"?{"()":Function.prototype.toString.call(e)}:e,Ph=()=>{const n=Object.create(null);return(e,t,...r)=>{const i=(s=>JSON.stringify(s,Fse))(e);return i in n?n[i]:n[i]=t(e,...r)}},Ru=Symbol.for("sxs.internal"),AE=(n,e)=>Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)),tL=n=>{for(const e in n)return!0;return!1},{hasOwnProperty:Nse}=Object.prototype,DM=n=>n.includes("-")?n:n.replace(/[A-Z]/g,e=>"-"+e.toLowerCase()),Use=/\s+(?![^()]*\))/,nd=n=>e=>n(...typeof e=="string"?String(e).split(Use):[e]),nL={appearance:n=>({WebkitAppearance:n,appearance:n}),backfaceVisibility:n=>({WebkitBackfaceVisibility:n,backfaceVisibility:n}),backdropFilter:n=>({WebkitBackdropFilter:n,backdropFilter:n}),backgroundClip:n=>({WebkitBackgroundClip:n,backgroundClip:n}),boxDecorationBreak:n=>({WebkitBoxDecorationBreak:n,boxDecorationBreak:n}),clipPath:n=>({WebkitClipPath:n,clipPath:n}),content:n=>({content:n.includes('"')||n.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(n)?n:`"${n}"`}),hyphens:n=>({WebkitHyphens:n,hyphens:n}),maskImage:n=>({WebkitMaskImage:n,maskImage:n}),maskSize:n=>({WebkitMaskSize:n,maskSize:n}),tabSize:n=>({MozTabSize:n,tabSize:n}),textSizeAdjust:n=>({WebkitTextSizeAdjust:n,textSizeAdjust:n}),userSelect:n=>({WebkitUserSelect:n,userSelect:n}),marginBlock:nd((n,e)=>({marginBlockStart:n,marginBlockEnd:e||n})),marginInline:nd((n,e)=>({marginInlineStart:n,marginInlineEnd:e||n})),maxSize:nd((n,e)=>({maxBlockSize:n,maxInlineSize:e||n})),minSize:nd((n,e)=>({minBlockSize:n,minInlineSize:e||n})),paddingBlock:nd((n,e)=>({paddingBlockStart:n,paddingBlockEnd:e||n})),paddingInline:nd((n,e)=>({paddingInlineStart:n,paddingInlineEnd:e||n}))},ZS=/([\d.]+)([^]*)/,zse=(n,e)=>n.length?n.reduce((t,r)=>(t.push(...e.map(i=>i.includes("&")?i.replace(/&/g,/[ +>|~]/.test(r)&&/&.*&/.test(i)?`:is(${r})`:r):r+" "+i)),t),[]):e,Gse=(n,e)=>n in Hse&&typeof e=="string"?e.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(t,r,i,s)=>r+(i==="stretch"?`-moz-available${s};${DM(n)}:${r}-webkit-fill-available`:`-moz-fit-content${s};${DM(n)}:${r}fit-content`)+s):String(e),Hse={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},Va=n=>n?n+"-":"",zz=(n,e,t)=>n.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,(r,i,s,o,a)=>o=="$"==!!s?r:(i||o=="--"?"calc(":"")+"var(--"+(o==="$"?Va(e)+(a.includes("$")?"":Va(t))+a.replace(/\$/g,"-"):a)+")"+(i||o=="--"?"*"+(i||"")+(s||"1")+")":"")),Vse=/\s*,\s*(?![^()]*\))/,Wse=Object.prototype.toString,Td=(n,e,t,r,i)=>{let s,o,a;const l=(c,u,f)=>{let d,m;const g=v=>{for(d in v){const _=d.charCodeAt(0)===64,w=_&&Array.isArray(v[d])?v[d]:[v[d]];for(m of w){const A=/[A-Z]/.test(x=d)?x:x.replace(/-[^]/g,E=>E[1].toUpperCase()),C=typeof m=="object"&&m&&m.toString===Wse&&(!r.utils[A]||!u.length);if(A in r.utils&&!C){const E=r.utils[A];if(E!==o){o=E,g(E(m)),o=null;continue}}else if(A in nL){const E=nL[A];if(E!==a){a=E,g(E(m)),a=null;continue}}if(_&&(y=d.slice(1)in r.media?"@media "+r.media[d.slice(1)]:d,d=y.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,(E,P,b,R,D,L)=>{const N=ZS.test(P),z=.0625*(N?-1:1),[k,V]=N?[R,P]:[P,R];return"("+(b[0]==="="?"":b[0]===">"===N?"max-":"min-")+k+":"+(b[0]!=="="&&b.length===1?V.replace(ZS,(W,Y,O)=>Number(Y)+z*(b===">"?1:-1)+O):V)+(D?") and ("+(D[0]===">"?"min-":"max-")+k+":"+(D.length===1?L.replace(ZS,(W,Y,O)=>Number(Y)+z*(D===">"?-1:1)+O):L):"")+")"})),C){const E=_?f.concat(d):[...f],P=_?[...u]:zse(u,d.split(Vse));s!==void 0&&i(rL(...s)),s=void 0,l(m,P,E)}else s===void 0&&(s=[[],u,f]),d=_||d.charCodeAt(0)!==36?d:`--${Va(r.prefix)}${d.slice(1).replace(/\$/g,"-")}`,m=C?m:typeof m=="number"?m&&A in jse?String(m)+"px":String(m):zz(Gse(A,m??""),r.prefix,r.themeMap[A]),s[0].push(`${_?`${d} `:`${DM(d)}:`}${m}`)}}var y,x};g(c),s!==void 0&&i(rL(...s)),s=void 0};l(n,e,t)},rL=(n,e,t)=>`${t.map(r=>`${r}{`).join("")}${e.length?`${e.join(",")}{`:""}${n.join(";")}${e.length?"}":""}${Array(t.length?t.length+1:0).join("}")}`,jse={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},iL=n=>String.fromCharCode(n+(n>25?39:97)),Du=n=>(e=>{let t,r="";for(t=Math.abs(e);t>52;t=t/52|0)r=iL(t%52)+r;return iL(t%52)+r})(((e,t)=>{let r=t.length;for(;r;)e=33*e^t.charCodeAt(--r);return e})(5381,JSON.stringify(n))>>>0),$p=["themed","global","styled","onevar","resonevar","allvar","inline"],$se=n=>{if(n.href&&!n.href.startsWith(location.origin))return!1;try{return!!n.cssRules}catch{return!1}},Xse=n=>{let e;const t=()=>{const{cssRules:i}=e.sheet;return[].map.call(i,(s,o)=>{const{cssText:a}=s;let l="";if(a.startsWith("--sxs"))return"";if(i[o-1]&&(l=i[o-1].cssText).startsWith("--sxs")){if(!s.cssRules.length)return"";for(const c in e.rules)if(e.rules[c].group===s)return`--sxs{--sxs:${[...e.rules[c].cache].join(" ")}}${a}`;return s.cssRules.length?`${l}${a}`:""}return a}).join("")},r=()=>{if(e){const{rules:a,sheet:l}=e;if(!l.deleteRule){for(;Object(Object(l.cssRules)[0]).type===3;)l.cssRules.splice(0,1);l.cssRules=[]}for(const c in a)delete a[c]}const i=Object(n).styleSheets||[];for(const a of i)if($se(a)){for(let l=0,c=a.cssRules;c[l];++l){const u=Object(c[l]);if(u.type!==1)continue;const f=Object(c[l+1]);if(f.type!==4)continue;++l;const{cssText:d}=u;if(!d.startsWith("--sxs"))continue;const m=d.slice(14,-3).trim().split(/\s+/),g=$p[m[0]];g&&(e||(e={sheet:a,reset:r,rules:{},toString:t}),e.rules[g]={group:f,index:l,cache:new Set(m)})}if(e)break}if(!e){const a=(l,c)=>({type:c,cssRules:[],insertRule(u,f){this.cssRules.splice(f,0,a(u,{import:3,undefined:1}[(u.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return l==="@media{}"?`@media{${[].map.call(this.cssRules,u=>u.cssText).join("")}}`:l}});e={sheet:n?(n.head||n).appendChild(document.createElement("style")).sheet:a("","text/css"),rules:{},reset:r,toString:t}}const{sheet:s,rules:o}=e;for(let a=$p.length-1;a>=0;--a){const l=$p[a];if(!o[l]){const c=$p[a+1],u=o[c]?o[c].index:s.cssRules.length;s.insertRule("@media{}",u),s.insertRule(`--sxs{--sxs:${a}}`,u),o[l]={group:s.cssRules[u+1],index:u,cache:new Set([a])}}Jse(o[l])}};return r(),e},Jse=n=>{const e=n.group;let t=e.cssRules.length;n.apply=r=>{try{e.insertRule(r,t),++t}catch{}}},kp=Symbol(),Kse=Ph(),sL=(n,e)=>Kse(n,()=>(...t)=>{let r={type:null,composers:new Set};for(const i of t)if(i!=null)if(i[Ru]){r.type==null&&(r.type=i[Ru].type);for(const s of i[Ru].composers)r.composers.add(s)}else i.constructor!==Object||i.$$typeof?r.type==null&&(r.type=i):r.composers.add(Yse(i,n));return r.type==null&&(r.type="span"),r.composers.size||r.composers.add(["PJLV",{},[],[],{},[]]),Qse(n,r,e)}),Yse=({variants:n,compoundVariants:e,defaultVariants:t,...r},i)=>{const s=`${Va(i.prefix)}c-${Du(r)}`,o=[],a=[],l=Object.create(null),c=[];for(const d in t)l[d]=String(t[d]);if(typeof n=="object"&&n)for(const d in n){u=l,f=d,Nse.call(u,f)||(l[d]="undefined");const m=n[d];for(const g in m){const v={[d]:String(g)};String(g)==="undefined"&&c.push(d);const y=m[g],x=[v,y,!tL(y)];o.push(x)}}var u,f;if(typeof e=="object"&&e)for(const d of e){let{css:m,...g}=d;m=typeof m=="object"&&m||{};for(const y in g)g[y]=String(g[y]);const v=[g,m,!tL(m)];a.push(v)}return[s,r,o,a,l,c]},Qse=(n,e,t)=>{const[r,i,s,o]=qse(e.composers),a=typeof e.type=="function"||e.type.$$typeof?(f=>{function d(){for(let m=0;m<d[kp].length;m++){const[g,v]=d[kp][m];f.rules[g].apply(v)}return d[kp]=[],null}return d[kp]=[],d.rules={},$p.forEach(m=>d.rules[m]={apply:g=>d[kp].push([m,g])}),d})(t):null,l=(a||t).rules,c=`.${r}${i.length>1?`:where(.${i.slice(1).join(".")})`:""}`,u=f=>{f=typeof f=="object"&&f||Zse;const{css:d,...m}=f,g={};for(const x in s)if(delete m[x],x in f){let _=f[x];typeof _=="object"&&_?g[x]={"@initial":s[x],..._}:(_=String(_),g[x]=_!=="undefined"||o.has(x)?_:s[x])}else g[x]=s[x];const v=new Set([...i]);for(const[x,_,w,A]of e.composers){t.rules.styled.cache.has(x)||(t.rules.styled.cache.add(x),Td(_,[`.${x}`],[],n,P=>{l.styled.apply(P)}));const C=oL(w,g,n.media),E=oL(A,g,n.media,!0);for(const P of C)if(P!==void 0)for(const[b,R,D]of P){const L=`${x}-${Du(R)}-${b}`;v.add(L);const N=(D?t.rules.resonevar:t.rules.onevar).cache,z=D?l.resonevar:l.onevar;N.has(L)||(N.add(L),Td(R,[`.${L}`],[],n,k=>{z.apply(k)}))}for(const P of E)if(P!==void 0)for(const[b,R]of P){const D=`${x}-${Du(R)}-${b}`;v.add(D),t.rules.allvar.cache.has(D)||(t.rules.allvar.cache.add(D),Td(R,[`.${D}`],[],n,L=>{l.allvar.apply(L)}))}}if(typeof d=="object"&&d){const x=`${r}-i${Du(d)}-css`;v.add(x),t.rules.inline.cache.has(x)||(t.rules.inline.cache.add(x),Td(d,[`.${x}`],[],n,_=>{l.inline.apply(_)}))}for(const x of String(f.className||"").trim().split(/\s+/))x&&v.add(x);const y=m.className=[...v].join(" ");return{type:e.type,className:y,selector:c,props:m,toString:()=>y,deferredInjector:a}};return AE(u,{className:r,selector:c,[Ru]:e,toString:()=>(t.rules.styled.cache.has(r)||u(),r)})},qse=n=>{let e="";const t=[],r={},i=[];for(const[s,,,,o,a]of n){e===""&&(e=s),t.push(s),i.push(...a);for(const l in o){const c=o[l];(r[l]===void 0||c!=="undefined"||a.includes(c))&&(r[l]=c)}}return[e,t,r,new Set(i)]},oL=(n,e,t,r)=>{const i=[];e:for(let[s,o,a]of n){if(a)continue;let l,c=0,u=!1;for(l in s){const f=s[l];let d=e[l];if(d!==f){if(typeof d!="object"||!d)continue e;{let m,g,v=0;for(const y in d){if(f===String(d[y])){if(y!=="@initial"){const x=y.slice(1);(g=g||[]).push(x in t?t[x]:y.replace(/^@media ?/,"")),u=!0}c+=v,m=!0}++v}if(g&&g.length&&(o={["@media "+g.join(", ")]:o}),!m)continue e}}}(i[c]=i[c]||[]).push([r?"cv":`${l}-${s[l]}`,o,u])}return i},Zse={},eoe=Ph(),toe=(n,e)=>eoe(n,()=>(...t)=>{const r=()=>{for(let i of t){i=typeof i=="object"&&i||{};let s=Du(i);if(!e.rules.global.cache.has(s)){if(e.rules.global.cache.add(s),"@import"in i){let o=[].indexOf.call(e.sheet.cssRules,e.rules.themed.group)-1;for(let a of[].concat(i["@import"]))a=a.includes('"')||a.includes("'")?a:`"${a}"`,e.sheet.insertRule(`@import ${a};`,o++);delete i["@import"]}Td(i,[],[],n,o=>{e.rules.global.apply(o)})}}return""};return AE(r,{toString:r})}),noe=Ph(),roe=(n,e)=>noe(n,()=>t=>{const r=`${Va(n.prefix)}k-${Du(t)}`,i=()=>{if(!e.rules.global.cache.has(r)){e.rules.global.cache.add(r);const s=[];Td(t,[],[],n,a=>s.push(a));const o=`@keyframes ${r}{${s.join("")}}`;e.rules.global.apply(o)}return r};return AE(i,{get name(){return i()},toString:i})}),ioe=class{constructor(n,e,t,r){this.token=n==null?"":String(n),this.value=e==null?"":String(e),this.scale=t==null?"":String(t),this.prefix=r==null?"":String(r)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+Va(this.prefix)+Va(this.scale)+this.token}toString(){return this.computedValue}},soe=Ph(),ooe=(n,e)=>soe(n,()=>(t,r)=>{r=typeof t=="object"&&t||Object(r);const i=`.${t=(t=typeof t=="string"?t:"")||`${Va(n.prefix)}t-${Du(r)}`}`,s={},o=[];for(const l in r){s[l]={};for(const c in r[l]){const u=`--${Va(n.prefix)}${l}-${c}`,f=zz(String(r[l][c]),n.prefix,l);s[l][c]=new ioe(c,f,l,n.prefix),o.push(`${u}:${f}`)}}const a=()=>{if(o.length&&!e.rules.themed.cache.has(t)){e.rules.themed.cache.add(t);const l=`${r===n.theme?":root,":""}.${t}{${o.join(";")}}`;e.rules.themed.apply(l)}return t};return{...s,get className(){return a()},selector:i,toString:a}}),aoe=Ph(),loe=Ph(),coe=n=>{const e=(t=>{let r=!1;const i=aoe(t,s=>{r=!0;const o="prefix"in(s=typeof s=="object"&&s||{})?String(s.prefix):"",a=typeof s.media=="object"&&s.media||{},l=typeof s.root=="object"?s.root||null:globalThis.document||null,c=typeof s.theme=="object"&&s.theme||{},u={prefix:o,media:a,theme:c,themeMap:typeof s.themeMap=="object"&&s.themeMap||{...Ose},utils:typeof s.utils=="object"&&s.utils||{}},f=Xse(l),d={css:sL(u,f),globalCss:toe(u,f),keyframes:roe(u,f),createTheme:ooe(u,f),reset(){f.reset(),d.theme.toString()},theme:{},sheet:f,config:u,prefix:o,getCssText:f.toString,toString:f.toString};return String(d.theme=d.createTheme(c)),d});return r||i.reset(),i})(n);return e.styled=(({config:t,sheet:r})=>loe(t,()=>{const i=sL(t,r);return(...s)=>{const o=i(...s),a=o[Ru].type,l=ee.forwardRef((c,u)=>{const f=c&&c.as||a,{props:d,deferredInjector:m}=o(c);return delete d.as,d.ref=u,m?ee.createElement(ee.Fragment,null,ee.createElement(f,d),ee.createElement(m,null)):ee.createElement(f,d)});return l.className=o.className,l.displayName=`Styled.${a.displayName||a.name||a}`,l.selector=o.selector,l.toString=()=>o.selector,l[Ru]=o[Ru],l}}))(e),e};function Sa(n,e,{checkForDefaultPrevented:t=!0}={}){return function(i){if(n==null||n(i),t===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function Gz(n,e=[]){let t=[];function r(s,o){const a=B.createContext(o),l=t.length;t=[...t,o];function c(f){const{scope:d,children:m,...g}=f,v=(d==null?void 0:d[n][l])||a,y=B.useMemo(()=>g,Object.values(g));return B.createElement(v.Provider,{value:y},m)}function u(f,d){const m=(d==null?void 0:d[n][l])||a,g=B.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,u]}const i=()=>{const s=t.map(o=>B.createContext(o));return function(a){const l=(a==null?void 0:a[n])||s;return B.useMemo(()=>({[`__scope${n}`]:{...a,[n]:l}}),[a,l])}};return i.scopeName=n,[r,uoe(i,...e)]}function uoe(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(s)[`__scope${c}`];return{...a,...f}},{});return B.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}function Rh(n){const e=B.useRef(n);return B.useEffect(()=>{e.current=n}),B.useMemo(()=>(...t)=>{var r;return(r=e.current)===null||r===void 0?void 0:r.call(e,...t)},[])}function foe(n,e=globalThis==null?void 0:globalThis.document){const t=Rh(n);B.useEffect(()=>{const r=i=>{i.key==="Escape"&&t(i)};return e.addEventListener("keydown",r),()=>e.removeEventListener("keydown",r)},[t,e])}const BM="dismissableLayer.update",doe="dismissableLayer.pointerDownOutside",hoe="dismissableLayer.focusOutside";let aL;const poe=B.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),moe=B.forwardRef((n,e)=>{var t;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:a,onDismiss:l,...c}=n,u=B.useContext(poe),[f,d]=B.useState(null),m=(t=f==null?void 0:f.ownerDocument)!==null&&t!==void 0?t:globalThis==null?void 0:globalThis.document,[,g]=B.useState({}),v=Th(e,b=>d(b)),y=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),_=y.indexOf(x),w=f?y.indexOf(f):-1,A=u.layersWithOutsidePointerEventsDisabled.size>0,C=w>=_,E=goe(b=>{const R=b.target,D=[...u.branches].some(L=>L.contains(R));!C||D||(s==null||s(b),a==null||a(b),b.defaultPrevented||l==null||l())},m),P=voe(b=>{const R=b.target;[...u.branches].some(L=>L.contains(R))||(o==null||o(b),a==null||a(b),b.defaultPrevented||l==null||l())},m);return foe(b=>{w===u.layers.size-1&&(i==null||i(b),!b.defaultPrevented&&l&&(b.preventDefault(),l()))},m),B.useEffect(()=>{if(f)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(aL=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),lL(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=aL)}},[f,m,r,u]),B.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),lL())},[f,u]),B.useEffect(()=>{const b=()=>g({});return document.addEventListener(BM,b),()=>document.removeEventListener(BM,b)},[]),B.createElement(uf.div,Kt({},c,{ref:v,style:{pointerEvents:A?C?"auto":"none":void 0,...n.style},onFocusCapture:Sa(n.onFocusCapture,P.onFocusCapture),onBlurCapture:Sa(n.onBlurCapture,P.onBlurCapture),onPointerDownCapture:Sa(n.onPointerDownCapture,E.onPointerDownCapture)}))});function goe(n,e=globalThis==null?void 0:globalThis.document){const t=Rh(n),r=B.useRef(!1),i=B.useRef(()=>{});return B.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let u=function(){Hz(doe,t,c,{discrete:!0})};var l=u;const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=u,e.addEventListener("click",i.current,{once:!0})):u()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function voe(n,e=globalThis==null?void 0:globalThis.document){const t=Rh(n),r=B.useRef(!1);return B.useEffect(()=>{const i=s=>{s.target&&!r.current&&Hz(hoe,t,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function lL(){const n=new CustomEvent(BM);document.dispatchEvent(n)}function Hz(n,e,t,{discrete:r}){const i=t.originalEvent.target,s=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?Pse(i,s):i.dispatchEvent(s)}const ah=globalThis!=null&&globalThis.document?B.useLayoutEffect:()=>{},yoe=c9["useId".toString()]||(()=>{});let _oe=0;function xoe(n){const[e,t]=B.useState(yoe());return ah(()=>{n||t(r=>r??String(_oe++))},[n]),n||(e?`radix-${e}`:"")}const woe=["top","right","bottom","left"],uc=Math.min,Zi=Math.max,G1=Math.round,hy=Math.floor,fc=n=>({x:n,y:n}),Soe={left:"right",right:"left",bottom:"top",top:"bottom"},Aoe={start:"end",end:"start"};function IM(n,e,t){return Zi(n,uc(e,t))}function Wa(n,e){return typeof n=="function"?n(e):n}function ja(n){return n.split("-")[0]}function Dh(n){return n.split("-")[1]}function bE(n){return n==="x"?"y":"x"}function ME(n){return n==="y"?"height":"width"}function Bh(n){return["top","bottom"].includes(ja(n))?"y":"x"}function CE(n){return bE(Bh(n))}function boe(n,e,t){t===void 0&&(t=!1);const r=Dh(n),i=CE(n),s=ME(i);let o=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=H1(o)),[o,H1(o)]}function Moe(n){const e=H1(n);return[LM(n),e,LM(e)]}function LM(n){return n.replace(/start|end/g,e=>Aoe[e])}function Coe(n,e,t){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(n){case"top":case"bottom":return t?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function Eoe(n,e,t,r){const i=Dh(n);let s=Coe(ja(n),t==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(LM)))),s}function H1(n){return n.replace(/left|right|bottom|top/g,e=>Soe[e])}function Toe(n){return{top:0,right:0,bottom:0,left:0,...n}}function Vz(n){return typeof n!="number"?Toe(n):{top:n,right:n,bottom:n,left:n}}function V1(n){return{...n,top:n.y,left:n.x,right:n.x+n.width,bottom:n.y+n.height}}function cL(n,e,t){let{reference:r,floating:i}=n;const s=Bh(e),o=CE(e),a=ME(o),l=ja(e),c=s==="y",u=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,d=r[a]/2-i[a]/2;let m;switch(l){case"top":m={x:u,y:r.y-i.height};break;case"bottom":m={x:u,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-i.width,y:f};break;default:m={x:r.x,y:r.y}}switch(Dh(e)){case"start":m[o]-=d*(t&&c?-1:1);break;case"end":m[o]+=d*(t&&c?-1:1);break}return m}const Poe=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=t,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:n,floating:e,strategy:i}),{x:u,y:f}=cL(c,r,l),d=r,m={},g=0;for(let v=0;v<a.length;v++){const{name:y,fn:x}=a[v],{x:_,y:w,data:A,reset:C}=await x({x:u,y:f,initialPlacement:r,placement:d,strategy:i,middlewareData:m,rects:c,platform:o,elements:{reference:n,floating:e}});if(u=_??u,f=w??f,m={...m,[y]:{...m[y],...A}},C&&g<=50){g++,typeof C=="object"&&(C.placement&&(d=C.placement),C.rects&&(c=C.rects===!0?await o.getElementRects({reference:n,floating:e,strategy:i}):C.rects),{x:u,y:f}=cL(c,d,l)),v=-1;continue}}return{x:u,y:f,placement:d,strategy:i,middlewareData:m}};async function ug(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=n,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:d=!1,padding:m=0}=Wa(e,n),g=Vz(m),y=a[d?f==="floating"?"reference":"floating":f],x=V1(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(y)))==null||t?y:y.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),_=f==="floating"?{...o.floating,x:r,y:i}:o.reference,w=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),A=await(s.isElement==null?void 0:s.isElement(w))?await(s.getScale==null?void 0:s.getScale(w))||{x:1,y:1}:{x:1,y:1},C=V1(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({rect:_,offsetParent:w,strategy:l}):_);return{top:(x.top-C.top+g.top)/A.y,bottom:(C.bottom-x.bottom+g.bottom)/A.y,left:(x.left-C.left+g.left)/A.x,right:(C.right-x.right+g.right)/A.x}}const uL=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=Wa(n,e)||{};if(c==null)return{};const f=Vz(u),d={x:t,y:r},m=CE(i),g=ME(m),v=await o.getDimensions(c),y=m==="y",x=y?"top":"left",_=y?"bottom":"right",w=y?"clientHeight":"clientWidth",A=s.reference[g]+s.reference[m]-d[m]-s.floating[g],C=d[m]-s.reference[m],E=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let P=E?E[w]:0;(!P||!await(o.isElement==null?void 0:o.isElement(E)))&&(P=a.floating[w]||s.floating[g]);const b=A/2-C/2,R=P/2-v[g]/2-1,D=uc(f[x],R),L=uc(f[_],R),N=D,z=P-v[g]-L,k=P/2-v[g]/2+b,V=IM(N,k,z),W=!l.arrow&&Dh(i)!=null&&k!=V&&s.reference[g]/2-(k<N?D:L)-v[g]/2<0,Y=W?k<N?k-N:k-z:0;return{[m]:d[m]+Y,data:{[m]:V,centerOffset:k-V-Y,...W&&{alignmentOffset:Y}},reset:W}}}),Roe=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:d,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:v=!0,...y}=Wa(n,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const x=ja(i),_=ja(a)===a,w=await(l.isRTL==null?void 0:l.isRTL(c.floating)),A=d||(_||!v?[H1(a)]:Moe(a));!d&&g!=="none"&&A.push(...Eoe(a,v,g,w));const C=[a,...A],E=await ug(e,y),P=[];let b=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&P.push(E[x]),f){const N=boe(i,o,w);P.push(E[N[0]],E[N[1]])}if(b=[...b,{placement:i,overflows:P}],!P.every(N=>N<=0)){var R,D;const N=(((R=s.flip)==null?void 0:R.index)||0)+1,z=C[N];if(z)return{data:{index:N,overflows:b},reset:{placement:z}};let k=(D=b.filter(V=>V.overflows[0]<=0).sort((V,W)=>V.overflows[1]-W.overflows[1])[0])==null?void 0:D.placement;if(!k)switch(m){case"bestFit":{var L;const V=(L=b.map(W=>[W.placement,W.overflows.filter(Y=>Y>0).reduce((Y,O)=>Y+O,0)]).sort((W,Y)=>W[1]-Y[1])[0])==null?void 0:L[0];V&&(k=V);break}case"initialPlacement":k=a;break}if(i!==k)return{reset:{placement:k}}}return{}}}};function fL(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function dL(n){return woe.some(e=>n[e]>=0)}const Doe=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...i}=Wa(n,e);switch(r){case"referenceHidden":{const s=await ug(e,{...i,elementContext:"reference"}),o=fL(s,t.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:dL(o)}}}case"escaped":{const s=await ug(e,{...i,altBoundary:!0}),o=fL(s,t.floating);return{data:{escapedOffsets:o,escaped:dL(o)}}}default:return{}}}}};async function Boe(n,e){const{placement:t,platform:r,elements:i}=n,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=ja(t),a=Dh(t),l=Bh(t)==="y",c=["left","top"].includes(o)?-1:1,u=s&&l?-1:1,f=Wa(e,n);let{mainAxis:d,crossAxis:m,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...f};return a&&typeof g=="number"&&(m=a==="end"?g*-1:g),l?{x:m*u,y:d*c}:{x:d*c,y:m*u}}const Ioe=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){const{x:t,y:r}=e,i=await Boe(e,n);return{x:t+i.x,y:r+i.y,data:i}}}},Loe=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:y=>{let{x,y:_}=y;return{x,y:_}}},...l}=Wa(n,e),c={x:t,y:r},u=await ug(e,l),f=Bh(ja(i)),d=bE(f);let m=c[d],g=c[f];if(s){const y=d==="y"?"top":"left",x=d==="y"?"bottom":"right",_=m+u[y],w=m-u[x];m=IM(_,m,w)}if(o){const y=f==="y"?"top":"left",x=f==="y"?"bottom":"right",_=g+u[y],w=g-u[x];g=IM(_,g,w)}const v=a.fn({...e,[d]:m,[f]:g});return{...v,data:{x:v.x-t,y:v.y-r}}}}},koe=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Wa(n,e),u={x:t,y:r},f=Bh(i),d=bE(f);let m=u[d],g=u[f];const v=Wa(a,e),y=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const w=d==="y"?"height":"width",A=s.reference[d]-s.floating[w]+y.mainAxis,C=s.reference[d]+s.reference[w]-y.mainAxis;m<A?m=A:m>C&&(m=C)}if(c){var x,_;const w=d==="y"?"width":"height",A=["top","left"].includes(ja(i)),C=s.reference[f]-s.floating[w]+(A&&((x=o.offset)==null?void 0:x[f])||0)+(A?0:y.crossAxis),E=s.reference[f]+s.reference[w]+(A?0:((_=o.offset)==null?void 0:_[f])||0)-(A?y.crossAxis:0);g<C?g=C:g>E&&(g=E)}return{[d]:m,[f]:g}}}},Ooe=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){const{placement:t,rects:r,platform:i,elements:s}=e,{apply:o=()=>{},...a}=Wa(n,e),l=await ug(e,a),c=ja(t),u=Dh(t),f=Bh(t)==="y",{width:d,height:m}=r.floating;let g,v;c==="top"||c==="bottom"?(g=c,v=u===(await(i.isRTL==null?void 0:i.isRTL(s.floating))?"start":"end")?"left":"right"):(v=c,g=u==="end"?"top":"bottom");const y=m-l[g],x=d-l[v],_=!e.middlewareData.shift;let w=y,A=x;if(f){const E=d-l.left-l.right;A=u||_?uc(x,E):E}else{const E=m-l.top-l.bottom;w=u||_?uc(y,E):E}if(_&&!u){const E=Zi(l.left,0),P=Zi(l.right,0),b=Zi(l.top,0),R=Zi(l.bottom,0);f?A=d-2*(E!==0||P!==0?E+P:Zi(l.left,l.right)):w=m-2*(b!==0||R!==0?b+R:Zi(l.top,l.bottom))}await o({...e,availableWidth:A,availableHeight:w});const C=await i.getDimensions(s.floating);return d!==C.width||m!==C.height?{reset:{rects:!0}}:{}}}};function dc(n){return Wz(n)?(n.nodeName||"").toLowerCase():"#document"}function os(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function nl(n){var e;return(e=(Wz(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function Wz(n){return n instanceof Node||n instanceof os(n).Node}function $a(n){return n instanceof Element||n instanceof os(n).Element}function Zo(n){return n instanceof HTMLElement||n instanceof os(n).HTMLElement}function hL(n){return typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof os(n).ShadowRoot}function t0(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=Ys(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(i)}function Foe(n){return["table","td","th"].includes(dc(n))}function EE(n){const e=TE(),t=Ys(n);return t.transform!=="none"||t.perspective!=="none"||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function Noe(n){let e=lh(n);for(;Zo(e)&&!ox(e);){if(EE(e))return e;e=lh(e)}return null}function TE(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ox(n){return["html","body","#document"].includes(dc(n))}function Ys(n){return os(n).getComputedStyle(n)}function ax(n){return $a(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.pageXOffset,scrollTop:n.pageYOffset}}function lh(n){if(dc(n)==="html")return n;const e=n.assignedSlot||n.parentNode||hL(n)&&n.host||nl(n);return hL(e)?e.host:e}function jz(n){const e=lh(n);return ox(e)?n.ownerDocument?n.ownerDocument.body:n.body:Zo(e)&&t0(e)?e:jz(e)}function fg(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=jz(n),s=i===((r=n.ownerDocument)==null?void 0:r.body),o=os(i);return s?e.concat(o,o.visualViewport||[],t0(i)?i:[],o.frameElement&&t?fg(o.frameElement):[]):e.concat(i,fg(i,[],t))}function $z(n){const e=Ys(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Zo(n),s=i?n.offsetWidth:t,o=i?n.offsetHeight:r,a=G1(t)!==s||G1(r)!==o;return a&&(t=s,r=o),{width:t,height:r,$:a}}function PE(n){return $a(n)?n:n.contextElement}function Gd(n){const e=PE(n);if(!Zo(e))return fc(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:s}=$z(e);let o=(s?G1(t.width):t.width)/r,a=(s?G1(t.height):t.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const Uoe=fc(0);function Xz(n){const e=os(n);return!TE()||!e.visualViewport?Uoe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function zoe(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==os(n)?!1:e}function Yu(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),s=PE(n);let o=fc(1);e&&(r?$a(r)&&(o=Gd(r)):o=Gd(n));const a=zoe(s,t,r)?Xz(s):fc(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,u=i.width/o.x,f=i.height/o.y;if(s){const d=os(s),m=r&&$a(r)?os(r):r;let g=d.frameElement;for(;g&&r&&m!==d;){const v=Gd(g),y=g.getBoundingClientRect(),x=Ys(g),_=y.left+(g.clientLeft+parseFloat(x.paddingLeft))*v.x,w=y.top+(g.clientTop+parseFloat(x.paddingTop))*v.y;l*=v.x,c*=v.y,u*=v.x,f*=v.y,l+=_,c+=w,g=os(g).frameElement}}return V1({width:u,height:f,x:l,y:c})}function Goe(n){let{rect:e,offsetParent:t,strategy:r}=n;const i=Zo(t),s=nl(t);if(t===s)return e;let o={scrollLeft:0,scrollTop:0},a=fc(1);const l=fc(0);if((i||!i&&r!=="fixed")&&((dc(t)!=="body"||t0(s))&&(o=ax(t)),Zo(t))){const c=Yu(t);a=Gd(t),l.x=c.x+t.clientLeft,l.y=c.y+t.clientTop}return{width:e.width*a.x,height:e.height*a.y,x:e.x*a.x-o.scrollLeft*a.x+l.x,y:e.y*a.y-o.scrollTop*a.y+l.y}}function Hoe(n){return Array.from(n.getClientRects())}function Jz(n){return Yu(nl(n)).left+ax(n).scrollLeft}function Voe(n){const e=nl(n),t=ax(n),r=n.ownerDocument.body,i=Zi(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Zi(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-t.scrollLeft+Jz(n);const a=-t.scrollTop;return Ys(r).direction==="rtl"&&(o+=Zi(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function Woe(n,e){const t=os(n),r=nl(n),i=t.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=TE();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function joe(n,e){const t=Yu(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,s=Zo(n)?Gd(n):fc(1),o=n.clientWidth*s.x,a=n.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function pL(n,e,t){let r;if(e==="viewport")r=Woe(n,t);else if(e==="document")r=Voe(nl(n));else if($a(e))r=joe(e,t);else{const i=Xz(n);r={...e,x:e.x-i.x,y:e.y-i.y}}return V1(r)}function Kz(n,e){const t=lh(n);return t===e||!$a(t)||ox(t)?!1:Ys(t).position==="fixed"||Kz(t,e)}function $oe(n,e){const t=e.get(n);if(t)return t;let r=fg(n,[],!1).filter(a=>$a(a)&&dc(a)!=="body"),i=null;const s=Ys(n).position==="fixed";let o=s?lh(n):n;for(;$a(o)&&!ox(o);){const a=Ys(o),l=EE(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||t0(o)&&!l&&Kz(n,o))?r=r.filter(u=>u!==o):i=a,o=lh(o)}return e.set(n,r),r}function Xoe(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const o=[...t==="clippingAncestors"?$oe(e,this._c):[].concat(t),r],a=o[0],l=o.reduce((c,u)=>{const f=pL(e,u,i);return c.top=Zi(f.top,c.top),c.right=uc(f.right,c.right),c.bottom=uc(f.bottom,c.bottom),c.left=Zi(f.left,c.left),c},pL(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Joe(n){return $z(n)}function Koe(n,e,t){const r=Zo(e),i=nl(e),s=t==="fixed",o=Yu(n,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=fc(0);if(r||!r&&!s)if((dc(e)!=="body"||t0(i))&&(a=ax(e)),r){const c=Yu(e,!0,s,e);l.x=c.x+e.clientLeft,l.y=c.y+e.clientTop}else i&&(l.x=Jz(i));return{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function mL(n,e){return!Zo(n)||Ys(n).position==="fixed"?null:e?e(n):n.offsetParent}function Yz(n,e){const t=os(n);if(!Zo(n))return t;let r=mL(n,e);for(;r&&Foe(r)&&Ys(r).position==="static";)r=mL(r,e);return r&&(dc(r)==="html"||dc(r)==="body"&&Ys(r).position==="static"&&!EE(r))?t:r||Noe(n)||t}const Yoe=async function(n){let{reference:e,floating:t,strategy:r}=n;const i=this.getOffsetParent||Yz,s=this.getDimensions;return{reference:Koe(e,await i(t),r),floating:{x:0,y:0,...await s(t)}}};function Qoe(n){return Ys(n).direction==="rtl"}const qoe={convertOffsetParentRelativeRectToViewportRelativeRect:Goe,getDocumentElement:nl,getClippingRect:Xoe,getOffsetParent:Yz,getElementRects:Yoe,getClientRects:Hoe,getDimensions:Joe,getScale:Gd,isElement:$a,isRTL:Qoe};function Zoe(n,e){let t=null,r;const i=nl(n);function s(){clearTimeout(r),t&&t.disconnect(),t=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:c,top:u,width:f,height:d}=n.getBoundingClientRect();if(a||e(),!f||!d)return;const m=hy(u),g=hy(i.clientWidth-(c+f)),v=hy(i.clientHeight-(u+d)),y=hy(c),_={rootMargin:-m+"px "+-g+"px "+-v+"px "+-y+"px",threshold:Zi(0,uc(1,l))||1};let w=!0;function A(C){const E=C[0].intersectionRatio;if(E!==l){if(!w)return o();E?o(!1,E):r=setTimeout(()=>{o(!1,1e-7)},100)}w=!1}try{t=new IntersectionObserver(A,{..._,root:i.ownerDocument})}catch{t=new IntersectionObserver(A,_)}t.observe(n)}return o(!0),s}function eae(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=PE(n),u=i||s?[...c?fg(c):[],...fg(e)]:[];u.forEach(x=>{i&&x.addEventListener("scroll",t,{passive:!0}),s&&x.addEventListener("resize",t)});const f=c&&a?Zoe(c,t):null;let d=-1,m=null;o&&(m=new ResizeObserver(x=>{let[_]=x;_&&_.target===c&&m&&(m.unobserve(e),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{m&&m.observe(e)})),t()}),c&&!l&&m.observe(c),m.observe(e));let g,v=l?Yu(n):null;l&&y();function y(){const x=Yu(n);v&&(x.x!==v.x||x.y!==v.y||x.width!==v.width||x.height!==v.height)&&t(),v=x,g=requestAnimationFrame(y)}return t(),()=>{u.forEach(x=>{i&&x.removeEventListener("scroll",t),s&&x.removeEventListener("resize",t)}),f&&f(),m&&m.disconnect(),m=null,l&&cancelAnimationFrame(g)}}const tae=(n,e,t)=>{const r=new Map,i={platform:qoe,...t},s={...i.platform,_c:r};return Poe(n,e,{...i,platform:s})},nae=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:i}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?uL({element:r.current,padding:i}).fn(t):{}:r?uL({element:r,padding:i}).fn(t):{}}}};var Ky=typeof document<"u"?B.useLayoutEffect:B.useEffect;function W1(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,i;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!=e.length)return!1;for(r=t;r--!==0;)if(!W1(n[r],e[r]))return!1;return!0}if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=t;r--!==0;){const s=i[r];if(!(s==="_owner"&&n.$$typeof)&&!W1(n[s],e[s]))return!1}return!0}return n!==n&&e!==e}function Qz(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function gL(n,e){const t=Qz(n);return Math.round(e*t)/t}function vL(n){const e=B.useRef(n);return Ky(()=>{e.current=n}),e}function rae(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=n,[u,f]=B.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[d,m]=B.useState(r);W1(d,r)||m(r);const[g,v]=B.useState(null),[y,x]=B.useState(null),_=B.useCallback(W=>{W!=E.current&&(E.current=W,v(W))},[v]),w=B.useCallback(W=>{W!==P.current&&(P.current=W,x(W))},[x]),A=s||g,C=o||y,E=B.useRef(null),P=B.useRef(null),b=B.useRef(u),R=vL(l),D=vL(i),L=B.useCallback(()=>{if(!E.current||!P.current)return;const W={placement:e,strategy:t,middleware:d};D.current&&(W.platform=D.current),tae(E.current,P.current,W).then(Y=>{const O={...Y,isPositioned:!0};N.current&&!W1(b.current,O)&&(b.current=O,Mg.flushSync(()=>{f(O)}))})},[d,e,t,D]);Ky(()=>{c===!1&&b.current.isPositioned&&(b.current.isPositioned=!1,f(W=>({...W,isPositioned:!1})))},[c]);const N=B.useRef(!1);Ky(()=>(N.current=!0,()=>{N.current=!1}),[]),Ky(()=>{if(A&&(E.current=A),C&&(P.current=C),A&&C){if(R.current)return R.current(A,C,L);L()}},[A,C,L,R]);const z=B.useMemo(()=>({reference:E,floating:P,setReference:_,setFloating:w}),[_,w]),k=B.useMemo(()=>({reference:A,floating:C}),[A,C]),V=B.useMemo(()=>{const W={position:t,left:0,top:0};if(!k.floating)return W;const Y=gL(k.floating,u.x),O=gL(k.floating,u.y);return a?{...W,transform:"translate("+Y+"px, "+O+"px)",...Qz(k.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:Y,top:O}},[t,a,k.floating,u.x,u.y]);return B.useMemo(()=>({...u,update:L,refs:z,elements:k,floatingStyles:V}),[u,L,z,k,V])}const iae=B.forwardRef((n,e)=>{const{children:t,width:r=10,height:i=5,...s}=n;return B.createElement(uf.svg,Kt({},s,{ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none"}),n.asChild?t:B.createElement("polygon",{points:"0,0 30,0 15,10"}))}),sae=iae;function oae(n){const[e,t]=B.useState(void 0);return ah(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=n.offsetWidth,a=n.offsetHeight;t({width:o,height:a})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}const qz="Popper",[Zz,eG]=Gz(qz),[aae,tG]=Zz(qz),lae=n=>{const{__scopePopper:e,children:t}=n,[r,i]=B.useState(null);return B.createElement(aae,{scope:e,anchor:r,onAnchorChange:i},t)},cae="PopperAnchor",uae=B.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...i}=n,s=tG(cae,t),o=B.useRef(null),a=Th(e,o);return B.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:B.createElement(uf.div,Kt({},i,{ref:a}))}),nG="PopperContent",[fae,dae]=Zz(nG),hae=B.forwardRef((n,e)=>{var t,r,i,s,o,a,l,c;const{__scopePopper:u,side:f="bottom",sideOffset:d=0,align:m="center",alignOffset:g=0,arrowPadding:v=0,avoidCollisions:y=!0,collisionBoundary:x=[],collisionPadding:_=0,sticky:w="partial",hideWhenDetached:A=!1,updatePositionStrategy:C="optimized",onPlaced:E,...P}=n,b=tG(nG,u),[R,D]=B.useState(null),L=Th(e,Ce=>D(Ce)),[N,z]=B.useState(null),k=oae(N),V=(t=k==null?void 0:k.width)!==null&&t!==void 0?t:0,W=(r=k==null?void 0:k.height)!==null&&r!==void 0?r:0,Y=f+(m!=="center"?"-"+m:""),O=typeof _=="number"?_:{top:0,right:0,bottom:0,left:0,..._},U=Array.isArray(x)?x:[x],H=U.length>0,G={padding:O,boundary:U.filter(vae),altBoundary:H},{refs:X,floatingStyles:Z,placement:re,isPositioned:ie,middlewareData:Q}=rae({strategy:"fixed",placement:Y,whileElementsMounted:(...Ce)=>eae(...Ce,{animationFrame:C==="always"}),elements:{reference:b.anchor},middleware:[Ioe({mainAxis:d+W,alignmentAxis:g}),y&&Loe({mainAxis:!0,crossAxis:!1,limiter:w==="partial"?koe():void 0,...G}),y&&Roe({...G}),Ooe({...G,apply:({elements:Ce,rects:Ae,availableWidth:je,availableHeight:we})=>{const{width:Le,height:Ue}=Ae.reference,_e=Ce.floating.style;_e.setProperty("--radix-popper-available-width",`${je}px`),_e.setProperty("--radix-popper-available-height",`${we}px`),_e.setProperty("--radix-popper-anchor-width",`${Le}px`),_e.setProperty("--radix-popper-anchor-height",`${Ue}px`)}}),N&&nae({element:N,padding:v}),yae({arrowWidth:V,arrowHeight:W}),A&&Doe({strategy:"referenceHidden",...G})]}),[ue,he]=rG(re),be=Rh(E);ah(()=>{ie&&(be==null||be())},[ie,be]);const ye=(i=Q.arrow)===null||i===void 0?void 0:i.x,Se=(s=Q.arrow)===null||s===void 0?void 0:s.y,ne=((o=Q.arrow)===null||o===void 0?void 0:o.centerOffset)!==0,[le,Ee]=B.useState();return ah(()=>{R&&Ee(window.getComputedStyle(R).zIndex)},[R]),B.createElement("div",{ref:X.setFloating,"data-radix-popper-content-wrapper":"",style:{...Z,transform:ie?Z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:le,"--radix-popper-transform-origin":[(a=Q.transformOrigin)===null||a===void 0?void 0:a.x,(l=Q.transformOrigin)===null||l===void 0?void 0:l.y].join(" ")},dir:n.dir},B.createElement(fae,{scope:u,placedSide:ue,onArrowChange:z,arrowX:ye,arrowY:Se,shouldHideArrow:ne},B.createElement(uf.div,Kt({"data-side":ue,"data-align":he},P,{ref:L,style:{...P.style,animation:ie?void 0:"none",opacity:(c=Q.hide)!==null&&c!==void 0&&c.referenceHidden?0:void 0}}))))}),pae="PopperArrow",mae={top:"bottom",right:"left",bottom:"top",left:"right"},gae=B.forwardRef(function(e,t){const{__scopePopper:r,...i}=e,s=dae(pae,r),o=mae[s.placedSide];return B.createElement("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0}},B.createElement(sae,Kt({},i,{ref:t,style:{...i.style,display:"block"}})))});function vae(n){return n!==null}const yae=n=>({name:"transformOrigin",options:n,fn(e){var t,r,i,s,o;const{placement:a,rects:l,middlewareData:c}=e,f=((t=c.arrow)===null||t===void 0?void 0:t.centerOffset)!==0,d=f?0:n.arrowWidth,m=f?0:n.arrowHeight,[g,v]=rG(a),y={start:"0%",center:"50%",end:"100%"}[v],x=((r=(i=c.arrow)===null||i===void 0?void 0:i.x)!==null&&r!==void 0?r:0)+d/2,_=((s=(o=c.arrow)===null||o===void 0?void 0:o.y)!==null&&s!==void 0?s:0)+m/2;let w="",A="";return g==="bottom"?(w=f?y:`${x}px`,A=`${-m}px`):g==="top"?(w=f?y:`${x}px`,A=`${l.floating.height+m}px`):g==="right"?(w=`${-m}px`,A=f?y:`${_}px`):g==="left"&&(w=`${l.floating.width+m}px`,A=f?y:`${_}px`),{data:{x:w,y:A}}}});function rG(n){const[e,t="center"]=n.split("-");return[e,t]}const _ae=lae,xae=uae,wae=hae,Sae=gae;function Aae(n,e){return B.useReducer((t,r)=>{const i=e[t][r];return i??t},n)}const iG=n=>{const{present:e,children:t}=n,r=bae(e),i=typeof t=="function"?t({present:r.isPresent}):B.Children.only(t),s=Th(r.ref,i.ref);return typeof t=="function"||r.isPresent?B.cloneElement(i,{ref:s}):null};iG.displayName="Presence";function bae(n){const[e,t]=B.useState(),r=B.useRef({}),i=B.useRef(n),s=B.useRef("none"),o=n?"mounted":"unmounted",[a,l]=Aae(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return B.useEffect(()=>{const c=py(r.current);s.current=a==="mounted"?c:"none"},[a]),ah(()=>{const c=r.current,u=i.current;if(u!==n){const d=s.current,m=py(c);n?l("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&d!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,l]),ah(()=>{if(e){const c=f=>{const m=py(r.current).includes(f.animationName);f.target===e&&m&&Mg.flushSync(()=>l("ANIMATION_END"))},u=f=>{f.target===e&&(s.current=py(r.current))};return e.addEventListener("animationstart",u),e.addEventListener("animationcancel",c),e.addEventListener("animationend",c),()=>{e.removeEventListener("animationstart",u),e.removeEventListener("animationcancel",c),e.removeEventListener("animationend",c)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:B.useCallback(c=>{c&&(r.current=getComputedStyle(c)),t(c)},[])}}function py(n){return(n==null?void 0:n.animationName)||"none"}function Mae({prop:n,defaultProp:e,onChange:t=()=>{}}){const[r,i]=Cae({defaultProp:e,onChange:t}),s=n!==void 0,o=s?n:r,a=Rh(t),l=B.useCallback(c=>{if(s){const f=typeof c=="function"?c(n):c;f!==n&&a(f)}else i(c)},[s,n,i,a]);return[o,l]}function Cae({defaultProp:n,onChange:e}){const t=B.useState(n),[r]=t,i=B.useRef(r),s=Rh(e);return B.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),t}const Eae=B.forwardRef((n,e)=>B.createElement(uf.span,Kt({},n,{ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...n.style}}))),Tae=Eae,[lx,yme]=Gz("Tooltip",[eG]),cx=eG(),Pae="TooltipProvider",kM="tooltip.open",[_me,RE]=lx(Pae),DE="Tooltip",[Rae,ux]=lx(DE),Dae=n=>{const{__scopeTooltip:e,children:t,open:r,defaultOpen:i=!1,onOpenChange:s,disableHoverableContent:o,delayDuration:a}=n,l=RE(DE,n.__scopeTooltip),c=cx(e),[u,f]=B.useState(null),d=xoe(),m=B.useRef(0),g=o??l.disableHoverableContent,v=a??l.delayDuration,y=B.useRef(!1),[x=!1,_]=Mae({prop:r,defaultProp:i,onChange:P=>{P?(l.onOpen(),document.dispatchEvent(new CustomEvent(kM))):l.onClose(),s==null||s(P)}}),w=B.useMemo(()=>x?y.current?"delayed-open":"instant-open":"closed",[x]),A=B.useCallback(()=>{window.clearTimeout(m.current),y.current=!1,_(!0)},[_]),C=B.useCallback(()=>{window.clearTimeout(m.current),_(!1)},[_]),E=B.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{y.current=!0,_(!0)},v)},[v,_]);return B.useEffect(()=>()=>window.clearTimeout(m.current),[]),B.createElement(_ae,c,B.createElement(Rae,{scope:e,contentId:d,open:x,stateAttribute:w,trigger:u,onTriggerChange:f,onTriggerEnter:B.useCallback(()=>{l.isOpenDelayed?E():A()},[l.isOpenDelayed,E,A]),onTriggerLeave:B.useCallback(()=>{g?C():window.clearTimeout(m.current)},[C,g]),onOpen:A,onClose:C,disableHoverableContent:g},t))},yL="TooltipTrigger",Bae=B.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,i=ux(yL,t),s=RE(yL,t),o=cx(t),a=B.useRef(null),l=Th(e,a,i.onTriggerChange),c=B.useRef(!1),u=B.useRef(!1),f=B.useCallback(()=>c.current=!1,[]);return B.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),B.createElement(xae,Kt({asChild:!0},o),B.createElement(uf.button,Kt({"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute},r,{ref:l,onPointerMove:Sa(n.onPointerMove,d=>{d.pointerType!=="touch"&&!u.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:Sa(n.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:Sa(n.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Sa(n.onFocus,()=>{c.current||i.onOpen()}),onBlur:Sa(n.onBlur,i.onClose),onClick:Sa(n.onClick,i.onClose)})))}),Iae="TooltipPortal",[xme,Lae]=lx(Iae,{forceMount:void 0}),dg="TooltipContent",kae=B.forwardRef((n,e)=>{const t=Lae(dg,n.__scopeTooltip),{forceMount:r=t.forceMount,side:i="top",...s}=n,o=ux(dg,n.__scopeTooltip);return B.createElement(iG,{present:r||o.open},o.disableHoverableContent?B.createElement(sG,Kt({side:i},s,{ref:e})):B.createElement(Oae,Kt({side:i},s,{ref:e})))}),Oae=B.forwardRef((n,e)=>{const t=ux(dg,n.__scopeTooltip),r=RE(dg,n.__scopeTooltip),i=B.useRef(null),s=Th(e,i),[o,a]=B.useState(null),{trigger:l,onClose:c}=t,u=i.current,{onPointerInTransitChange:f}=r,d=B.useCallback(()=>{a(null),f(!1)},[f]),m=B.useCallback((g,v)=>{const y=g.currentTarget,x={x:g.clientX,y:g.clientY},_=Gae(x,y.getBoundingClientRect()),w=Hae(x,_),A=Vae(v.getBoundingClientRect()),C=jae([...w,...A]);a(C),f(!0)},[f]);return B.useEffect(()=>()=>d(),[d]),B.useEffect(()=>{if(l&&u){const g=y=>m(y,u),v=y=>m(y,l);return l.addEventListener("pointerleave",g),u.addEventListener("pointerleave",v),()=>{l.removeEventListener("pointerleave",g),u.removeEventListener("pointerleave",v)}}},[l,u,m,d]),B.useEffect(()=>{if(o){const g=v=>{const y=v.target,x={x:v.clientX,y:v.clientY},_=(l==null?void 0:l.contains(y))||(u==null?void 0:u.contains(y)),w=!Wae(x,o);_?d():w&&(d(),c())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[l,u,o,c,d]),B.createElement(sG,Kt({},n,{ref:s}))}),[Fae,Nae]=lx(DE,{isInside:!1}),sG=B.forwardRef((n,e)=>{const{__scopeTooltip:t,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=n,l=ux(dg,t),c=cx(t),{onClose:u}=l;return B.useEffect(()=>(document.addEventListener(kM,u),()=>document.removeEventListener(kM,u)),[u]),B.useEffect(()=>{if(l.trigger){const f=d=>{const m=d.target;m!=null&&m.contains(l.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,u]),B.createElement(moe,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:u},B.createElement(wae,Kt({"data-state":l.stateAttribute},c,a,{ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"}}),B.createElement(kz,null,r),B.createElement(Fae,{scope:t,isInside:!0},B.createElement(Tae,{id:l.contentId,role:"tooltip"},i||r))))}),Uae="TooltipArrow",zae=B.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,i=cx(t);return Nae(Uae,t).isInside?null:B.createElement(Sae,Kt({},i,r,{ref:e}))});function Gae(n,e){const t=Math.abs(e.top-n.y),r=Math.abs(e.bottom-n.y),i=Math.abs(e.right-n.x),s=Math.abs(e.left-n.x);switch(Math.min(t,r,i,s)){case s:return"left";case i:return"right";case t:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Hae(n,e,t=5){const r=[];switch(e){case"top":r.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":r.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":r.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":r.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return r}function Vae(n){const{top:e,right:t,bottom:r,left:i}=n;return[{x:i,y:e},{x:t,y:e},{x:t,y:r},{x:i,y:r}]}function Wae(n,e){const{x:t,y:r}=n;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,l=e[s].y,c=e[o].x,u=e[o].y;l>r!=u>r&&t<(c-a)*(r-l)/(u-l)+a&&(i=!i)}return i}function jae(n){const e=n.slice();return e.sort((t,r)=>t.x<r.x?-1:t.x>r.x?1:t.y<r.y?-1:t.y>r.y?1:0),$ae(e)}function $ae(n){if(n.length<=1)return n.slice();const e=[];for(let r=0;r<n.length;r++){const i=n[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const t=[];for(let r=n.length-1;r>=0;r--){const i=n[r];for(;t.length>=2;){const s=t[t.length-1],o=t[t.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))t.pop();else break}t.push(i)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}const Xae=Dae,Jae=Bae,Kae=kae,Yae=zae;function Qae(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function Zt(n,e){if(n==null)return{};var t=Qae(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}let bn;(function(n){n[n.UNSUPPORTED_INPUT=0]="UNSUPPORTED_INPUT",n[n.NO_COMPONENT_FOR_TYPE=1]="NO_COMPONENT_FOR_TYPE",n[n.UNKNOWN_INPUT=2]="UNKNOWN_INPUT",n[n.DUPLICATE_KEYS=3]="DUPLICATE_KEYS",n[n.ALREADY_REGISTERED_TYPE=4]="ALREADY_REGISTERED_TYPE",n[n.CLIPBOARD_ERROR=5]="CLIPBOARD_ERROR",n[n.THEME_ERROR=6]="THEME_ERROR",n[n.PATH_DOESNT_EXIST=7]="PATH_DOESNT_EXIST",n[n.INPUT_TYPE_OVERRIDE=8]="INPUT_TYPE_OVERRIDE",n[n.EMPTY_KEY=9]="EMPTY_KEY"})(bn||(bn={}));const qae={[bn.UNSUPPORTED_INPUT]:(n,e)=>[`An input with type \`${n}\` input was found at path \`${e}\` but it's not supported yet.`],[bn.NO_COMPONENT_FOR_TYPE]:(n,e)=>[`Type \`${n}\` found at path \`${e}\` can't be displayed in panel because no component supports it yet.`],[bn.UNKNOWN_INPUT]:(n,e)=>[`input at path \`${n}\` is not recognized.`,e],[bn.DUPLICATE_KEYS]:(n,e,t)=>[`Key \`${n}\` of path \`${e}\` already exists at path \`${t}\`. Even nested keys need to be unique. Rename one of the keys.`],[bn.ALREADY_REGISTERED_TYPE]:n=>[`Type ${n} has already been registered. You can't register a component with the same type.`],[bn.CLIPBOARD_ERROR]:n=>["Error copying the value",n],[bn.THEME_ERROR]:(n,e)=>[`Error accessing the theme \`${n}.${e}\` value.`],[bn.PATH_DOESNT_EXIST]:n=>[`Error getting the value at path \`${n}\`. There is probably an error in your \`render\` function.`],[bn.PATH_DOESNT_EXIST]:n=>[`Error accessing the value at path \`${n}\``],[bn.INPUT_TYPE_OVERRIDE]:(n,e,t)=>[`Input at path \`${n}\` already exists with type: \`${e}\`. Its type cannot be overridden with type \`${t}\`.`],[bn.EMPTY_KEY]:()=>["Keys can not be empty, if you want to hide a label use whitespace."]};function oG(n,e,...t){const[r,...i]=qae[e](...t);console[n]("LEVA: "+r,...i)}const Ma=oG.bind(null,"warn"),Zae=oG.bind(null,"log"),ele=["value"],tle=["schema"],nle=["value"],aG=[],Qu={};function _L(n){let{value:e}=n,t=Zt(n,ele);for(let r of aG){const i=r(e,t);if(i)return i}}function rl(n,e){let{schema:t}=e,r=Zt(e,tle);if(n in Qu){Ma(bn.ALREADY_REGISTERED_TYPE,n);return}aG.push((i,s)=>t(i,s)&&n),Qu[n]=r}function eA(n,e,t,r){const{normalize:i}=Qu[n];if(i)return i(e,t,r);if(typeof e!="object"||!("value"in e))return{value:e};const{value:s}=e,o=Zt(e,nle);return{value:s,settings:o}}function rle(n,e,t,r,i,s){const{sanitize:o}=Qu[n];return o?o(e,t,r,i,s):e}function xL(n,e,t){const{format:r}=Qu[n];return r?r(e,t):e}function ile(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function wL(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function dt(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?wL(Object(t),!0).forEach(function(r){ile(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):wL(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}const hc=(n,e,t)=>n>t?t:n<e?e:n,sle=n=>{if(n===""||typeof n=="number")return n;try{const e=El(n);if(!isNaN(e))return e}catch{}return parseFloat(n)},ole=Math.log(10);function SL(n){let e=Math.abs(+String(n).replace(".",""));if(e===0)return .01;for(;e!==0&&e%10===0;)e/=10;const t=Math.floor(Math.log(e)/ole)+1,r=Math.floor(Math.log10(Math.abs(n))),i=Math.pow(10,r-t);return Math.max(i,.001)}const j1=(n,e,t)=>t===e?0:(hc(n,e,t)-e)/(t-e),$1=(n,e,t)=>n*(t-e)+e,ale=()=>"_"+Math.random().toString(36).substr(2,9),AL=/\(([0-9+\-*/^ .]+)\)/,bL=/(\d+(?:\.\d+)?) ?\^ ?(\d+(?:\.\d+)?)/,ML=/(\d+(?:\.\d+)?) ?\* ?(\d+(?:\.\d+)?)/,CL=/(\d+(?:\.\d+)?) ?\/ ?(\d+(?:\.\d+)?)/,EL=/(\d+(?:\.\d+)?) ?\+ ?(\d+(?:\.\d+)?)/,TL=/(\d+(?:\.\d+)?) ?- ?(\d+(?:\.\d+)?)/;function El(n){if(isNaN(Number(n)))if(AL.test(n)){const e=n.replace(AL,(t,r)=>String(El(r)));return El(e)}else if(bL.test(n)){const e=n.replace(bL,(t,r,i)=>String(Math.pow(Number(r),Number(i))));return El(e)}else if(ML.test(n)){const e=n.replace(ML,(t,r,i)=>String(Number(r)*Number(i)));return El(e)}else if(CL.test(n)){const e=n.replace(CL,(t,r,i)=>{if(i!=0)return String(Number(r)/Number(i));throw new Error("Division by zero")});return El(e)}else if(EL.test(n)){const e=n.replace(EL,(t,r,i)=>String(Number(r)+Number(i)));return El(e)}else if(TL.test(n)){const e=n.replace(TL,(t,r,i)=>String(Number(r)-Number(i)));return El(e)}else return Number(n);return Number(n)}function lle(n,e){return e.reduce((t,r)=>(n&&n.hasOwnProperty(r)&&(t[r]=n[r]),t),{})}function cle(n,e){const t=dt({},n);return e.forEach(r=>r in n&&delete t[r]),t}function ule(n,e){return n.reduce((t,r,i)=>Object.assign(t,{[e[i]]:r}),{})}function lG(n){return Object.prototype.toString.call(n)==="[object Object]"}const fle=n=>lG(n)&&Object.keys(n).length===0;let _o;(function(n){n.BUTTON="BUTTON",n.BUTTON_GROUP="BUTTON_GROUP",n.MONITOR="MONITOR",n.FOLDER="FOLDER"})(_o||(_o={}));let Ao;(function(n){n.SELECT="SELECT",n.IMAGE="IMAGE",n.NUMBER="NUMBER",n.COLOR="COLOR",n.STRING="STRING",n.BOOLEAN="BOOLEAN",n.INTERVAL="INTERVAL",n.VECTOR3D="VECTOR3D",n.VECTOR2D="VECTOR2D"})(Ao||(Ao={}));const dle=["type","__customInput"],hle=["render","label","optional","order","disabled","hint","onChange","onEditStart","onEditEnd","transient"],ple=["type"];function cG(n,e,t={},r){var i,s;if(typeof n!="object"||Array.isArray(n))return{type:r,input:n,options:dt({key:e,label:e,optional:!1,disabled:!1,order:0},t)};if("__customInput"in n){const{type:C,__customInput:E}=n,P=Zt(n,dle);return cG(E,e,P,C)}const{render:o,label:a,optional:l,order:c=0,disabled:u,hint:f,onChange:d,onEditStart:m,onEditEnd:g,transient:v}=n,y=Zt(n,hle),x=dt({render:o,key:e,label:a??e,hint:f,transient:v??!!d,onEditStart:m,onEditEnd:g,disabled:u,optional:l,order:c},t);let{type:_}=y,w=Zt(y,ple);if(_=r??_,_ in _o)return{type:_,input:w,options:x};let A;return r&&lG(w)&&"value"in w?A=w.value:A=fle(w)?void 0:w,{type:_,input:A,options:dt(dt({},x),{},{onChange:d,optional:(i=x.optional)!==null&&i!==void 0?i:!1,disabled:(s=x.disabled)!==null&&s!==void 0?s:!1})}}function mle(n,e,t,r){const i=cG(n,e),{type:s,input:o,options:a}=i;if(s)return s in _o?i:{type:s,input:eA(s,o,t,r),options:a};let l=_L(o);return l?{type:l,input:eA(l,o,t,r),options:a}:(l=_L({value:o}),l?{type:l,input:eA(l,{value:o},t,r),options:a}:!1)}function PL(n,e,t,r,i){const{value:s,type:o,settings:a}=n;n.value=uG({type:o,value:s,settings:a},e,t,r),n.fromPanel=i}const gle=function(e,t,r){this.type="LEVA_ERROR",this.message="LEVA: "+e,this.previousValue=t,this.error=r};function uG({type:n,value:e,settings:t},r,i,s){const o=n!=="SELECT"&&typeof r=="function"?r(e):r;let a;try{a=rle(n,o,t,e,i,s)}catch(l){throw new gle(`The value \`${r}\` did not result in a correct value.`,e,l)}return lg(a,e)?e:a}const fG=(n,e,t=!1)=>{let r=0;return function(){const i=arguments,s=t&&!r,o=()=>n.apply(this,i);window.clearTimeout(r),r=window.setTimeout(o,e),s&&o()}},dG=n=>n.shiftKey?5:n.altKey?1/5:1;function vle(n,e){const t=console.error;console.error=()=>{},qF.render(n,e),console.error=t}const yle=["value"],_le=["min","max"],xle=n=>{if(typeof n=="number")return!0;if(typeof n=="string"){const e=parseFloat(n);return isNaN(e)?!1:n.substring((""+e).length).trim().length<4}return!1},hG=(n,{min:e=-1/0,max:t=1/0,suffix:r})=>{const i=parseFloat(n);if(n===""||isNaN(i))throw Error("Invalid number");const s=hc(i,e,t);return r?s+r:s},wle=(n,{pad:e=0,suffix:t})=>{const r=parseFloat(n).toFixed(e);return t?r+t:r},pG=n=>{let{value:e}=n,t=Zt(n,yle);const{min:r=-1/0,max:i=1/0}=t,s=Zt(t,_le);let o=parseFloat(e);const a=typeof e=="string"?e.substring((""+o).length):void 0;o=hc(o,r,i);let l=t.step;l||(Number.isFinite(r)?Number.isFinite(i)?l=+(Math.abs(i-r)/100).toPrecision(1):l=+(Math.abs(o-r)/100).toPrecision(1):Number.isFinite(i)&&(l=+(Math.abs(i-o)/100).toPrecision(1)));const c=l?SL(l)*10:SL(o);l=l||c/10;const u=Math.round(hc(Math.log10(1/c),0,2));return{value:a?o+a:o,settings:dt({initialValue:o,step:l,pad:u,min:r,max:i,suffix:a},s)}},mG=(n,{step:e,initialValue:t})=>{const r=Math.round((n-t)/e);return t+r*e};var gG=Object.freeze({__proto__:null,schema:xle,sanitize:hG,format:wle,normalize:pG,sanitizeStep:mG});function Gn(){return Gn=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Gn.apply(this,arguments)}const vG=B.createContext({});function qr(){return B.useContext(vG)}const BE=B.createContext(null),yG=B.createContext(null),_G=B.createContext(null);function n0(){return B.useContext(yG)}function Sle(){return B.useContext(_G)}const xG=()=>({colors:{elevation1:"#292d39",elevation2:"#181c20",elevation3:"#373c4b",accent1:"#0066dc",accent2:"#007bff",accent3:"#3c93ff",highlight1:"#535760",highlight2:"#8c92a4",highlight3:"#fefefe",vivid1:"#ffcc00",folderWidgetColor:"$highlight2",folderTextColor:"$highlight3",toolTipBackground:"$highlight3",toolTipText:"$elevation2"},radii:{xs:"2px",sm:"3px",lg:"10px"},space:{xs:"3px",sm:"6px",md:"10px",rowGap:"7px",colGap:"7px"},fonts:{mono:"ui-monospace, SFMono-Regular, Menlo, 'Roboto Mono', monospace",sans:"system-ui, sans-serif"},fontSizes:{root:"11px",toolTip:"$root"},sizes:{rootWidth:"280px",controlWidth:"160px",numberInputMinWidth:"38px",scrubberWidth:"8px",scrubberHeight:"16px",rowHeight:"24px",folderTitleHeight:"20px",checkboxSize:"16px",joystickWidth:"100px",joystickHeight:"100px",colorPickerWidth:"$controlWidth",colorPickerHeight:"100px",imagePreviewWidth:"$controlWidth",imagePreviewHeight:"100px",monitorHeight:"60px",titleBarHeight:"39px"},shadows:{level1:"0 0 9px 0 #00000088",level2:"0 4px 14px #00000033"},borderWidths:{root:"0px",input:"1px",focus:"1px",hover:"1px",active:"1px",folder:"1px"},fontWeights:{label:"normal",folder:"normal",button:"normal"}});function my(n,e){const[t,r]=n.split(" "),i={};return t!=="none"&&(i.boxShadow=`${e.inset?"inset ":""}0 0 0 $borderWidths${[e.key]} $colors${t!=="default"&&t||e.borderColor}`),r&&(i.backgroundColor=r),i}const Op={$inputStyle:()=>n=>my(n,{key:"$input",borderColor:"$highlight1",inset:!0}),$focusStyle:()=>n=>my(n,{key:"$focus",borderColor:"$accent2"}),$hoverStyle:()=>n=>my(n,{key:"$hover",borderColor:"$accent1",inset:!0}),$activeStyle:()=>n=>my(n,{key:"$active",borderColor:"$accent1",inset:!0})},{styled:ut,css:wme,createTheme:Ale,globalCss:ble,keyframes:Sme}=coe({prefix:"leva",theme:xG(),utils:dt(dt({},Op),{},{$flex:()=>({display:"flex",alignItems:"center"}),$flexCenter:()=>({display:"flex",alignItems:"center",justifyContent:"center"}),$reset:()=>({outline:"none",fontSize:"inherit",fontWeight:"inherit",color:"inherit",fontFamily:"inherit",border:"none",backgroundColor:"transparent",appearance:"none"}),$draggable:()=>({touchAction:"none",WebkitUserDrag:"none",userSelect:"none"}),$focus:n=>({"&:focus":Op.$focusStyle()(n)}),$focusWithin:n=>({"&:focus-within":Op.$focusStyle()(n)}),$hover:n=>({"&:hover":Op.$hoverStyle()(n)}),$active:n=>({"&:active":Op.$activeStyle()(n)})})}),Mle=ble({".leva__panel__dragged":{WebkitUserDrag:"none",userSelect:"none",input:{userSelect:"none"},"*":{cursor:"ew-resize !important"}}});function Cle(n){const e=xG();if(!n)return{theme:e,className:""};Object.keys(n).forEach(r=>{Object.assign(e[r],n[r])});const t=Ale(e);return{theme:e,className:t.className}}function ka(n,e){const{theme:t}=B.useContext(BE);if(!(n in t)||!(e in t[n]))return Ma(bn.THEME_ERROR,n,e),"";let r=e;for(;;){let i=t[n][r];if(typeof i=="string"&&i.charAt(0)==="$")r=i.substr(1);else return i}}const wG=ut("input",{$reset:"",padding:"0 $sm",width:0,minWidth:0,flex:1,height:"100%",variants:{levaType:{number:{textAlign:"right"}},as:{textarea:{padding:"$sm"}}}}),SG=ut("div",{$draggable:"",height:"100%",$flexCenter:"",position:"relative",padding:"0 $xs",fontSize:"0.8em",opacity:.8,cursor:"default",touchAction:"none",[`& + ${wG}`]:{paddingLeft:0}}),Ele=ut(SG,{cursor:"ew-resize",marginRight:"-$xs",textTransform:"uppercase",opacity:.3,"&:hover":{opacity:1},variants:{dragging:{true:{backgroundColor:"$accent2",opacity:1}}}}),Tle=ut("div",{$flex:"",position:"relative",borderRadius:"$sm",overflow:"hidden",color:"inherit",height:"$rowHeight",backgroundColor:"$elevation3",$inputStyle:"$elevation1",$hover:"",$focusWithin:"",variants:{textArea:{true:{height:"auto"}}}}),Ple=["innerLabel","value","onUpdate","onChange","onKeyDown","type","id","inputType","rows"],Rle=["onUpdate"];function IE(n){let{innerLabel:e,value:t,onUpdate:r,onChange:i,onKeyDown:s,type:o,id:a,inputType:l="text",rows:c=0}=n,u=Zt(n,Ple);const{id:f,emitOnEditStart:d,emitOnEditEnd:m,disabled:g}=qr(),v=a||f,y=B.useRef(null),x=c>0,_=x?"textarea":"input",w=B.useCallback(E=>P=>{const b=P.currentTarget.value;E(b)},[]);ee.useEffect(()=>{const E=y.current,P=w(b=>{r(b),m()});return E==null||E.addEventListener("blur",P),()=>E==null?void 0:E.removeEventListener("blur",P)},[w,r,m]);const A=B.useCallback(E=>{E.key==="Enter"&&w(r)(E)},[w,r]),C=Object.assign({as:_},x?{rows:c}:{},u);return ee.createElement(Tle,{textArea:x},e&&typeof e=="string"?ee.createElement(SG,null,e):e,ee.createElement(wG,Gn({levaType:o,ref:y,id:v,type:l,autoComplete:"off",spellCheck:"false",value:t,onChange:w(i),onFocus:()=>d(),onKeyPress:A,onKeyDown:s,disabled:g},C)))}function Dle(n){let{onUpdate:e}=n,t=Zt(n,Rle);const r=B.useCallback(s=>e(sle(s)),[e]),i=B.useCallback(s=>{const o=s.key==="ArrowUp"?1:s.key==="ArrowDown"?-1:0;if(o){s.preventDefault();const a=s.altKey?.1:s.shiftKey?10:1;e(l=>parseFloat(l)+o*a)}},[e]);return ee.createElement(IE,Gn({},t,{onUpdate:r,onKeyDown:i,type:"number"}))}const X1=ut("div",{}),OM=ut("div",{position:"relative",background:"$elevation2",transition:"height 300ms ease",variants:{fill:{true:{},false:{}},flat:{false:{},true:{}},isRoot:{true:{},false:{paddingLeft:"$md","&::after":{content:'""',position:"absolute",left:0,top:0,width:"$borderWidths$folder",height:"100%",backgroundColor:"$folderWidgetColor",opacity:.4,transform:"translateX(-50%)"}}}},compoundVariants:[{isRoot:!0,fill:!1,css:{overflowY:"auto",maxHeight:"calc(100vh - 20px - $$titleBarHeight)"}},{isRoot:!0,flat:!1,css:{borderRadius:"$lg"}}]}),Ble=ut("div",{$flex:"",color:"$folderTextColor",userSelect:"none",cursor:"pointer",height:"$folderTitleHeight",fontWeight:"$folder","> svg":{marginLeft:-4,marginRight:4,cursor:"pointer",fill:"$folderWidgetColor",opacity:.6},"&:hover > svg":{fill:"$folderWidgetColor"},[`&:hover + ${OM}::after`]:{opacity:.6},[`${X1}:hover > & + ${OM}::after`]:{opacity:.6},[`${X1}:hover > & > svg`]:{opacity:1}}),AG=ut("div",{position:"relative",display:"grid",gridTemplateColumns:"100%",rowGap:"$rowGap",transition:"opacity 250ms ease",variants:{toggled:{true:{opacity:1,transitionDelay:"250ms"},false:{opacity:0,transitionDelay:"0ms",pointerEvents:"none"}},isRoot:{true:{"& > div":{paddingLeft:"$md",paddingRight:"$md"},"& > div:first-of-type":{paddingTop:"$sm"},"& > div:last-of-type":{paddingBottom:"$sm"},[`> ${X1}:not(:first-of-type)`]:{paddingTop:"$sm",marginTop:"$md",borderTop:"$borderWidths$folder solid $colors$elevation1"}}}}}),bG=ut("div",{position:"relative",zIndex:100,display:"grid",rowGap:"$rowGap",gridTemplateRows:"minmax($sizes$rowHeight, max-content)",alignItems:"center",color:"$highlight2",[`${AG} > &`]:{"&:first-of-type":{marginTop:"$rowGap"},"&:last-of-type":{marginBottom:"$rowGap"}},variants:{disabled:{true:{pointerEvents:"none"},false:{"&:hover,&:focus-within":{color:"$highlight3"}}}}}),MG=ut(bG,{gridTemplateColumns:"auto $sizes$controlWidth",columnGap:"$colGap"}),Ile=ut("div",{$flex:"",height:"100%",position:"relative",overflow:"hidden","& > div":{marginLeft:"$colGap",padding:"0 $xs",opacity:.4},"& > div:hover":{opacity:.8},"& > div > svg":{display:"none",cursor:"pointer",width:13,minWidth:13,height:13,backgroundColor:"$elevation2"},"&:hover > div > svg":{display:"block"},variants:{align:{top:{height:"100%",alignItems:"flex-start",paddingTop:"$sm"}}}}),Lle=ut("input",{$reset:"",height:0,width:0,opacity:0,margin:0,"& + label":{position:"relative",$flexCenter:"",height:"100%",userSelect:"none",cursor:"pointer",paddingLeft:2,paddingRight:"$sm",pointerEvents:"auto"},"& + label:after":{content:'""',width:6,height:6,backgroundColor:"$elevation3",borderRadius:"50%",$activeStyle:""},"&:focus + label:after":{$focusStyle:""},"& + label:active:after":{backgroundColor:"$accent1",$focusStyle:""},"&:checked + label:after":{backgroundColor:"$accent1"}}),FM=ut("label",{fontWeight:"$label",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap","& > svg":{display:"block"}}),kle=ut("div",{opacity:1,variants:{disabled:{true:{opacity:.6,pointerEvents:"none",[`& ${FM}`]:{pointerEvents:"auto"}}}}}),CG=ut("div",{position:"fixed",top:0,bottom:0,right:0,left:0,zIndex:1e3,userSelect:"none"}),Ole=ut("div",{background:"$toolTipBackground",fontFamily:"$sans",fontSize:"$toolTip",padding:"$xs $sm",color:"$toolTipText",borderRadius:"$xs",boxShadow:"$level2",maxWidth:260}),Fle=ut(Yae,{fill:"$toolTipBackground"});function LE({children:n}){const{className:e}=B.useContext(BE);return ee.createElement(Dse,{className:e},n)}const Nle=["align"];function Ule(){const{id:n,disable:e,disabled:t}=qr();return ee.createElement(ee.Fragment,null,ee.createElement(Lle,{id:n+"__disable",type:"checkbox",checked:!t,onChange:()=>e(!t)}),ee.createElement("label",{htmlFor:n+"__disable"}))}function zle(n){const{id:e,optional:t,hint:r}=qr(),i=n.htmlFor||(e?{htmlFor:e}:null),s=!r&&typeof n.children=="string"?{title:n.children}:null;return ee.createElement(ee.Fragment,null,t&&ee.createElement(Ule,null),r!==void 0?ee.createElement(Xae,null,ee.createElement(Jae,{asChild:!0},ee.createElement(FM,Gn({},i,n))),ee.createElement(Kae,{side:"top",sideOffset:2},ee.createElement(Ole,null,r,ee.createElement(Fle,null)))):ee.createElement(FM,Gn({},i,s,n)))}function To(n){let{align:e}=n,t=Zt(n,Nle);const{value:r,label:i,key:s,disabled:o}=qr(),{hideCopyButton:a}=Sle(),l=!a&&s!==void 0,[c,u]=B.useState(!1),f=async()=>{try{await navigator.clipboard.writeText(JSON.stringify({[s]:r??""})),u(!0)}catch{Ma(bn.CLIPBOARD_ERROR,{[s]:r})}};return ee.createElement(Ile,{align:e,onPointerLeave:()=>u(!1)},ee.createElement(zle,t),l&&!o&&ee.createElement("div",{title:`Click to copy ${typeof i=="string"?i:s} value`},c?ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},ee.createElement("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),ee.createElement("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm9.707 5.707a1 1 0 00-1.414-1.414L9 12.586l-1.293-1.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})):ee.createElement("svg",{onClick:f,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},ee.createElement("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),ee.createElement("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"}))))}const Gle=["toggled"],Hle=ut("svg",{fill:"currentColor",transition:"transform 350ms ease, fill 250ms ease"});function kE(n){let{toggled:e}=n,t=Zt(n,Gle);return ee.createElement(Hle,Gn({width:"9",height:"5",viewBox:"0 0 9 5",xmlns:"http://www.w3.org/2000/svg",style:{transform:`rotate(${e?0:-90}deg)`}},t),ee.createElement("path",{d:"M3.8 4.4c.4.3 1 .3 1.4 0L8 1.7A1 1 0 007.4 0H1.6a1 1 0 00-.7 1.7l3 2.7z"}))}const Vle=["input"];function Zs(n){let{input:e}=n,t=Zt(n,Vle);return e?ee.createElement(MG,t):ee.createElement(bG,t)}function EG({value:n,type:e,settings:t,setValue:r}){const[i,s]=B.useState(xL(e,n,t)),o=B.useRef(n),a=B.useRef(t);a.current=t;const l=B.useCallback(u=>s(xL(e,u,a.current)),[e]),c=B.useCallback(u=>{try{r(u)}catch(f){const{type:d,previousValue:m}=f;if(d!=="LEVA_ERROR")throw f;l(m)}},[l,r]);return B.useEffect(()=>{lg(n,o.current)||l(n),o.current=n},[n,l]),{displayValue:i,onChange:s,onUpdate:c}}function r0(n,e){const{emitOnEditStart:t,emitOnEditEnd:r}=qr();return Nq(i=>{i.first&&(document.body.classList.add("leva__panel__dragged"),t==null||t());const s=n(i);return i.last&&(document.body.classList.remove("leva__panel__dragged"),r==null||r()),s},e)}function Wle(n){const e=B.useRef(null),t=B.useRef(null),r=B.useRef(!1);return B.useEffect(()=>{const i=fG(()=>{e.current.width=e.current.offsetWidth*window.devicePixelRatio,e.current.height=e.current.offsetHeight*window.devicePixelRatio,n(e.current,t.current)},250);return window.addEventListener("resize",i),r.current||(i(),r.current=!0),()=>window.removeEventListener("resize",i)},[n]),B.useEffect(()=>{t.current=e.current.getContext("2d")},[]),[e,t]}function TG(){const n=B.useRef(null),e=B.useRef({x:0,y:0}),t=B.useCallback(r=>{Object.assign(e.current,r),n.current&&(n.current.style.transform=`translate3d(${e.current.x}px, ${e.current.y}px, 0)`)},[]);return[n,t]}const jle=["__refCount"],tA=(n,e)=>{if(!n[e])return null;const t=n[e];return Zt(t,jle)};function $le(n){const e=n0(),[t,r]=B.useState(tA(e.getData(),n)),i=B.useCallback(c=>e.setValueAtPath(n,c,!0),[n,e]),s=B.useCallback(c=>e.setSettingsAtPath(n,c),[n,e]),o=B.useCallback(c=>e.disableInputAtPath(n,c),[n,e]),a=B.useCallback(()=>e.emitOnEditStart(n),[n,e]),l=B.useCallback(()=>e.emitOnEditEnd(n),[n,e]);return B.useEffect(()=>{r(tA(e.getData(),n));const c=e.useStore.subscribe(u=>tA(u.data,n),r,{equalityFn:Kg});return()=>c()},[e,n]),[t,{set:i,setSettings:s,disable:o,storeId:e.storeId,emitOnEditStart:a,emitOnEditEnd:l}]}const Xle=ut("div",{variants:{hasRange:{true:{position:"relative",display:"grid",gridTemplateColumns:"auto $sizes$numberInputMinWidth",columnGap:"$colGap",alignItems:"center"}}}}),PG=ut("div",{position:"relative",width:"100%",height:2,borderRadius:"$xs",backgroundColor:"$elevation1"}),NM=ut("div",{position:"absolute",width:"$scrubberWidth",height:"$scrubberHeight",borderRadius:"$xs",boxShadow:"0 0 0 2px $colors$elevation2",backgroundColor:"$accent2",cursor:"pointer",$active:"none $accent1",$hover:"none $accent3",variants:{position:{left:{borderTopRightRadius:0,borderBottomRightRadius:0,transform:"translateX(calc(-0.5 * ($sizes$scrubberWidth + 4px)))"},right:{borderTopLeftRadius:0,borderBottomLeftRadius:0,transform:"translateX(calc(0.5 * ($sizes$scrubberWidth + 4px)))"}}}}),RG=ut("div",{position:"relative",$flex:"",height:"100%",cursor:"pointer",touchAction:"none"}),DG=ut("div",{position:"absolute",height:"100%",backgroundColor:"$accent2"});function Jle({value:n,min:e,max:t,onDrag:r,step:i,initialValue:s}){const o=B.useRef(null),a=B.useRef(null),l=B.useRef(0),c=ka("sizes","scrubberWidth"),u=r0(({event:d,first:m,xy:[g],movement:[v],memo:y})=>{if(m){const{width:_,left:w}=o.current.getBoundingClientRect();l.current=_-parseFloat(c),y=(d==null?void 0:d.target)===a.current?n:$1((g-w)/_,e,t)}const x=y+$1(v/l.current,0,t-e);return r(mG(x,{step:i,initialValue:s})),y}),f=j1(n,e,t);return ee.createElement(RG,Gn({ref:o},u()),ee.createElement(PG,null,ee.createElement(DG,{style:{left:0,right:`${(1-f)*100}%`}})),ee.createElement(NM,{ref:a,style:{left:`calc(${f} * (100% - ${c}))`}}))}const Kle=ee.memo(({label:n,onUpdate:e,step:t,innerLabelTrim:r})=>{const[i,s]=B.useState(!1),o=r0(({active:a,delta:[l],event:c,memo:u=0})=>(s(a),u+=l/2,Math.abs(u)>=1&&(e(f=>parseFloat(f)+Math.floor(u)*t*dG(c)),u=0),u));return ee.createElement(Ele,Gn({dragging:i,title:n.length>1?n:""},o()),n.slice(0,r))});function BG({label:n,id:e,displayValue:t,onUpdate:r,onChange:i,settings:s,innerLabelTrim:o=1}){const a=o>0&&ee.createElement(Kle,{label:n,step:s.step,onUpdate:r,innerLabelTrim:o});return ee.createElement(Dle,{id:e,value:String(t),onUpdate:r,onChange:i,innerLabel:a})}function Yle(){const n=qr(),{label:e,value:t,onUpdate:r,settings:i,id:s}=n,{min:o,max:a}=i,l=a!==1/0&&o!==-1/0;return ee.createElement(Zs,{input:!0},ee.createElement(To,null,e),ee.createElement(Xle,{hasRange:l},l&&ee.createElement(Jle,Gn({value:parseFloat(t),onDrag:r},i)),ee.createElement(BG,Gn({},n,{id:s,label:"value",innerLabelTrim:l?0:1}))))}const{sanitizeStep:Qle}=gG,qle=Zt(gG,["sanitizeStep"]);var Zle=dt({component:Yle},qle);const ece=(n,e)=>Di().schema({options:Di().passesAnyOf(Di().object(),Di().array())}).test(e),tce=(n,{values:e})=>{if(e.indexOf(n)<0)throw Error("Selected value doesn't match Select options");return n},nce=(n,{values:e})=>e.indexOf(n),rce=n=>{let{value:e,options:t}=n,r,i;return Array.isArray(t)?(i=t,r=t.map(s=>String(s))):(i=Object.values(t),r=Object.keys(t)),"value"in n?i.includes(e)||(r.unshift(String(e)),i.unshift(e)):e=i[0],Object.values(t).includes(e)||(t[String(e)]=e),{value:e,settings:{keys:r,values:i}}};var ice=Object.freeze({__proto__:null,schema:ece,sanitize:tce,format:nce,normalize:rce});const sce=ut("div",{$flexCenter:"",position:"relative","> svg":{pointerEvents:"none",position:"absolute",right:"$md"}}),UM=ut("select",{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0}),oce=ut("div",{display:"flex",alignItems:"center",width:"100%",height:"$rowHeight",backgroundColor:"$elevation3",borderRadius:"$sm",padding:"0 $sm",cursor:"pointer",[`${UM}:focus + &`]:{$focusStyle:""},[`${UM}:hover + &`]:{$hoverStyle:""}});function ace({displayValue:n,value:e,onUpdate:t,id:r,settings:i,disabled:s}){const{keys:o,values:a}=i,l=B.useRef();return e===a[n]&&(l.current=o[n]),ee.createElement(sce,null,ee.createElement(UM,{id:r,value:n,onChange:c=>t(a[Number(c.currentTarget.value)]),disabled:s},o.map((c,u)=>ee.createElement("option",{key:c,value:u},c))),ee.createElement(oce,null,l.current),ee.createElement(kE,{toggled:!0}))}function lce(){const{label:n,value:e,displayValue:t,onUpdate:r,id:i,disabled:s,settings:o}=qr();return ee.createElement(Zs,{input:!0},ee.createElement(To,null,n),ee.createElement(ace,{id:i,value:e,displayValue:t,onUpdate:r,settings:o,disabled:s}))}var cce=dt({component:lce},ice);const uce=n=>Di().string().test(n),fce=n=>{if(typeof n!="string")throw Error("Invalid string");return n},dce=({value:n,editable:e=!0,rows:t=!1})=>({value:n,settings:{editable:e,rows:typeof t=="number"?t:t?5:0}});var hce=Object.freeze({__proto__:null,schema:uce,sanitize:fce,normalize:dce});const pce=["displayValue","onUpdate","onChange","editable"],mce=ut("div",{whiteSpace:"pre-wrap"});function gce(n){let{displayValue:e,onUpdate:t,onChange:r,editable:i=!0}=n,s=Zt(n,pce);return i?ee.createElement(IE,Gn({value:e,onUpdate:t,onChange:r},s)):ee.createElement(mce,null,e)}function vce(){const{label:n,settings:e,displayValue:t,onUpdate:r,onChange:i}=qr();return ee.createElement(Zs,{input:!0},ee.createElement(To,null,n),ee.createElement(gce,Gn({displayValue:t,onUpdate:r,onChange:i},e)))}var yce=dt({component:vce},hce);const _ce=n=>Di().boolean().test(n),xce=n=>{if(typeof n!="boolean")throw Error("Invalid boolean");return n};var wce=Object.freeze({__proto__:null,schema:_ce,sanitize:xce});const Sce=ut("div",{position:"relative",$flex:"",height:"$rowHeight",input:{$reset:"",height:0,width:0,opacity:0,margin:0},label:{position:"relative",$flexCenter:"",userSelect:"none",cursor:"pointer",height:"$checkboxSize",width:"$checkboxSize",backgroundColor:"$elevation3",borderRadius:"$sm",$hover:""},"input:focus + label":{$focusStyle:""},"input:focus:checked + label, input:checked + label:hover":{$hoverStyle:"$accent3"},"input + label:active":{backgroundColor:"$accent1"},"input:checked + label:active":{backgroundColor:"$accent1"},"label > svg":{display:"none",width:"90%",height:"90%",stroke:"$highlight3"},"input:checked + label":{backgroundColor:"$accent2"},"input:checked + label > svg":{display:"block"}});function Ace({value:n,onUpdate:e,id:t,disabled:r}){return ee.createElement(Sce,null,ee.createElement("input",{id:t,type:"checkbox",checked:n,onChange:i=>e(i.currentTarget.checked),disabled:r}),ee.createElement("label",{htmlFor:t},ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"}))))}function bce(){const{label:n,value:e,onUpdate:t,disabled:r,id:i}=qr();return ee.createElement(Zs,{input:!0},ee.createElement(To,null,n),ee.createElement(Ace,{value:e,onUpdate:t,id:i,disabled:r}))}var Mce=dt({component:bce},wce);const Cce=["locked"];function Ece({value:n,id:e,valueKey:t,settings:r,onUpdate:i,innerLabelTrim:s}){const o=B.useRef(n[t]);o.current=n[t];const a=B.useCallback(c=>i({[t]:uG({type:"NUMBER",value:o.current,settings:r},c)}),[i,r,t]),l=EG({type:"NUMBER",value:n[t],settings:r,setValue:a});return ee.createElement(BG,{id:e,label:t,value:n[t],displayValue:l.displayValue,onUpdate:l.onUpdate,onChange:l.onChange,settings:r,innerLabelTrim:s})}const Tce=ut("div",{display:"grid",columnGap:"$colGap",gridAutoFlow:"column dense",alignItems:"center",variants:{withLock:{true:{gridTemplateColumns:"10px auto","> svg":{cursor:"pointer"}}}}});function Pce(n){let{locked:e}=n,t=Zt(n,Cce);return ee.createElement("svg",Gn({width:"10",height:"10",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),e?ee.createElement("path",{d:"M5 4.63601C5 3.76031 5.24219 3.1054 5.64323 2.67357C6.03934 2.24705 6.64582 1.9783 7.5014 1.9783C8.35745 1.9783 8.96306 2.24652 9.35823 2.67208C9.75838 3.10299 10 3.75708 10 4.63325V5.99999H5V4.63601ZM4 5.99999V4.63601C4 3.58148 4.29339 2.65754 4.91049 1.99307C5.53252 1.32329 6.42675 0.978302 7.5014 0.978302C8.57583 0.978302 9.46952 1.32233 10.091 1.99162C10.7076 2.65557 11 3.57896 11 4.63325V5.99999H12C12.5523 5.99999 13 6.44771 13 6.99999V13C13 13.5523 12.5523 14 12 14H3C2.44772 14 2 13.5523 2 13V6.99999C2 6.44771 2.44772 5.99999 3 5.99999H4ZM3 6.99999H12V13H3V6.99999Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}):ee.createElement("path",{d:"M9 3.63601C9 2.76044 9.24207 2.11211 9.64154 1.68623C10.0366 1.26502 10.6432 1 11.5014 1C12.4485 1 13.0839 1.30552 13.4722 1.80636C13.8031 2.23312 14 2.84313 14 3.63325H15C15 2.68242 14.7626 1.83856 14.2625 1.19361C13.6389 0.38943 12.6743 0 11.5014 0C10.4294 0 9.53523 0.337871 8.91218 1.0021C8.29351 1.66167 8 2.58135 8 3.63601V6H1C0.447715 6 0 6.44772 0 7V13C0 13.5523 0.447715 14 1 14H10C10.5523 14 11 13.5523 11 13V7C11 6.44772 10.5523 6 10 6H9V3.63601ZM1 7H10V13H1V7Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function OE({value:n,onUpdate:e,settings:t,innerLabelTrim:r}){const{id:i,setSettings:s}=qr(),{lock:o,locked:a}=t;return ee.createElement(Tce,{withLock:o},o&&ee.createElement(Pce,{locked:a,onClick:()=>s({locked:!a})}),Object.keys(n).map((l,c)=>ee.createElement(Ece,{id:c===0?i:`${i}.${l}`,key:l,valueKey:l,value:n,settings:t[l],onUpdate:e,innerLabelTrim:r})))}const IG=(n,e)=>{const t={};let r=0,i=1/0;Object.entries(n).forEach(([s,o])=>{t[s]=pG(dt({value:o},e[s])).settings,r=Math.max(r,t[s].step),i=Math.min(i,t[s].pad)});for(let s in t){const{step:o,min:a,max:l}=e[s]||{};!isFinite(o)&&(!isFinite(a)||!isFinite(l))&&(t[s].step=r,t[s].pad=i)}return t},Rce=["lock"],Dce=["value"];function Bce(n){const e=Di().array().length(n).every.number(),t=r=>{if(!r||typeof r!="object")return!1;const i=Object.values(r);return i.length===n&&i.every(s=>isFinite(s))};return r=>e.test(r)||t(r)}function Ice(n){return Array.isArray(n)?"array":"object"}function _m(n,e,t){return Ice(n)===e?n:e==="array"?Object.values(n):ule(n,t)}const Lce=(n,e,t)=>{const r=_m(n,"object",e.keys);for(let o in r)r[o]=hG(r[o],e[o]);const i=Object.keys(r);let s={};if(i.length===e.keys.length)s=r;else{const o=_m(t,"object",e.keys);if(i.length===1&&e.locked){const a=i[0],l=r[a],c=o[a],u=c!==0?l/c:1;for(let f in o)f===a?s[a]=l:s[f]=o[f]*u}else s=dt(dt({},o),r)}return _m(s,e.format,e.keys)},kce=(n,e)=>_m(n,"object",e.keys),Oce=n=>!!n&&("step"in n||"min"in n||"max"in n);function Fce(n,e,t=[]){const{lock:r=!1}=e,i=Zt(e,Rce),s=Array.isArray(n)?"array":"object",o=s==="object"?Object.keys(n):t,a=_m(n,"object",o),l=Oce(i)?o.reduce((u,f)=>Object.assign(u,{[f]:i}),{}):i,c=IG(a,l);return{value:s==="array"?n:a,settings:dt(dt({},c),{},{format:s,keys:o,lock:r,locked:!1})}}function LG(n){return{schema:Bce(n.length),normalize:e=>{let{value:t}=e,r=Zt(e,Dce);return Fce(t,r,n)},format:(e,t)=>kce(e,t),sanitize:(e,t,r)=>Lce(e,t,r)}}var Nce={grad:.9,turn:360,rad:360/(2*Math.PI)},ya=function(n){return typeof n=="string"?n.length>0:typeof n=="number"},Sr=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=Math.pow(10,e)),Math.round(t*n)/t+0},Hs=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),n>t?t:n>e?n:e},kG=function(n){return(n=isFinite(n)?n%360:0)>0?n:n+360},RL=function(n){return{r:Hs(n.r,0,255),g:Hs(n.g,0,255),b:Hs(n.b,0,255),a:Hs(n.a)}},nA=function(n){return{r:Sr(n.r),g:Sr(n.g),b:Sr(n.b),a:Sr(n.a,3)}},Uce=/^#([0-9a-f]{3,8})$/i,gy=function(n){var e=n.toString(16);return e.length<2?"0"+e:e},OG=function(n){var e=n.r,t=n.g,r=n.b,i=n.a,s=Math.max(e,t,r),o=s-Math.min(e,t,r),a=o?s===e?(t-r)/o:s===t?2+(r-e)/o:4+(e-t)/o:0;return{h:60*(a<0?a+6:a),s:s?o/s*100:0,v:s/255*100,a:i}},FG=function(n){var e=n.h,t=n.s,r=n.v,i=n.a;e=e/360*6,t/=100,r/=100;var s=Math.floor(e),o=r*(1-t),a=r*(1-(e-s)*t),l=r*(1-(1-e+s)*t),c=s%6;return{r:255*[r,a,o,o,l,r][c],g:255*[l,r,r,a,o,o][c],b:255*[o,o,l,r,r,a][c],a:i}},DL=function(n){return{h:kG(n.h),s:Hs(n.s,0,100),l:Hs(n.l,0,100),a:Hs(n.a)}},BL=function(n){return{h:Sr(n.h),s:Sr(n.s),l:Sr(n.l),a:Sr(n.a,3)}},IL=function(n){return FG((t=(e=n).s,{h:e.h,s:(t*=((r=e.l)<50?r:100-r)/100)>0?2*t/(r+t)*100:0,v:r+t,a:e.a}));var e,t,r},xm=function(n){return{h:(e=OG(n)).h,s:(i=(200-(t=e.s))*(r=e.v)/100)>0&&i<200?t*r/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,t,r,i},zce=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Gce=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Hce=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Vce=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,zM={string:[[function(n){var e=Uce.exec(n);return e?(n=e[1]).length<=4?{r:parseInt(n[0]+n[0],16),g:parseInt(n[1]+n[1],16),b:parseInt(n[2]+n[2],16),a:n.length===4?Sr(parseInt(n[3]+n[3],16)/255,2):1}:n.length===6||n.length===8?{r:parseInt(n.substr(0,2),16),g:parseInt(n.substr(2,2),16),b:parseInt(n.substr(4,2),16),a:n.length===8?Sr(parseInt(n.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(n){var e=Hce.exec(n)||Vce.exec(n);return e?e[2]!==e[4]||e[4]!==e[6]?null:RL({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(n){var e=zce.exec(n)||Gce.exec(n);if(!e)return null;var t,r,i=DL({h:(t=e[1],r=e[2],r===void 0&&(r="deg"),Number(t)*(Nce[r]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return IL(i)},"hsl"]],object:[[function(n){var e=n.r,t=n.g,r=n.b,i=n.a,s=i===void 0?1:i;return ya(e)&&ya(t)&&ya(r)?RL({r:Number(e),g:Number(t),b:Number(r),a:Number(s)}):null},"rgb"],[function(n){var e=n.h,t=n.s,r=n.l,i=n.a,s=i===void 0?1:i;if(!ya(e)||!ya(t)||!ya(r))return null;var o=DL({h:Number(e),s:Number(t),l:Number(r),a:Number(s)});return IL(o)},"hsl"],[function(n){var e=n.h,t=n.s,r=n.v,i=n.a,s=i===void 0?1:i;if(!ya(e)||!ya(t)||!ya(r))return null;var o=function(a){return{h:kG(a.h),s:Hs(a.s,0,100),v:Hs(a.v,0,100),a:Hs(a.a)}}({h:Number(e),s:Number(t),v:Number(r),a:Number(s)});return FG(o)},"hsv"]]},LL=function(n,e){for(var t=0;t<e.length;t++){var r=e[t][0](n);if(r)return[r,e[t][1]]}return[null,void 0]},NG=function(n){return typeof n=="string"?LL(n.trim(),zM.string):typeof n=="object"&&n!==null?LL(n,zM.object):[null,void 0]},Wce=function(n){return NG(n)[1]},rA=function(n,e){var t=xm(n);return{h:t.h,s:Hs(t.s+100*e,0,100),l:t.l,a:t.a}},iA=function(n){return(299*n.r+587*n.g+114*n.b)/1e3/255},kL=function(n,e){var t=xm(n);return{h:t.h,s:t.s,l:Hs(t.l+100*e,0,100),a:t.a}},GM=function(){function n(e){this.parsed=NG(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return n.prototype.isValid=function(){return this.parsed!==null},n.prototype.brightness=function(){return Sr(iA(this.rgba),2)},n.prototype.isDark=function(){return iA(this.rgba)<.5},n.prototype.isLight=function(){return iA(this.rgba)>=.5},n.prototype.toHex=function(){return e=nA(this.rgba),t=e.r,r=e.g,i=e.b,o=(s=e.a)<1?gy(Sr(255*s)):"","#"+gy(t)+gy(r)+gy(i)+o;var e,t,r,i,s,o},n.prototype.toRgb=function(){return nA(this.rgba)},n.prototype.toRgbString=function(){return e=nA(this.rgba),t=e.r,r=e.g,i=e.b,(s=e.a)<1?"rgba("+t+", "+r+", "+i+", "+s+")":"rgb("+t+", "+r+", "+i+")";var e,t,r,i,s},n.prototype.toHsl=function(){return BL(xm(this.rgba))},n.prototype.toHslString=function(){return e=BL(xm(this.rgba)),t=e.h,r=e.s,i=e.l,(s=e.a)<1?"hsla("+t+", "+r+"%, "+i+"%, "+s+")":"hsl("+t+", "+r+"%, "+i+"%)";var e,t,r,i,s},n.prototype.toHsv=function(){return e=OG(this.rgba),{h:Sr(e.h),s:Sr(e.s),v:Sr(e.v),a:Sr(e.a,3)};var e},n.prototype.invert=function(){return di({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},n.prototype.saturate=function(e){return e===void 0&&(e=.1),di(rA(this.rgba,e))},n.prototype.desaturate=function(e){return e===void 0&&(e=.1),di(rA(this.rgba,-e))},n.prototype.grayscale=function(){return di(rA(this.rgba,-1))},n.prototype.lighten=function(e){return e===void 0&&(e=.1),di(kL(this.rgba,e))},n.prototype.darken=function(e){return e===void 0&&(e=.1),di(kL(this.rgba,-e))},n.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},n.prototype.alpha=function(e){return typeof e=="number"?di({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):Sr(this.rgba.a,3);var t},n.prototype.hue=function(e){var t=xm(this.rgba);return typeof e=="number"?di({h:e,s:t.s,l:t.l,a:t.a}):Sr(t.h)},n.prototype.isEqual=function(e){return this.toHex()===di(e).toHex()},n}(),di=function(n){return n instanceof GM?n:new GM(n)},OL=[],jce=function(n){n.forEach(function(e){OL.indexOf(e)<0&&(e(GM,zM),OL.push(e))})};function $ce(n,e){var t={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},r={};for(var i in t)r[t[i]]=i;var s={};n.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var a,l,c=r[this.toHex()];if(c)return c;if(o!=null&&o.closest){var u=this.toRgb(),f=1/0,d="black";if(!s.length)for(var m in t)s[m]=new n(t[m]).toRgb();for(var g in t){var v=(a=u,l=s[g],Math.pow(a.r-l.r,2)+Math.pow(a.g-l.g,2)+Math.pow(a.b-l.b,2));v<f&&(f=v,d=g)}return d}},e.string.push([function(o){var a=o.toLowerCase(),l=a==="transparent"?"#0000":t[a];return l?new n(l).toRgb():null},"name"])}function Ih(){return(Ih=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n}).apply(this,arguments)}function FE(n,e){if(n==null)return{};var t,r,i={},s=Object.keys(n);for(r=0;r<s.length;r++)e.indexOf(t=s[r])>=0||(i[t]=n[t]);return i}function HM(n){var e=B.useRef(n),t=B.useRef(function(r){e.current&&e.current(r)});return e.current=n,t.current}var ch=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),n>t?t:n<e?e:n},wm=function(n){return"touches"in n},VM=function(n){return n&&n.ownerDocument.defaultView||self},FL=function(n,e,t){var r=n.getBoundingClientRect(),i=wm(e)?function(s,o){for(var a=0;a<s.length;a++)if(s[a].identifier===o)return s[a];return s[0]}(e.touches,t):e;return{left:ch((i.pageX-(r.left+VM(n).pageXOffset))/r.width),top:ch((i.pageY-(r.top+VM(n).pageYOffset))/r.height)}},NL=function(n){!wm(n)&&n.preventDefault()},NE=ee.memo(function(n){var e=n.onMove,t=n.onKey,r=FE(n,["onMove","onKey"]),i=B.useRef(null),s=HM(e),o=HM(t),a=B.useRef(null),l=B.useRef(!1),c=B.useMemo(function(){var m=function(y){NL(y),(wm(y)?y.touches.length>0:y.buttons>0)&&i.current?s(FL(i.current,y,a.current)):v(!1)},g=function(){return v(!1)};function v(y){var x=l.current,_=VM(i.current),w=y?_.addEventListener:_.removeEventListener;w(x?"touchmove":"mousemove",m),w(x?"touchend":"mouseup",g)}return[function(y){var x=y.nativeEvent,_=i.current;if(_&&(NL(x),!function(A,C){return C&&!wm(A)}(x,l.current)&&_)){if(wm(x)){l.current=!0;var w=x.changedTouches||[];w.length&&(a.current=w[0].identifier)}_.focus(),s(FL(_,x,a.current)),v(!0)}},function(y){var x=y.which||y.keyCode;x<37||x>40||(y.preventDefault(),o({left:x===39?.05:x===37?-.05:0,top:x===40?.05:x===38?-.05:0}))},v]},[o,s]),u=c[0],f=c[1],d=c[2];return B.useEffect(function(){return d},[d]),ee.createElement("div",Ih({},r,{onTouchStart:u,onMouseDown:u,className:"react-colorful__interactive",ref:i,onKeyDown:f,tabIndex:0,role:"slider"}))}),i0=function(n){return n.filter(Boolean).join(" ")},UE=function(n){var e=n.color,t=n.left,r=n.top,i=r===void 0?.5:r,s=i0(["react-colorful__pointer",n.className]);return ee.createElement("div",{className:s,style:{top:100*i+"%",left:100*t+"%"}},ee.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:e}}))},hi=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=Math.pow(10,e)),Math.round(t*n)/t},UG=function(n){var e=n.s,t=n.v,r=n.a,i=(200-e)*t/100;return{h:hi(n.h),s:hi(i>0&&i<200?e*t/100/(i<=100?i:200-i)*100:0),l:hi(i/2),a:hi(r,2)}},WM=function(n){var e=UG(n);return"hsl("+e.h+", "+e.s+"%, "+e.l+"%)"},sA=function(n){var e=UG(n);return"hsla("+e.h+", "+e.s+"%, "+e.l+"%, "+e.a+")"},zG=function(n){var e=n.h,t=n.s,r=n.v,i=n.a;e=e/360*6,t/=100,r/=100;var s=Math.floor(e),o=r*(1-t),a=r*(1-(e-s)*t),l=r*(1-(1-e+s)*t),c=s%6;return{r:hi(255*[r,a,o,o,l,r][c]),g:hi(255*[l,r,r,a,o,o][c]),b:hi(255*[o,o,l,r,r,a][c]),a:hi(i,2)}},GG=function(n){var e=n.r,t=n.g,r=n.b,i=n.a,s=Math.max(e,t,r),o=s-Math.min(e,t,r),a=o?s===e?(t-r)/o:s===t?2+(r-e)/o:4+(e-t)/o:0;return{h:hi(60*(a<0?a+6:a)),s:hi(s?o/s*100:0),v:hi(s/255*100),a:i}},HG=ee.memo(function(n){var e=n.hue,t=n.onChange,r=i0(["react-colorful__hue",n.className]);return ee.createElement("div",{className:r},ee.createElement(NE,{onMove:function(i){t({h:360*i.left})},onKey:function(i){t({h:ch(e+360*i.left,0,360)})},"aria-label":"Hue","aria-valuenow":hi(e),"aria-valuemax":"360","aria-valuemin":"0"},ee.createElement(UE,{className:"react-colorful__hue-pointer",left:e/360,color:WM({h:e,s:100,v:100,a:1})})))}),VG=ee.memo(function(n){var e=n.hsva,t=n.onChange,r={backgroundColor:WM({h:e.h,s:100,v:100,a:1})};return ee.createElement("div",{className:"react-colorful__saturation",style:r},ee.createElement(NE,{onMove:function(i){t({s:100*i.left,v:100-100*i.top})},onKey:function(i){t({s:ch(e.s+100*i.left,0,100),v:ch(e.v-100*i.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+hi(e.s)+"%, Brightness "+hi(e.v)+"%"},ee.createElement(UE,{className:"react-colorful__saturation-pointer",top:1-e.v/100,left:e.s/100,color:WM(e)})))}),zE=function(n,e){if(n===e)return!0;for(var t in n)if(n[t]!==e[t])return!1;return!0};function WG(n,e,t){var r=HM(t),i=B.useState(function(){return n.toHsva(e)}),s=i[0],o=i[1],a=B.useRef({color:e,hsva:s});B.useEffect(function(){if(!n.equal(e,a.current.color)){var c=n.toHsva(e);a.current={hsva:c,color:e},o(c)}},[e,n]),B.useEffect(function(){var c;zE(s,a.current.hsva)||n.equal(c=n.fromHsva(s),a.current.color)||(a.current={hsva:s,color:c},r(c))},[s,n,r]);var l=B.useCallback(function(c){o(function(u){return Object.assign({},u,c)})},[]);return[s,l]}var Xce=typeof window<"u"?B.useLayoutEffect:B.useEffect,Jce=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},UL=new Map,jG=function(n){Xce(function(){var e=n.current?n.current.ownerDocument:document;if(e!==void 0&&!UL.has(e)){var t=e.createElement("style");t.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,UL.set(e,t);var r=Jce();r&&t.setAttribute("nonce",r),e.head.appendChild(t)}},[])},Kce=function(n){var e=n.className,t=n.colorModel,r=n.color,i=r===void 0?t.defaultColor:r,s=n.onChange,o=FE(n,["className","colorModel","color","onChange"]),a=B.useRef(null);jG(a);var l=WG(t,i,s),c=l[0],u=l[1],f=i0(["react-colorful",e]);return ee.createElement("div",Ih({},o,{ref:a,className:f}),ee.createElement(VG,{hsva:c,onChange:u}),ee.createElement(HG,{hue:c.h,onChange:u,className:"react-colorful__last-control"}))},Yce=function(n){var e=n.className,t=n.hsva,r=n.onChange,i={backgroundImage:"linear-gradient(90deg, "+sA(Object.assign({},t,{a:0}))+", "+sA(Object.assign({},t,{a:1}))+")"},s=i0(["react-colorful__alpha",e]),o=hi(100*t.a);return ee.createElement("div",{className:s},ee.createElement("div",{className:"react-colorful__alpha-gradient",style:i}),ee.createElement(NE,{onMove:function(a){r({a:a.left})},onKey:function(a){r({a:ch(t.a+a.left)})},"aria-label":"Alpha","aria-valuetext":o+"%","aria-valuenow":o,"aria-valuemin":"0","aria-valuemax":"100"},ee.createElement(UE,{className:"react-colorful__alpha-pointer",left:t.a,color:sA(t)})))},Qce=function(n){var e=n.className,t=n.colorModel,r=n.color,i=r===void 0?t.defaultColor:r,s=n.onChange,o=FE(n,["className","colorModel","color","onChange"]),a=B.useRef(null);jG(a);var l=WG(t,i,s),c=l[0],u=l[1],f=i0(["react-colorful",e]);return ee.createElement("div",Ih({},o,{ref:a,className:f}),ee.createElement(VG,{hsva:c,onChange:u}),ee.createElement(HG,{hue:c.h,onChange:u}),ee.createElement(Yce,{hsva:c,onChange:u,className:"react-colorful__last-control"}))},qce={defaultColor:{r:0,g:0,b:0,a:1},toHsva:GG,fromHsva:zG,equal:zE},Zce=function(n){return ee.createElement(Qce,Ih({},n,{colorModel:qce}))},eue={defaultColor:{r:0,g:0,b:0},toHsva:function(n){return GG({r:n.r,g:n.g,b:n.b,a:1})},fromHsva:function(n){return{r:(e=zG(n)).r,g:e.g,b:e.b};var e},equal:zE},tue=function(n){return ee.createElement(Kce,Ih({},n,{colorModel:eue}))};function nue(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function Lh(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})}function kh(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(t=0)),t;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){t.label=c[1];break}if(c[0]===6&&t.label<s[1]){t.label=s[1],s=c;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(c);break}s[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(n,t)}catch(u){c=[6,u],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function rue(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(o)throw o.error}}return s}function iue(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(rue(arguments[e]));return n}var sue=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function s0(n,e){var t=oue(n);if(typeof t.path!="string"){var r=n.webkitRelativePath;Object.defineProperty(t,"path",{value:typeof e=="string"?e:typeof r=="string"&&r.length>0?r:n.name,writable:!1,configurable:!1,enumerable:!0})}return t}function oue(n){var e=n.name,t=e&&e.lastIndexOf(".")!==-1;if(t&&!n.type){var r=e.split(".").pop().toLowerCase(),i=sue.get(r);i&&Object.defineProperty(n,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return n}var aue=[".DS_Store","Thumbs.db"];function lue(n){return Lh(this,void 0,void 0,function(){return kh(this,function(e){return J1(n)&&cue(n)?[2,hue(n.dataTransfer,n.type)]:uue(n)?[2,fue(n)]:Array.isArray(n)&&n.every(function(t){return"getFile"in t&&typeof t.getFile=="function"})?[2,due(n)]:[2,[]]})})}function cue(n){return J1(n.dataTransfer)}function uue(n){return J1(n)&&J1(n.target)}function J1(n){return typeof n=="object"&&n!==null}function fue(n){return jM(n.target.files).map(function(e){return s0(e)})}function due(n){return Lh(this,void 0,void 0,function(){var e;return kh(this,function(t){switch(t.label){case 0:return[4,Promise.all(n.map(function(r){return r.getFile()}))];case 1:return e=t.sent(),[2,e.map(function(r){return s0(r)})]}})})}function hue(n,e){return Lh(this,void 0,void 0,function(){var t,r;return kh(this,function(i){switch(i.label){case 0:return n===null?[2,[]]:n.items?(t=jM(n.items).filter(function(s){return s.kind==="file"}),e!=="drop"?[2,t]:[4,Promise.all(t.map(pue))]):[3,2];case 1:return r=i.sent(),[2,zL($G(r))];case 2:return[2,zL(jM(n.files).map(function(s){return s0(s)}))]}})})}function zL(n){return n.filter(function(e){return aue.indexOf(e.name)===-1})}function jM(n){if(n===null)return[];for(var e=[],t=0;t<n.length;t++){var r=n[t];e.push(r)}return e}function pue(n){if(typeof n.webkitGetAsEntry!="function")return GL(n);var e=n.webkitGetAsEntry();return e&&e.isDirectory?XG(e):GL(n)}function $G(n){return n.reduce(function(e,t){return iue(e,Array.isArray(t)?$G(t):[t])},[])}function GL(n){var e=n.getAsFile();if(!e)return Promise.reject(n+" is not a File");var t=s0(e);return Promise.resolve(t)}function mue(n){return Lh(this,void 0,void 0,function(){return kh(this,function(e){return[2,n.isDirectory?XG(n):gue(n)]})})}function XG(n){var e=n.createReader();return new Promise(function(t,r){var i=[];function s(){var o=this;e.readEntries(function(a){return Lh(o,void 0,void 0,function(){var l,c,u;return kh(this,function(f){switch(f.label){case 0:if(a.length)return[3,5];f.label=1;case 1:return f.trys.push([1,3,,4]),[4,Promise.all(i)];case 2:return l=f.sent(),t(l),[3,4];case 3:return c=f.sent(),r(c),[3,4];case 4:return[3,6];case 5:u=Promise.all(a.map(mue)),i.push(u),s(),f.label=6;case 6:return[2]}})})},function(a){r(a)})}s()})}function gue(n){return Lh(this,void 0,void 0,function(){return kh(this,function(e){return[2,new Promise(function(t,r){n.file(function(i){var s=s0(i,n.fullPath);t(s)},function(i){r(i)})})]})})}var vue=function(n,e){if(n&&e){var t=Array.isArray(e)?e:e.split(","),r=n.name||"",i=(n.type||"").toLowerCase(),s=i.replace(/\/.*$/,"");return t.some(function(o){var a=o.trim().toLowerCase();return a.charAt(0)==="."?r.toLowerCase().endsWith(a):a.endsWith("/*")?s===a.replace(/\/.*$/,""):i===a})}return!0};function HL(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function VL(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?HL(Object(t),!0).forEach(function(r){JG(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):HL(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function JG(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function WL(n,e){return wue(n)||xue(n,e)||_ue(n,e)||yue()}function yue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _ue(n,e){if(n){if(typeof n=="string")return jL(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return jL(n,e)}}function jL(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function xue(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r=[],i=!0,s=!1,o,a;try{for(t=t.call(n);!(i=(o=t.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(s)throw a}}return r}}function wue(n){if(Array.isArray(n))return n}var Sue="file-invalid-type",Aue="file-too-large",bue="file-too-small",Mue="too-many-files",Cue=function(e){e=Array.isArray(e)&&e.length===1?e[0]:e;var t=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:Sue,message:"File type must be ".concat(t)}},$L=function(e){return{code:Aue,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},XL=function(e){return{code:bue,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},Eue={code:Mue,message:"Too many files"};function KG(n,e){var t=n.type==="application/x-moz-file"||vue(n,e);return[t,t?null:Cue(e)]}function YG(n,e,t){if(Fp(n.size))if(Fp(e)&&Fp(t)){if(n.size>t)return[!1,$L(t)];if(n.size<e)return[!1,XL(e)]}else{if(Fp(e)&&n.size<e)return[!1,XL(e)];if(Fp(t)&&n.size>t)return[!1,$L(t)]}return[!0,null]}function Fp(n){return n!=null}function Tue(n){var e=n.files,t=n.accept,r=n.minSize,i=n.maxSize,s=n.multiple,o=n.maxFiles;return!s&&e.length>1||s&&o>=1&&e.length>o?!1:e.every(function(a){var l=KG(a,t),c=WL(l,1),u=c[0],f=YG(a,r,i),d=WL(f,1),m=d[0];return u&&m})}function K1(n){return typeof n.isPropagationStopped=="function"?n.isPropagationStopped():typeof n.cancelBubble<"u"?n.cancelBubble:!1}function vy(n){return n.dataTransfer?Array.prototype.some.call(n.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!n.target&&!!n.target.files}function JL(n){n.preventDefault()}function Pue(n){return n.indexOf("MSIE")!==-1||n.indexOf("Trident/")!==-1}function Rue(n){return n.indexOf("Edge/")!==-1}function Due(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return Pue(n)||Rue(n)}function Oo(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(r){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];return e.some(function(a){return!K1(r)&&a&&a.apply(void 0,[r].concat(s)),K1(r)})}}function Bue(){return"showOpenFilePicker"in window}function Iue(n){return n=typeof n=="string"?n.split(","):n,[{description:"everything",accept:Array.isArray(n)?n.filter(function(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}).reduce(function(e,t){return VL(VL({},e),{},JG({},t,[]))},{}):{}}]}function Lue(n){return n instanceof DOMException&&(n.name==="AbortError"||n.code===n.ABORT_ERR)}function kue(n){return n instanceof DOMException&&(n.name==="SecurityError"||n.code===n.SECURITY_ERR)}var Oue=["children"],Fue=["open"],Nue=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Uue=["refKey","onChange","onClick"];function zue(n){return Vue(n)||Hue(n)||QG(n)||Gue()}function Gue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hue(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Vue(n){if(Array.isArray(n))return $M(n)}function oA(n,e){return $ue(n)||jue(n,e)||QG(n,e)||Wue()}function Wue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QG(n,e){if(n){if(typeof n=="string")return $M(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return $M(n,e)}}function $M(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function jue(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r=[],i=!0,s=!1,o,a;try{for(t=t.call(n);!(i=(o=t.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(s)throw a}}return r}}function $ue(n){if(Array.isArray(n))return n}function KL(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function An(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?KL(Object(t),!0).forEach(function(r){XM(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):KL(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function XM(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Y1(n,e){if(n==null)return{};var t=Xue(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function Xue(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}var GE=B.forwardRef(function(n,e){var t=n.children,r=Y1(n,Oue),i=ZG(r),s=i.open,o=Y1(i,Fue);return B.useImperativeHandle(e,function(){return{open:s}},[s]),ee.createElement(B.Fragment,null,t(An(An({},o),{},{open:s})))});GE.displayName="Dropzone";var qG={disabled:!1,getFilesFromEvent:lue,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0};GE.defaultProps=qG;GE.propTypes={children:on.func,accept:on.oneOfType([on.string,on.arrayOf(on.string)]),multiple:on.bool,preventDropOnDocument:on.bool,noClick:on.bool,noKeyboard:on.bool,noDrag:on.bool,noDragEventsBubbling:on.bool,minSize:on.number,maxSize:on.number,maxFiles:on.number,disabled:on.bool,getFilesFromEvent:on.func,onFileDialogCancel:on.func,onFileDialogOpen:on.func,useFsAccessApi:on.bool,onDragEnter:on.func,onDragLeave:on.func,onDragOver:on.func,onDrop:on.func,onDropAccepted:on.func,onDropRejected:on.func,validator:on.func};var JM={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function ZG(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=An(An({},qG),n),t=e.accept,r=e.disabled,i=e.getFilesFromEvent,s=e.maxSize,o=e.minSize,a=e.multiple,l=e.maxFiles,c=e.onDragEnter,u=e.onDragLeave,f=e.onDragOver,d=e.onDrop,m=e.onDropAccepted,g=e.onDropRejected,v=e.onFileDialogCancel,y=e.onFileDialogOpen,x=e.useFsAccessApi,_=e.preventDropOnDocument,w=e.noClick,A=e.noKeyboard,C=e.noDrag,E=e.noDragEventsBubbling,P=e.validator,b=B.useMemo(function(){return typeof y=="function"?y:YL},[y]),R=B.useMemo(function(){return typeof v=="function"?v:YL},[v]),D=B.useRef(null),L=B.useRef(null),N=B.useReducer(Jue,JM),z=oA(N,2),k=z[0],V=z[1],W=k.isFocused,Y=k.isFileDialogActive,O=k.draggedFiles,U=B.useRef(typeof window<"u"&&window.isSecureContext&&x&&Bue()),H=function(){!U.current&&Y&&setTimeout(function(){if(L.current){var q=L.current.files;q.length||(V({type:"closeDialog"}),R())}},300)};B.useEffect(function(){return window.addEventListener("focus",H,!1),function(){window.removeEventListener("focus",H,!1)}},[L,Y,R,U]);var G=B.useRef([]),X=function(q){D.current&&D.current.contains(q.target)||(q.preventDefault(),G.current=[])};B.useEffect(function(){return _&&(document.addEventListener("dragover",JL,!1),document.addEventListener("drop",X,!1)),function(){_&&(document.removeEventListener("dragover",JL),document.removeEventListener("drop",X))}},[D,_]);var Z=B.useCallback(function(F){F.preventDefault(),F.persist(),Ae(F),G.current=[].concat(zue(G.current),[F.target]),vy(F)&&Promise.resolve(i(F)).then(function(q){K1(F)&&!E||(V({draggedFiles:q,isDragActive:!0,type:"setDraggedFiles"}),c&&c(F))})},[i,c,E]),re=B.useCallback(function(F){F.preventDefault(),F.persist(),Ae(F);var q=vy(F);if(q&&F.dataTransfer)try{F.dataTransfer.dropEffect="copy"}catch{}return q&&f&&f(F),!1},[f,E]),ie=B.useCallback(function(F){F.preventDefault(),F.persist(),Ae(F);var q=G.current.filter(function(Te){return D.current&&D.current.contains(Te)}),de=q.indexOf(F.target);de!==-1&&q.splice(de,1),G.current=q,!(q.length>0)&&(V({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),vy(F)&&u&&u(F))},[D,u,E]),Q=B.useCallback(function(F,q){var de=[],Te=[];F.forEach(function(Re){var Oe=KG(Re,t),Be=oA(Oe,2),ge=Be[0],We=Be[1],Fe=YG(Re,o,s),ze=oA(Fe,2),Ne=ze[0],Ie=ze[1],$e=P?P(Re):null;if(ge&&Ne&&!$e)de.push(Re);else{var st=[We,Ie];$e&&(st=st.concat($e)),Te.push({file:Re,errors:st.filter(function(gt){return gt})})}}),(!a&&de.length>1||a&&l>=1&&de.length>l)&&(de.forEach(function(Re){Te.push({file:Re,errors:[Eue]})}),de.splice(0)),V({acceptedFiles:de,fileRejections:Te,type:"setFiles"}),d&&d(de,Te,q),Te.length>0&&g&&g(Te,q),de.length>0&&m&&m(de,q)},[V,a,t,o,s,l,d,m,g,P]),ue=B.useCallback(function(F){F.preventDefault(),F.persist(),Ae(F),G.current=[],vy(F)&&Promise.resolve(i(F)).then(function(q){K1(F)&&!E||Q(q,F)}),V({type:"reset"})},[i,Q,E]),he=B.useCallback(function(){if(U.current){V({type:"openDialog"}),b();var F={multiple:a,types:Iue(t)};window.showOpenFilePicker(F).then(function(q){return i(q)}).then(function(q){Q(q,null),V({type:"closeDialog"})}).catch(function(q){Lue(q)?(R(q),V({type:"closeDialog"})):kue(q)&&(U.current=!1,L.current&&(L.current.value=null,L.current.click()))});return}L.current&&(V({type:"openDialog"}),b(),L.current.value=null,L.current.click())},[V,b,R,x,Q,t,a]),be=B.useCallback(function(F){!D.current||!D.current.isEqualNode(F.target)||(F.key===" "||F.key==="Enter"||F.keyCode===32||F.keyCode===13)&&(F.preventDefault(),he())},[D,he]),ye=B.useCallback(function(){V({type:"focus"})},[]),Se=B.useCallback(function(){V({type:"blur"})},[]),ne=B.useCallback(function(){w||(Due()?setTimeout(he,0):he())},[w,he]),le=function(q){return r?null:q},Ee=function(q){return A?null:le(q)},Ce=function(q){return C?null:le(q)},Ae=function(q){E&&q.stopPropagation()},je=B.useMemo(function(){return function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},q=F.refKey,de=q===void 0?"ref":q,Te=F.role,Re=F.onKeyDown,Oe=F.onFocus,Be=F.onBlur,ge=F.onClick,We=F.onDragEnter,Fe=F.onDragOver,ze=F.onDragLeave,Ne=F.onDrop,Ie=Y1(F,Nue);return An(An(XM({onKeyDown:Ee(Oo(Re,be)),onFocus:Ee(Oo(Oe,ye)),onBlur:Ee(Oo(Be,Se)),onClick:le(Oo(ge,ne)),onDragEnter:Ce(Oo(We,Z)),onDragOver:Ce(Oo(Fe,re)),onDragLeave:Ce(Oo(ze,ie)),onDrop:Ce(Oo(Ne,ue)),role:typeof Te=="string"&&Te!==""?Te:"button"},de,D),!r&&!A?{tabIndex:0}:{}),Ie)}},[D,be,ye,Se,ne,Z,re,ie,ue,A,C,r]),we=B.useCallback(function(F){F.stopPropagation()},[]),Le=B.useMemo(function(){return function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},q=F.refKey,de=q===void 0?"ref":q,Te=F.onChange,Re=F.onClick,Oe=Y1(F,Uue),Be=XM({accept:t,multiple:a,type:"file",style:{display:"none"},onChange:le(Oo(Te,ue)),onClick:le(Oo(Re,we)),tabIndex:-1},de,L);return An(An({},Be),Oe)}},[L,t,a,ue,r]),Ue=O.length,_e=Ue>0&&Tue({files:O,accept:t,minSize:o,maxSize:s,multiple:a,maxFiles:l}),j=Ue>0&&!_e;return An(An({},k),{},{isDragAccept:_e,isDragReject:j,isFocused:W&&!r,getRootProps:je,getInputProps:Le,rootRef:D,inputRef:L,open:le(he)})}function Jue(n,e){switch(e.type){case"focus":return An(An({},n),{},{isFocused:!0});case"blur":return An(An({},n),{},{isFocused:!1});case"openDialog":return An(An({},JM),{},{isFileDialogActive:!0});case"closeDialog":return An(An({},n),{},{isFileDialogActive:!1});case"setDraggedFiles":var t=e.isDragActive,r=e.draggedFiles;return An(An({},n),{},{draggedFiles:r,isDragActive:t});case"setFiles":return An(An({},n),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections});case"reset":return An({},JM);default:return n}}function YL(){}/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Kue=function(e){return e!=null&&typeof e=="object"&&Array.isArray(e)===!1};/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Yue=Kue;function QL(n){return Yue(n)===!0&&Object.prototype.toString.call(n)==="[object Object]"}var e6=function(e){var t,r;return!(QL(e)===!1||(t=e.constructor,typeof t!="function")||(r=t.prototype,QL(r)===!1)||r.hasOwnProperty("isPrototypeOf")===!1)};/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Que=e6,HE=function(e){return Que(e)||typeof e=="function"||Array.isArray(e)};/*!
 * for-in <https://github.com/jonschlinkert/for-in>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var que=function(e,t,r){for(var i in e)if(t.call(r,e[i],i,e)===!1)break},Zue=HE,efe=que;function t6(n,e){for(var t=arguments.length,r=0;++r<t;){var i=arguments[r];KM(i)&&efe(i,tfe,n)}return n}function tfe(n,e){if(nfe(e)){var t=this[e];KM(n)&&KM(t)?t6(t,n):this[e]=n}}function KM(n){return Zue(n)&&!Array.isArray(n)}function nfe(n){return n!=="__proto__"&&n!=="constructor"&&n!=="prototype"}var rfe=t6;/*!
 * get-value <https://github.com/jonschlinkert/get-value>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var ife=function(n,e,t,r,i){if(!sfe(n)||!e)return n;if(e=yy(e),t&&(e+="."+yy(t)),r&&(e+="."+yy(r)),i&&(e+="."+yy(i)),e in n)return n[e];for(var s=e.split("."),o=s.length,a=-1;n&&++a<o;){for(var l=s[a];l[l.length-1]==="\\";)l=l.slice(0,-1)+"."+s[++a];n=n[l]}return n};function sfe(n){return n!==null&&(typeof n=="object"||typeof n=="function")}function yy(n){return n?Array.isArray(n)?n.join("."):n:""}/*!
 * assign-symbols <https://github.com/jonschlinkert/assign-symbols>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var ofe=function(n,e){if(n===null||typeof n>"u")throw new TypeError("expected first argument to be an object.");if(typeof e>"u"||typeof Symbol>"u"||typeof Object.getOwnPropertySymbols!="function")return n;for(var t=Object.prototype.propertyIsEnumerable,r=Object(n),i=arguments.length,s=0;++s<i;)for(var o=Object(arguments[s]),a=Object.getOwnPropertySymbols(o),l=0;l<a.length;l++){var c=a[l];t.call(o,c)&&(r[c]=o[c])}return r},afe=HE,lfe=ofe,cfe=Object.assign||function(n){if(n===null||typeof n>"u")throw new TypeError("Cannot convert undefined or null to object");qL(n)||(n={});for(var e=1;e<arguments.length;e++){var t=arguments[e];ffe(t)&&(t=dfe(t)),qL(t)&&(ufe(n,t),lfe(n,t))}return n};function ufe(n,e){for(var t in e)hfe(e,t)&&(n[t]=e[t])}function ffe(n){return n&&typeof n=="string"}function dfe(n){var e={};for(var t in n)e[t]=n[t];return e}function qL(n){return n&&typeof n=="object"||afe(n)}function hfe(n,e){return Object.prototype.hasOwnProperty.call(n,e)}/*!
 * split-string <https://github.com/jonschlinkert/split-string>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var pfe=cfe,mfe=function(n,e,t){if(typeof n!="string")throw new TypeError("expected a string");typeof e=="function"&&(t=e,e=null),typeof e=="string"&&(e={sep:e});var r=pfe({sep:"."},e),i=r.quotes||['"',"'","`"],s;r.brackets===!0?s={"<":">","(":")","[":"]","{":"}"}:r.brackets&&(s=r.brackets);var o=[],a=[],l=[""],c=r.sep,u=n.length,f=-1,d;function m(){if(s&&a.length)return s[a[a.length-1]]}for(;++f<u;){var g=n[f],v=n[f+1],y={val:g,idx:f,arr:l,str:n};if(o.push(y),g==="\\"){y.val=vfe(r,n,f)===!0?g+v:v,y.escaped=!0,typeof t=="function"&&t(y),l[l.length-1]+=y.val,f++;continue}if(s&&s[g]){a.push(g);var x=m(),_=f+1;if(n.indexOf(x,_+1)!==-1)for(;a.length&&_<u;){var w=n[++_];if(w==="\\"){w++;continue}if(i.indexOf(w)!==-1){_=YM(n,w,_+1);continue}if(x=m(),a.length&&n.indexOf(x,_+1)===-1)break;if(s[w]){a.push(w);continue}x===w&&a.pop()}if(d=_,d===-1){l[l.length-1]+=g;continue}g=n.slice(f,d+1),y.val=g,y.idx=f=d}if(i.indexOf(g)!==-1){if(d=YM(n,g,f+1),d===-1){l[l.length-1]+=g;continue}gfe(g,r)===!0?g=n.slice(f,d+1):g=n.slice(f+1,d),y.val=g,y.idx=f=d}if(typeof t=="function"&&(t(y,o),g=y.val,f=y.idx),y.val===c&&y.split!==!1){l.push("");continue}l[l.length-1]+=y.val}return l};function YM(n,e,t,r){var i=n.indexOf(e,t);return n.charAt(i-1)==="\\"?YM(n,e,i+1):i}function gfe(n,e){return e.keepDoubleQuotes===!0&&n==='"'||e.keepSingleQuotes===!0&&n==="'"?!0:e.keepQuotes}function vfe(n,e,t){return typeof n.keepEscaping=="function"?n.keepEscaping(e,t):n.keepEscaping===!0||e[t+1]==="\\"}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var yfe=function(e){return typeof e<"u"&&e!==null&&(typeof e=="object"||typeof e=="function")},ZL=yfe,_fe=function(e){ZL(e)||(e={});for(var t=arguments.length,r=1;r<t;r++){var i=arguments[r];ZL(i)&&xfe(e,i)}return e};function xfe(n,e){for(var t in e)wfe(e,t)&&(n[t]=e[t])}function wfe(n,e){return Object.prototype.hasOwnProperty.call(n,e)}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var Sfe=function(e){return typeof e<"u"&&e!==null&&(typeof e=="object"||typeof e=="function")};/*!
 * set-value <https://github.com/jonschlinkert/set-value>
 *
 * Copyright (c) 2014-2015, 2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Afe=mfe,bfe=_fe,ek=e6,tk=Sfe,Mfe=function(n,e,t){if(!tk(n)||(Array.isArray(e)&&(e=[].concat.apply([],e).join(".")),typeof e!="string"))return n;for(var r=Afe(e,{sep:".",brackets:!0}).filter(Cfe),i=r.length,s=-1,o=n;++s<i;){var a=r[s];if(s!==i-1){tk(o[a])||(o[a]={}),o=o[a];continue}ek(o[a])&&ek(t)?o[a]=bfe({},o[a],t):o[a]=t}return n};function Cfe(n){return n!=="__proto__"&&n!=="constructor"&&n!=="prototype"}var aA=HE,nk=rfe,Efe=ife,rk=Mfe,Tfe=function(e,t,r){if(!aA(e))throw new TypeError("expected an object");if(typeof t!="string"||r==null)return nk.apply(null,arguments);if(typeof r=="string")return rk(e,t,r),e;var i=Efe(e,t);return aA(r)&&aA(i)&&(r=nk({},i,r)),rk(e,t,r),e};const Pfe=mh(Tfe),VE=(...n)=>n.filter(Boolean).join(".");function Rfe(n){const e=n.split(".");return[e.pop(),e.join(".")||void 0]}function Dfe(n,e){return Object.entries(lle(n,e)).reduce((t,[,{value:r,disabled:i,key:s}])=>(t[s]=i?void 0:r,t),{})}function Bfe(n,e){const t=B.useRef();return(e?lg:Kg)(n,t.current)||(t.current=n),t.current}function n6(n,e){return B.useMemo(n,Bfe(e,!0))}function Ife(n){const e=B.useRef(null),t=B.useRef(null),r=B.useRef(!0);return B.useLayoutEffect(()=>{n||(e.current.style.height="0px",e.current.style.overflow="hidden")},[]),B.useEffect(()=>{if(r.current){r.current=!1;return}let i;const s=e.current,o=()=>{n&&(s.style.removeProperty("height"),s.style.removeProperty("overflow"),t.current.scrollIntoView({behavior:"smooth",block:"nearest"}))};s.addEventListener("transitionend",o,{once:!0});const{height:a}=t.current.getBoundingClientRect();return s.style.height=a+"px",n||(s.style.overflow="hidden",i=window.setTimeout(()=>s.style.height="0px",50)),()=>{s.removeEventListener("transitionend",o),clearTimeout(i)}},[n]),{wrapperRef:e,contentRef:t}}const Lfe=n=>{const[e,t]=B.useState(n.getVisiblePaths());return B.useEffect(()=>{t(n.getVisiblePaths());const r=n.useStore.subscribe(n.getVisiblePaths,t,{equalityFn:Kg});return()=>r()},[n]),e};function kfe(n,e,t){return n.useStore(i=>{const s=dt(dt({},t),i.data);return Dfe(s,e)},Kg)}function r6(n=3){const e=B.useRef(null),t=B.useRef(null),[r,i]=B.useState(!1),s=B.useCallback(()=>i(!0),[]),o=B.useCallback(()=>i(!1),[]);return B.useLayoutEffect(()=>{if(r){const{bottom:a,top:l,left:c}=e.current.getBoundingClientRect(),{height:u}=t.current.getBoundingClientRect(),f=a+u>window.innerHeight-40?"up":"down";t.current.style.position="fixed",t.current.style.zIndex="10000",t.current.style.left=c+"px",f==="down"?t.current.style.top=a+n+"px":t.current.style.bottom=window.innerHeight-l+n+"px"}},[n,r]),{popinRef:e,wrapperRef:t,shown:r,show:s,hide:o}}jce([$ce]);const Ofe={rgb:"toRgb",hsl:"toHsl",hsv:"toHsv",hex:"toHex"};Di.extend({color:()=>n=>di(n).isValid()});const Ffe=n=>Di().color().test(n);function i6(n,{format:e,hasAlpha:t,isString:r}){const i=Ofe[e]+(r&&e!=="hex"?"String":""),s=n[i]();return typeof s=="object"&&!t?cle(s,["a"]):s}const s6=(n,e)=>{const t=di(n);if(!t.isValid())throw Error("Invalid color");return i6(t,e)},Nfe=(n,e)=>i6(di(n),dt(dt({},e),{},{isString:!0,format:"hex"})),Ufe=({value:n})=>{const e=Wce(n),t=e==="name"?"hex":e,r=typeof n=="object"?"a"in n:e==="hex"&&n.length===8||/^(rgba)|(hsla)|(hsva)/.test(n),i={format:t,hasAlpha:r,isString:typeof n=="string"};return{value:s6(n,i),settings:i}};var zfe=Object.freeze({__proto__:null,schema:Ffe,sanitize:s6,format:Nfe,normalize:Ufe});const Gfe=ut("div",{position:"relative",boxSizing:"border-box",borderRadius:"$sm",overflow:"hidden",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",backgroundColor:"#fff",backgroundImage:`url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')`,$inputStyle:"",$hover:"",zIndex:1,variants:{active:{true:{$inputStyle:"$accent1"}}},"&::before":{content:'""',position:"absolute",top:0,bottom:0,right:0,left:0,backgroundColor:"currentColor",zIndex:1}}),Hfe=ut("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto",columnGap:"$colGap",alignItems:"center"}),Vfe=ut("div",{width:"$colorPickerWidth",height:"$colorPickerHeight",".react-colorful":{width:"100%",height:"100%",boxShadow:"$level2",cursor:"crosshair"},".react-colorful__saturation":{borderRadius:"$sm $sm 0 0"},".react-colorful__alpha, .react-colorful__hue":{height:10},".react-colorful__last-control":{borderRadius:"0 0 $sm $sm"},".react-colorful__pointer":{height:12,width:12}});function ik(n,e){return e!=="rgb"?di(n).toRgb():n}function Wfe({value:n,displayValue:e,settings:t,onUpdate:r}){const{emitOnEditStart:i,emitOnEditEnd:s}=qr(),{format:o,hasAlpha:a}=t,{popinRef:l,wrapperRef:c,shown:u,show:f,hide:d}=r6(),m=B.useRef(0),[g,v]=B.useState(()=>ik(n,o)),y=a?Zce:tue,x=()=>{v(ik(n,o)),f(),i()},_=()=>{d(),s(),window.clearTimeout(m.current)},w=()=>{m.current=window.setTimeout(_,500)};return B.useEffect(()=>()=>window.clearTimeout(m.current),[]),ee.createElement(ee.Fragment,null,ee.createElement(Gfe,{ref:l,active:u,onClick:()=>x(),style:{color:e}}),u&&ee.createElement(LE,null,ee.createElement(CG,{onPointerUp:_}),ee.createElement(Vfe,{ref:c,onMouseEnter:()=>window.clearTimeout(m.current),onMouseLeave:A=>A.buttons===0&&w()},ee.createElement(y,{color:g,onChange:r}))))}function jfe(){const{value:n,displayValue:e,label:t,onChange:r,onUpdate:i,settings:s}=qr();return ee.createElement(Zs,{input:!0},ee.createElement(To,null,t),ee.createElement(Hfe,null,ee.createElement(Wfe,{value:n,displayValue:e,onChange:r,onUpdate:i,settings:s}),ee.createElement(IE,{value:e,onChange:r,onUpdate:i})))}var $fe=dt({component:jfe},zfe);function Xfe(){const{label:n,displayValue:e,onUpdate:t,settings:r}=qr();return ee.createElement(Zs,{input:!0},ee.createElement(To,null,n),ee.createElement(OE,{value:e,settings:r,onUpdate:t}))}var Jfe=dt({component:Xfe},LG(["x","y","z"]));const Kfe=ut("div",{$flexCenter:"",position:"relative",backgroundColor:"$elevation3",borderRadius:"$sm",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",touchAction:"none",$draggable:"",$hover:"","&:active":{cursor:"none"},"&::after":{content:'""',backgroundColor:"$accent2",height:4,width:4,borderRadius:2}}),Yfe=ut("div",{$flexCenter:"",width:"$joystickWidth",height:"$joystickHeight",borderRadius:"$sm",boxShadow:"$level2",position:"fixed",zIndex:1e4,overflow:"hidden",$draggable:"",transform:"translate(-50%, -50%)",variants:{isOutOfBounds:{true:{backgroundColor:"$elevation1"},false:{backgroundColor:"$elevation3"}}},"> div":{position:"absolute",$flexCenter:"",borderStyle:"solid",borderWidth:1,borderColor:"$highlight1",backgroundColor:"$elevation3",width:"80%",height:"80%","&::after,&::before":{content:'""',position:"absolute",zindex:10,backgroundColor:"$highlight1"},"&::before":{width:"100%",height:1},"&::after":{height:"100%",width:1}},"> span":{position:"relative",zindex:100,width:10,height:10,backgroundColor:"$accent2",borderRadius:"50%"}});function Qfe({value:n,settings:e,onUpdate:t}){const r=B.useRef(),i=B.useRef(0),s=B.useRef(0),o=B.useRef(1),[a,l]=B.useState(!1),[c,u]=B.useState(!1),[f,d]=TG(),m=B.useRef(null),g=B.useRef(null);B.useLayoutEffect(()=>{if(a){const{top:N,left:z,width:k,height:V}=m.current.getBoundingClientRect();g.current.style.left=z+k/2+"px",g.current.style.top=N+V/2+"px"}},[a]);const{keys:[v,y],joystick:x}=e,_=x==="invertY"?1:-1,{[v]:{step:w},[y]:{step:A}}=e,C=ka("sizes","joystickWidth"),E=ka("sizes","joystickHeight"),P=parseFloat(C)*.8/2,b=parseFloat(E)*.8/2,R=B.useCallback(()=>{r.current||(u(!0),i.current&&d({x:i.current*P}),s.current&&d({y:s.current*-b}),r.current=window.setInterval(()=>{t(N=>{const z=w*i.current*o.current,k=_*A*s.current*o.current;return Array.isArray(N)?{[v]:N[0]+z,[y]:N[1]+k}:{[v]:N[v]+z,[y]:N[y]+k}})},16))},[P,b,t,d,w,A,v,y,_]),D=B.useCallback(()=>{window.clearTimeout(r.current),r.current=void 0,u(!1)},[]);B.useEffect(()=>{function N(z){o.current=dG(z)}return window.addEventListener("keydown",N),window.addEventListener("keyup",N),()=>{window.clearTimeout(r.current),window.removeEventListener("keydown",N),window.removeEventListener("keyup",N)}},[]);const L=r0(({first:N,active:z,delta:[k,V],movement:[W,Y]})=>{N&&l(!0);const O=hc(W,-P,P),U=hc(Y,-b,b);i.current=Math.abs(W)>Math.abs(O)?Math.sign(W-O):0,s.current=Math.abs(Y)>Math.abs(U)?Math.sign(U-Y):0;let H=n[v],G=n[y];z?(i.current||(H+=k*w*o.current,d({x:O})),s.current||(G-=_*V*A*o.current,d({y:U})),i.current||s.current?R():D(),t({[v]:H,[y]:G})):(l(!1),i.current=0,s.current=0,d({x:0,y:0}),D())});return ee.createElement(Kfe,Gn({ref:m},L()),a&&ee.createElement(LE,null,ee.createElement(Yfe,{ref:g,isOutOfBounds:c},ee.createElement("div",null),ee.createElement("span",{ref:f}))))}const qfe=ut("div",{display:"grid",columnGap:"$colGap",variants:{withJoystick:{true:{gridTemplateColumns:"$sizes$rowHeight auto"},false:{gridTemplateColumns:"auto"}}}});function Zfe(){const{label:n,displayValue:e,onUpdate:t,settings:r}=qr();return ee.createElement(Zs,{input:!0},ee.createElement(To,null,n),ee.createElement(qfe,{withJoystick:!!r.joystick},r.joystick&&ee.createElement(Qfe,{value:e,settings:r,onUpdate:t}),ee.createElement(OE,{value:e,settings:r,onUpdate:t})))}const ede=["joystick"],o6=LG(["x","y"]),tde=n=>{let{joystick:e=!0}=n,t=Zt(n,ede);const{value:r,settings:i}=o6.normalize(t);return{value:r,settings:dt(dt({},i),{},{joystick:e})}};var nde=dt(dt({component:Zfe},o6),{},{normalize:tde});const rde=n=>{if(n!==void 0){if(n instanceof File)try{return URL.createObjectURL(n)}catch{return}if(typeof n=="string"&&n.indexOf("blob:")===0)return n;throw Error("Invalid image format [undefined | blob |File].")}},ide=(n,e)=>typeof e=="object"&&"image"in e,sde=({image:n})=>({value:n});var ode=Object.freeze({__proto__:null,sanitize:rde,schema:ide,normalize:sde});const ade=ut("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto 20px",columnGap:"$colGap",alignItems:"center"}),lde=ut("div",{$flexCenter:"",overflow:"hidden",height:"$rowHeight",background:"$elevation3",textAlign:"center",color:"inherit",borderRadius:"$sm",outline:"none",userSelect:"none",cursor:"pointer",$inputStyle:"",$hover:"",$focusWithin:"",$active:"$accent1 $elevation1",variants:{isDragAccept:{true:{$inputStyle:"$accent1",backgroundColor:"$elevation1"}}}}),cde=ut("div",{boxSizing:"border-box",borderRadius:"$sm",height:"$rowHeight",width:"$rowHeight",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center",variants:{hasImage:{true:{cursor:"pointer",$hover:"",$active:""}}}}),ude=ut("div",{$flexCenter:"",width:"$imagePreviewWidth",height:"$imagePreviewHeight",borderRadius:"$sm",boxShadow:"$level2",pointerEvents:"none",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center"}),fde=ut("div",{fontSize:"0.8em",height:"100%",padding:"$rowGap $md"}),dde=ut("div",{$flexCenter:"",top:"0",right:"0",marginRight:"$sm",height:"100%",cursor:"pointer",variants:{disabled:{true:{color:"$elevation3",cursor:"default"}}},"&::after,&::before":{content:'""',position:"absolute",height:2,width:10,borderRadius:1,backgroundColor:"currentColor"},"&::after":{transform:"rotate(45deg)"},"&::before":{transform:"rotate(-45deg)"}});function hde(){const{label:n,value:e,onUpdate:t,disabled:r}=qr(),{popinRef:i,wrapperRef:s,shown:o,show:a,hide:l}=r6(),c=B.useCallback(g=>{g.length&&t(g[0])},[t]),u=B.useCallback(g=>{g.stopPropagation(),t(void 0)},[t]),{getRootProps:f,getInputProps:d,isDragAccept:m}=ZG({maxFiles:1,accept:"image/*",onDrop:c,disabled:r});return ee.createElement(Zs,{input:!0},ee.createElement(To,null,n),ee.createElement(ade,null,ee.createElement(cde,{ref:i,hasImage:!!e,onPointerDown:()=>!!e&&a(),onPointerUp:l,style:{backgroundImage:e?`url(${e})`:"none"}}),o&&!!e&&ee.createElement(LE,null,ee.createElement(CG,{onPointerUp:l,style:{cursor:"pointer"}}),ee.createElement(ude,{ref:s,style:{backgroundImage:`url(${e})`}})),ee.createElement(lde,f({isDragAccept:m}),ee.createElement("input",d()),ee.createElement(fde,null,m?"drop image":"click or drop")),ee.createElement(dde,{onClick:u,disabled:!e})))}var pde=dt({component:hde},ode);const sk=Di().number(),mde=(n,e)=>Di().array().length(2).every.number().test(n)&&Di().schema({min:sk,max:sk}).test(e),Q1=n=>({min:n[0],max:n[1]}),a6=(n,{bounds:[e,t]},r)=>{const i=Array.isArray(n)?Q1(n):n,s={min:r[0],max:r[1]},{min:o,max:a}=dt(dt({},s),i);return[hc(Number(o),e,Math.max(e,a)),hc(Number(a),Math.min(t,o),t)]},gde=({value:n,min:e,max:t})=>{const r={min:e,max:t},i=IG(Q1(n),{min:r,max:r}),s=[e,t],o=dt(dt({},i),{},{bounds:s});return{value:a6(Q1(n),o,n),settings:o}};var vde=Object.freeze({__proto__:null,schema:mde,format:Q1,sanitize:a6,normalize:gde});const yde=["value","bounds","onDrag"],_de=["bounds"],xde=ut("div",{display:"grid",columnGap:"$colGap",gridTemplateColumns:"auto calc($sizes$numberInputMinWidth * 2 + $space$rowGap)"});function wde(n){let{value:e,bounds:[t,r],onDrag:i}=n,s=Zt(n,yde);const o=B.useRef(null),a=B.useRef(null),l=B.useRef(null),c=B.useRef(0),u=ka("sizes","scrubberWidth"),f=r0(({event:g,first:v,xy:[y],movement:[x],memo:_={}})=>{if(v){const{width:A,left:C}=o.current.getBoundingClientRect();c.current=A-parseFloat(u);const E=(g==null?void 0:g.target)===a.current||(g==null?void 0:g.target)===l.current;_.pos=$1((y-C)/A,t,r);const P=Math.abs(_.pos-e.min)-Math.abs(_.pos-e.max);_.key=P<0||P===0&&_.pos<=e.min?"min":"max",E&&(_.pos=e[_.key])}const w=_.pos+$1(x/c.current,0,r-t);return i({[_.key]:Qle(w,s[_.key])}),_}),d=`calc(${j1(e.min,t,r)} * (100% - ${u} - 8px) + 4px)`,m=`calc(${1-j1(e.max,t,r)} * (100% - ${u} - 8px) + 4px)`;return ee.createElement(RG,Gn({ref:o},f()),ee.createElement(PG,null,ee.createElement(DG,{style:{left:d,right:m}})),ee.createElement(NM,{position:"left",ref:a,style:{left:d}}),ee.createElement(NM,{position:"right",ref:l,style:{right:m}}))}function Sde(){const{label:n,displayValue:e,onUpdate:t,settings:r}=qr(),i=Zt(r,_de);return ee.createElement(ee.Fragment,null,ee.createElement(Zs,{input:!0},ee.createElement(To,null,n),ee.createElement(xde,null,ee.createElement(wde,Gn({value:e},r,{onDrag:t})),ee.createElement(OE,{value:e,settings:i,onUpdate:t,innerLabelTrim:0}))))}var Ade=dt({component:Sde},vde);const bde=()=>{const n=new Map;return{on:(e,t)=>{let r=n.get(e);r===void 0&&(r=new Set,n.set(e,r)),r.add(t)},off:(e,t)=>{const r=n.get(e);r!==void 0&&(r.delete(t),r.size===0&&n.delete(e))},emit:(e,...t)=>{const r=n.get(e);if(r!==void 0)for(const i of r)i(...t)}}},Mde=["type","value"],Cde=["onChange","transient","onEditStart","onEditEnd"],Ede=function(){const e=XN(Uq(()=>({data:{}}))),t=bde();this.storeId=ale(),this.useStore=e;const r={},i=new Set;this.getVisiblePaths=()=>{const o=this.getData(),a=Object.keys(o),l=[];Object.entries(r).forEach(([u,f])=>{f.render&&a.some(d=>d.indexOf(u)===0)&&!f.render(this.get)&&l.push(u+".")});const c=[];return i.forEach(u=>{u in o&&o[u].__refCount>0&&l.every(f=>u.indexOf(f)===-1)&&(!o[u].render||o[u].render(this.get))&&c.push(u)}),c},this.setOrderedPaths=o=>{o.forEach(a=>i.add(a))},this.orderPaths=o=>(this.setOrderedPaths(o),o),this.disposePaths=o=>{e.setState(a=>{const l=a.data;return o.forEach(c=>{if(c in l){const u=l[c];u.__refCount--,u.__refCount===0&&u.type in _o&&delete l[c]}}),{data:l}})},this.dispose=()=>{e.setState(()=>({data:{}}))},this.getFolderSettings=o=>r[o]||{},this.getData=()=>e.getState().data,this.addData=(o,a)=>{e.setState(l=>{const c=l.data;return Object.entries(o).forEach(([u,f])=>{let d=c[u];if(d){const{type:m,value:g}=f,v=Zt(f,Mde);m!==d.type?Ma(bn.INPUT_TYPE_OVERRIDE,m):((d.__refCount===0||a)&&Object.assign(d,v),d.__refCount++)}else c[u]=dt(dt({},f),{},{__refCount:1})}),{data:c}})},this.setValueAtPath=(o,a,l)=>{e.setState(c=>{const u=c.data;return PL(u[o],a,o,this,l),{data:u}})},this.setSettingsAtPath=(o,a)=>{e.setState(l=>{const c=l.data;return c[o].settings=dt(dt({},c[o].settings),a),{data:c}})},this.disableInputAtPath=(o,a)=>{e.setState(l=>{const c=l.data;return c[o].disabled=a,{data:c}})},this.set=(o,a)=>{e.setState(l=>{const c=l.data;return Object.entries(o).forEach(([u,f])=>{try{PL(c[u],f,void 0,void 0,a)}catch{}}),{data:c}})},this.getInput=o=>{try{return this.getData()[o]}catch{Ma(bn.PATH_DOESNT_EXIST,o)}},this.get=o=>{var a;return(a=this.getInput(o))===null||a===void 0?void 0:a.value},this.emitOnEditStart=o=>{t.emit(`onEditStart:${o}`,this.get(o),o,dt(dt({},this.getInput(o)),{},{get:this.get}))},this.emitOnEditEnd=o=>{t.emit(`onEditEnd:${o}`,this.get(o),o,dt(dt({},this.getInput(o)),{},{get:this.get}))},this.subscribeToEditStart=(o,a)=>{const l=`onEditStart:${o}`;return t.on(l,a),()=>t.off(l,a)},this.subscribeToEditEnd=(o,a)=>{const l=`onEditEnd:${o}`;return t.on(l,a),()=>t.off(l,a)};const s=(o,a,l)=>{const c={};return Object.entries(o).forEach(([u,f])=>{if(u==="")return Ma(bn.EMPTY_KEY);let d=VE(a,u);if(f.type===_o.FOLDER){const m=s(f.schema,d,l);Object.assign(c,m),d in r||(r[d]=f.settings)}else if(u in l)Ma(bn.DUPLICATE_KEYS,u,d,l[u].path);else{const m=mle(f,u,d,c);if(m){const{type:g,options:v,input:y}=m,{onChange:x,transient:_,onEditStart:w,onEditEnd:A}=v,C=Zt(v,Cde);c[d]=dt(dt(dt({type:g},C),y),{},{fromPanel:!0}),l[u]={path:d,onChange:x,transient:_,onEditStart:w,onEditEnd:A}}else Ma(bn.UNKNOWN_INPUT,d,f)}}),c};this.getDataFromSchema=o=>{const a={};return[s(o,"",a),a]}},l6=new Ede,Tde={collapsed:!1};function Pde(n,e){return{type:_o.FOLDER,schema:n,settings:dt(dt({},Tde),e)}}const ok=n=>"__levaInput"in n,Rde=(n,e)=>{const t={},r=e?e.toLowerCase():null;return n.forEach(i=>{const[s,o]=Rfe(i);(!r||s.toLowerCase().indexOf(r)>-1)&&Pfe(t,o,{[s]:{__levaInput:!0,path:i}})}),t},Dde=["type","label","path","valueKey","value","settings","setValue","disabled"];function Bde(n){let{type:e,label:t,path:r,valueKey:i,value:s,settings:o,setValue:a,disabled:l}=n,c=Zt(n,Dde);const{displayValue:u,onChange:f,onUpdate:d}=EG({type:e,value:s,settings:o,setValue:a}),m=Qu[e].component;return m?ee.createElement(vG.Provider,{value:dt({key:i,path:r,id:""+r,label:t,displayValue:u,value:s,onChange:f,onUpdate:d,settings:o,setValue:a,disabled:l},c)},ee.createElement(kle,{disabled:l},ee.createElement(m,null))):(Ma(bn.NO_COMPONENT_FOR_TYPE,e,r),null)}const Ide=ut("button",{display:"block",$reset:"",fontWeight:"$button",height:"$rowHeight",borderStyle:"none",borderRadius:"$sm",backgroundColor:"$elevation1",color:"$highlight1","&:not(:disabled)":{color:"$highlight3",backgroundColor:"$accent2",cursor:"pointer",$hover:"$accent3",$active:"$accent3 $accent1",$focus:""}});function Lde({onClick:n,settings:e,label:t}){const r=n0();return ee.createElement(Zs,null,ee.createElement(Ide,{disabled:e.disabled,onClick:()=>n(r.get)},t))}const kde=ut("div",{$flex:"",justifyContent:"flex-end",gap:"$colGap"}),Ode=ut("button",{$reset:"",cursor:"pointer",borderRadius:"$xs","&:hover":{backgroundColor:"$elevation3"}}),Fde=({label:n,opts:e})=>{let t=typeof n=="string"&&n.trim()===""?null:n,r=e;return typeof e.opts=="object"&&(r.label!==void 0&&(t=e.label),r=e.opts),{label:t,opts:r}};function Nde(n){const{label:e,opts:t}=Fde(n),r=n0();return ee.createElement(Zs,{input:!!e},e&&ee.createElement(To,null,e),ee.createElement(kde,null,Object.entries(t).map(([i,s])=>ee.createElement(Ode,{key:i,onClick:()=>s(r.get)},i))))}const Ude=ut("canvas",{height:"$monitorHeight",width:"100%",display:"block",borderRadius:"$sm"}),c6=100;function zde(n,e){n.push(e),n.length>c6&&n.shift()}const Gde=B.forwardRef(function({initialValue:n},e){const t=ka("colors","highlight3"),r=ka("colors","elevation2"),i=ka("colors","highlight1"),[s,o]=B.useMemo(()=>[di(i).alpha(.4).toRgbString(),di(i).alpha(.1).toRgbString()],[i]),a=B.useRef([n]),l=B.useRef(n),c=B.useRef(n),u=B.useRef(),f=B.useCallback((g,v)=>{if(!g)return;const{width:y,height:x}=g,_=new Path2D,w=y/c6,A=x*.05;for(let P=0;P<a.current.length;P++){const b=j1(a.current[P],l.current,c.current),R=w*P,D=x-b*(x-A*2)-A;_.lineTo(R,D)}v.clearRect(0,0,y,x);const C=new Path2D(_);C.lineTo(w*(a.current.length+1),x),C.lineTo(0,x),C.lineTo(0,0);const E=v.createLinearGradient(0,0,0,x);E.addColorStop(0,s),E.addColorStop(1,o),v.fillStyle=E,v.fill(C),v.strokeStyle=r,v.lineJoin="round",v.lineWidth=14,v.stroke(_),v.strokeStyle=t,v.lineWidth=2,v.stroke(_)},[t,r,s,o]),[d,m]=Wle(f);return B.useImperativeHandle(e,()=>({frame:g=>{(l.current===void 0||g<l.current)&&(l.current=g),(c.current===void 0||g>c.current)&&(c.current=g),zde(a.current,g),u.current=requestAnimationFrame(()=>f(d.current,m.current))}}),[d,m,f]),B.useEffect(()=>()=>cancelAnimationFrame(u.current),[]),ee.createElement(Ude,{ref:d})}),ak=n=>Number.isFinite(n)?n.toPrecision(2):n.toString(),Hde=B.forwardRef(function({initialValue:n},e){const[t,r]=B.useState(ak(n));return B.useImperativeHandle(e,()=>({frame:i=>r(ak(i))}),[]),ee.createElement("div",null,t)});function lk(n){return typeof n=="function"?n():n.current}function Vde({label:n,objectOrFn:e,settings:t}){const r=B.useRef(),i=B.useRef(lk(e));return B.useEffect(()=>{const s=window.setInterval(()=>{var o;document.hidden||(o=r.current)===null||o===void 0||o.frame(lk(e))},t.interval);return()=>window.clearInterval(s)},[e,t.interval]),ee.createElement(Zs,{input:!0},ee.createElement(To,{align:"top"},n),t.graph?ee.createElement(Gde,{ref:r,initialValue:i.current}):ee.createElement(Hde,{ref:r,initialValue:i.current}))}const Wde=["type","label","key"],jde={[_o.BUTTON]:Lde,[_o.BUTTON_GROUP]:Nde,[_o.MONITOR]:Vde},$de=ee.memo(({path:n})=>{const[e,{set:t,setSettings:r,disable:i,storeId:s,emitOnEditStart:o,emitOnEditEnd:a}]=$le(n);if(!e)return null;const{type:l,label:c,key:u}=e,f=Zt(e,Wde);if(l in _o){const d=jde[l];return ee.createElement(d,Gn({label:c,path:n},f))}return l in Qu?ee.createElement(Bde,Gn({key:s+n,type:l,label:c,storeId:s,path:n,valueKey:u,setValue:t,setSettings:r,disable:i,emitOnEditStart:o,emitOnEditEnd:a},f)):(Zae(bn.UNSUPPORTED_INPUT,l,n),null)});function Xde({toggle:n,toggled:e,name:t}){return ee.createElement(Ble,{onClick:()=>n()},ee.createElement(kE,{toggled:e}),ee.createElement("div",null,t))}const Jde=({name:n,path:e,tree:t})=>{const r=n0(),i=VE(e,n),{collapsed:s,color:o}=r.getFolderSettings(i),[a,l]=B.useState(!s),c=B.useRef(null),u=ka("colors","folderWidgetColor"),f=ka("colors","folderTextColor");return B.useLayoutEffect(()=>{c.current.style.setProperty("--leva-colors-folderWidgetColor",o||u),c.current.style.setProperty("--leva-colors-folderTextColor",o||f)},[o,u,f]),ee.createElement(X1,{ref:c},ee.createElement(Xde,{name:n,toggled:a,toggle:()=>l(d=>!d)}),ee.createElement(u6,{parent:i,tree:t,toggled:a}))},u6=ee.memo(({isRoot:n=!1,fill:e=!1,flat:t=!1,parent:r,tree:i,toggled:s})=>{const{wrapperRef:o,contentRef:a}=Ife(s),l=n0(),c=([f,d])=>{var m;return(ok(d)?(m=l.getInput(d.path))===null||m===void 0?void 0:m.order:l.getFolderSettings(VE(r,f)).order)||0},u=Object.entries(i).sort((f,d)=>c(f)-c(d));return ee.createElement(OM,{ref:o,isRoot:n,fill:e,flat:t},ee.createElement(AG,{ref:a,isRoot:n,toggled:s},u.map(([f,d])=>ok(d)?ee.createElement($de,{key:d.path,valueKey:d.valueKey,path:d.path}):ee.createElement(Jde,{key:f,name:f,path:r,tree:d}))))}),Kde=ut("div",{position:"relative",fontFamily:"$mono",fontSize:"$root",color:"$rootText",backgroundColor:"$elevation1",variants:{fill:{false:{position:"fixed",top:"10px",right:"10px",zIndex:1e3,width:"$rootWidth"},true:{position:"relative",width:"100%"}},flat:{false:{borderRadius:"$lg",boxShadow:"$level1"}},oneLineLabels:{true:{[`${MG}`]:{gridTemplateColumns:"auto",gridAutoColumns:"minmax(max-content, 1fr)",gridAutoRows:"minmax($sizes$rowHeight), auto)",rowGap:0,columnGap:0,marginTop:"$rowGap"}}},hideTitleBar:{true:{$$titleBarHeight:"0px"},false:{$$titleBarHeight:"$sizes$titleBarHeight"}}},"&,*,*:after,*:before":{boxSizing:"border-box"},"*::selection":{backgroundColor:"$accent2"}}),f6=40,q1=ut("i",{$flexCenter:"",width:f6,userSelect:"none",cursor:"pointer","> svg":{fill:"$highlight1",transition:"transform 350ms ease, fill 250ms ease"},"&:hover > svg":{fill:"$highlight3"},variants:{active:{true:{"> svg":{fill:"$highlight2"}}}}}),Yde=ut("div",{display:"flex",alignItems:"stretch",justifyContent:"space-between",height:"$titleBarHeight",variants:{mode:{drag:{cursor:"grab"}}}}),Qde=ut("div",{$flex:"",position:"relative",width:"100%",overflow:"hidden",transition:"height 250ms ease",color:"$highlight3",paddingLeft:"$md",[`> ${q1}`]:{height:30},variants:{toggled:{true:{height:30},false:{height:0}}}}),qde=ut("input",{$reset:"",flex:1,position:"relative",height:30,width:"100%",backgroundColor:"transparent",fontSize:"10px",borderRadius:"$root","&:focus":{},"&::placeholder":{color:"$highlight2"}}),Zde=ut("div",{touchAction:"none",$flexCenter:"",flex:1,"> svg":{fill:"$highlight1"},color:"$highlight1",variants:{drag:{true:{$draggable:"","> svg":{transition:"fill 250ms ease"},"&:hover":{color:"$highlight3"},"&:hover > svg":{fill:"$highlight3"}}},filterEnabled:{false:{paddingRight:f6}}}}),ehe=ee.forwardRef(({setFilter:n,toggle:e},t)=>{const[r,i]=B.useState(""),s=B.useMemo(()=>fG(n,250),[n]),o=()=>{n(""),i("")},a=l=>{const c=l.currentTarget.value;e(!0),i(c)};return B.useEffect(()=>{s(r)},[r,s]),ee.createElement(ee.Fragment,null,ee.createElement(qde,{ref:t,value:r,placeholder:"[Open filter with CMD+SHIFT+L]",onPointerDown:l=>l.stopPropagation(),onChange:a}),ee.createElement(q1,{onClick:()=>o(),style:{visibility:r?"visible":"hidden"}},ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"14",width:"14",viewBox:"0 0 20 20",fill:"currentColor"},ee.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"}))))});function the({setFilter:n,onDrag:e,onDragStart:t,onDragEnd:r,toggle:i,toggled:s,title:o,drag:a,filterEnabled:l,from:c}){const[u,f]=B.useState(!1),d=B.useRef(null);B.useEffect(()=>{var g,v;u?(g=d.current)===null||g===void 0||g.focus():(v=d.current)===null||v===void 0||v.blur()},[u]);const m=r0(({offset:[g,v],first:y,last:x})=>{e({x:g,y:v}),y&&t({x:g,y:v}),x&&r({x:g,y:v})},{filterTaps:!0,from:({offset:[g,v]})=>[(c==null?void 0:c.x)||g,(c==null?void 0:c.y)||v]});return B.useEffect(()=>{const g=v=>{v.key==="L"&&v.shiftKey&&v.metaKey&&f(y=>!y)};return window.addEventListener("keydown",g),()=>window.removeEventListener("keydown",g)},[]),ee.createElement(ee.Fragment,null,ee.createElement(Yde,{mode:a?"drag":void 0},ee.createElement(q1,{active:!s,onClick:()=>i()},ee.createElement(kE,{toggled:s,width:12,height:8})),ee.createElement(Zde,Gn({},a?m():{},{drag:a,filterEnabled:l}),o===void 0&&a?ee.createElement("svg",{width:"20",height:"10",viewBox:"0 0 28 14",xmlns:"http://www.w3.org/2000/svg"},ee.createElement("circle",{cx:"2",cy:"2",r:"2"}),ee.createElement("circle",{cx:"14",cy:"2",r:"2"}),ee.createElement("circle",{cx:"26",cy:"2",r:"2"}),ee.createElement("circle",{cx:"2",cy:"12",r:"2"}),ee.createElement("circle",{cx:"14",cy:"12",r:"2"}),ee.createElement("circle",{cx:"26",cy:"12",r:"2"})):o),l&&ee.createElement(q1,{active:u,onClick:()=>f(g=>!g)},ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20",viewBox:"0 0 20 20"},ee.createElement("path",{d:"M9 9a2 2 0 114 0 2 2 0 01-4 0z"}),ee.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a4 4 0 00-3.446 6.032l-2.261 2.26a1 1 0 101.414 1.415l2.261-2.261A4 4 0 1011 5z",clipRule:"evenodd"})))),ee.createElement(Qde,{toggled:u},ee.createElement(ehe,{ref:d,setFilter:n,toggle:i})))}const nhe=["store","hidden","theme","collapsed"];function rhe(n){let{store:e,hidden:t=!1,theme:r,collapsed:i=!1}=n,s=Zt(n,nhe);const o=n6(()=>Cle(r),[r]),[a,l]=B.useState(!i),c=typeof i=="object"?!i.collapsed:a,u=B.useMemo(()=>typeof i=="object"?f=>{typeof f=="function"?i.onChange(!f(!i.collapsed)):i.onChange(!f)}:l,[i]);return!e||t?null:ee.createElement(BE.Provider,{value:o},ee.createElement(ihe,Gn({store:e},s,{toggled:c,setToggle:u,rootClass:o.className})))}const ihe=ee.memo(({store:n,rootClass:e,fill:t=!1,flat:r=!1,neverHide:i=!1,oneLineLabels:s=!1,titleBar:o={title:void 0,drag:!0,filter:!0,position:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0},hideCopyButton:a=!1,toggled:l,setToggle:c})=>{var u,f;const d=Lfe(n),[m,g]=B.useState(""),v=B.useMemo(()=>Rde(d,m),[d,m]),[y,x]=TG(),_=i||d.length>0,w=typeof o=="object"&&o.title||void 0,A=typeof o=="object"&&(u=o.drag)!==null&&u!==void 0?u:!0,C=typeof o=="object"&&(f=o.filter)!==null&&f!==void 0?f:!0,E=typeof o=="object"&&o.position||void 0,P=typeof o=="object"&&o.onDrag||void 0,b=typeof o=="object"&&o.onDragStart||void 0,R=typeof o=="object"&&o.onDragEnd||void 0;return ee.useEffect(()=>{x({x:E==null?void 0:E.x,y:E==null?void 0:E.y})},[E,x]),Mle(),ee.createElement(_G.Provider,{value:{hideCopyButton:a}},ee.createElement(Kde,{ref:y,className:e,fill:t,flat:r,oneLineLabels:s,hideTitleBar:!o,style:{display:_?"block":"none"}},o&&ee.createElement(the,{onDrag:D=>{x(D),P==null||P(D)},onDragStart:D=>b==null?void 0:b(D),onDragEnd:D=>R==null?void 0:R(D),setFilter:g,toggle:D=>c(L=>D??!L),toggled:l,title:w,drag:A,filterEnabled:C,from:E}),_&&ee.createElement(yG.Provider,{value:n},ee.createElement(u6,{isRoot:!0,fill:t,flat:r,tree:v,toggled:l}))))}),she=["isRoot"];let Z1=!1,_u=null;function d6(n){let{isRoot:e=!1}=n,t=Zt(n,she);return B.useEffect(()=>(Z1=!0,!e&&_u&&(_u.remove(),_u=null),()=>{e||(Z1=!1)}),[e]),ee.createElement(rhe,Gn({store:l6},t))}function ohe(n){B.useEffect(()=>{n&&!Z1&&(_u||(_u=document.getElementById("leva__root")||Object.assign(document.createElement("div"),{id:"leva__root"}),document.body&&(document.body.appendChild(_u),vle(ee.createElement(d6,{isRoot:!0}),_u))),Z1=!0)},[n])}function ahe(n,e,t,r,i){let s,o,a,l,c;return typeof n=="string"?(o=n,s=e,Array.isArray(t)?c=t:t&&("store"in t?(l=t,c=r):(a=t,Array.isArray(r)?c=r:(l=r,c=i)))):(s=n,Array.isArray(e)?c=e:(l=e,c=t)),{schema:s,folderName:o,folderSettings:a,hookSettings:l,deps:c||[]}}function lhe(n,e,t,r,i){const{folderName:s,schema:o,folderSettings:a,hookSettings:l,deps:c}=ahe(n,e,t,r,i),u=typeof o=="function",f=B.useRef(!1),d=B.useRef(!0),m=n6(()=>{f.current=!0;const L=typeof o=="function"?o():o;return s?{[s]:Pde(L,a)}:L},c),g=!(l!=null&&l.store);ohe(g);const[v]=B.useState(()=>(l==null?void 0:l.store)||l6),[y,x]=B.useMemo(()=>v.getDataFromSchema(m),[v,m]),[_,w,A,C,E]=B.useMemo(()=>{const L=[],N=[],z={},k={},V={};return Object.values(x).forEach(({path:W,onChange:Y,onEditStart:O,onEditEnd:U,transient:H})=>{L.push(W),Y?(z[W]=Y,H||N.push(W)):N.push(W),O&&(k[W]=O),U&&(V[W]=U)}),[L,N,z,k,V]},[x]),P=B.useMemo(()=>v.orderPaths(_),[_,v]),b=kfe(v,w,y),R=B.useCallback(L=>{const N=Object.entries(L).reduce((z,[k,V])=>Object.assign(z,{[x[k].path]:V}),{});v.set(N,!1)},[v,x]),D=B.useCallback(L=>v.get(x[L].path),[v,x]);return B.useEffect(()=>{const L=!d.current&&f.current;return v.addData(y,L),d.current=!1,f.current=!1,()=>v.disposePaths(P)},[v,P,y]),B.useEffect(()=>{const L=[];return Object.entries(A).forEach(([N,z])=>{z(v.get(N),N,dt({initial:!0,get:v.get},v.getInput(N)));const k=v.useStore.subscribe(V=>{const W=V.data[N];return[W.disabled?void 0:W.value,W]},([V,W])=>z(V,N,dt({initial:!1,get:v.get},W)),{equalityFn:Kg});L.push(k)}),()=>L.forEach(N=>N())},[v,A]),B.useEffect(()=>{const L=[];return Object.entries(C).forEach(([N,z])=>L.push(v.subscribeToEditStart(N,z))),Object.entries(E).forEach(([N,z])=>L.push(v.subscribeToEditEnd(N,z))),()=>L.forEach(N=>N())},[C,E,v]),u?[b,R,D]:b}rl(Ao.SELECT,cce);rl(Ao.IMAGE,pde);rl(Ao.NUMBER,Zle);rl(Ao.COLOR,$fe);rl(Ao.STRING,yce);rl(Ao.BOOLEAN,Mce);rl(Ao.INTERVAL,Ade);rl(Ao.VECTOR3D,Jfe);rl(Ao.VECTOR2D,nde);const ck=.08;let uk=0,fk=0,_y=0,xy=0;const che=()=>{const n=B.useRef(),[e,t]=B.useState(!1),r=()=>{let i=uk-_y,s=fk-xy;_y=_y+i*ck,xy=xy+s*ck,n.current.style.left=`${_y}px`,n.current.style.top=`${xy}px`,requestAnimationFrame(r)};return B.useEffect(()=>{const i=document.addEventListener("mousemove",function(o){uk=o.pageX,fk=o.pageY}),s=requestAnimationFrame(r);return()=>{document.removeEventListener("mousemove",i),cancelAnimationFrame(s)}},[]),B.useEffect(()=>{const i=document.addEventListener("mouseover",function(s){s.target.tagName.toLowerCase()==="button"||s.target.parentElement.tagName.toLowerCase()==="button"||s.target.tagName.toLowerCase()==="input"||s.target.tagName.toLowerCase()==="textarea"?t(!0):t(!1)});return()=>{document.removeEventListener("mouseover",i)}},[]),ae.jsx(ae.Fragment,{children:ae.jsx("div",{className:`z-50 fixed -translate-x-1/2 -translate-y-1/2 rounded-full pointer-events-none transition-transform
        ${e?"bg-transparent border-2 border-indigo-900 w-5 h-5":"bg-indigo-500 w-3 h-3"}`,ref:n})})};function uhe(n,{whileHover:e,onHoverStart:t,onHoverEnd:r,onPointerOver:i,onPointerOut:s},o){return n||!o||!(e||t||r)?{}:{onPointerOver:l=>{var c;(c=o.animationState)===null||c===void 0||c.setActive("whileHover",!0),i&&i(l)},onPointerOut:l=>{var c;(c=o.animationState)===null||c===void 0||c.setActive("whileHover",!1),s&&s(l)}}}function fhe(n,{whileTap:e,onTapStart:t,onTap:r,onTapCancel:i,onPointerDown:s},o){const a=r||t||i||e,l=B.useRef(!1),c=B.useRef(null);if(n||!o||!a)return{};function u(){var g;(g=c.current)===null||g===void 0||g.call(c),c.current=null}function f(){var g;return u(),l.current=!1,(g=o.animationState)===null||g===void 0||g.setActive("whileTap",!1),!fE()}function d(g,v){f()&&(r==null||r(g,v))}function m(g,v){f()&&(i==null||i(g,v))}return{onPointerDown:w5((g,v)=>{var y;if(u(),l.current)return;l.current=!0;const x={passive:!(t||r||i||s)};c.current=Ia(yo(window,"pointerup",d,x),yo(window,"pointercancel",m,x)),(y=o.animationState)===null||y===void 0||y.setActive("whileTap",!0),s==null||s(g),t==null||t(g,v)})}}const dhe=(n,e,t,r,i,s)=>{const o=hhe(e);return B.createElement(n,Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({ref:t},p5(e,!1,!1)),o),{onUpdate:e.onInstanceUpdate}),uhe(i,e,s)),fhe(i,e,s)))};function hhe(n){return B.useMemo(()=>{const e={};for(const t in n){const r=n[t];Un(r)?e[t]=r.get():Array.isArray(r)&&r.includes(Un)&&(e[t]=r.map(gm))}return e},[])}const h6=(n,e)=>t=>(r,i)=>{r[n]===void 0&&(r[n]=new $(e)),r[n].setComponent(t,i)},phe=(n,e)=>t=>(r,i)=>{r[n]===void 0&&(r[n]=new ns(e));const s=r[n];s[t]=i},dk=n=>(e,t)=>{e[n]===void 0&&(e[n]=new He(t)),e[n].set(t)},lA=h6("scale",1),cA=h6("position",0),uA=phe("rotation",0),hk={x:cA(0),y:cA(1),z:cA(2),scale:(n,e)=>{n.scale===void 0&&(n.scale=new $(1)),n.scale.set(e,e,e)},scaleX:lA(0),scaleY:lA(1),scaleZ:lA(2),rotateX:uA("x"),rotateY:uA("y"),rotateZ:uA("z"),color:dk("color"),specular:dk("specular")};function mhe(n,e,t){hk[e]?hk[e](n,t[e]):(e==="opacity"&&!n.transparent&&(n.transparent=!0),n[e]=t[e])}const WE=(n,e)=>t=>r=>{const i=r[n];return i?i[t]:e},fA=WE("position",0),wy=WE("scale",1),dA=WE("rotation",0),pk={x:fA("x"),y:fA("y"),z:fA("z"),scale:wy("x"),scaleX:wy("x"),scaleY:wy("y"),scaleZ:wy("z"),rotateX:dA("x"),rotateY:dA("y"),rotateZ:dA("z")};function ghe(n){if(n!==void 0)return n instanceof He?n.getStyle():n}function vhe(n,e){return pk[e]?pk[e](n):ghe(n[e])||0}const yhe=["x","y","z"],mk={"position-x":"x","position-y":"y","position-z":"z","rotation-x":"rotateX","rotation-y":"rotateY","rotation-z":"rotateZ","scale-x":"scaleX","scale-y":"scaleY","scale-z":"scaleZ"},p6=(n,e)=>{const t={};for(const r in n){const i=n[r];if(Un(i)||Un(e[r]))t[mk[r]||r]=i;else if(Array.isArray(i))for(let s=0;s<i.length;s++){const o=i[s];if(Un(o)||Array.isArray(e[r])&&Un(e[r][s])){const a=mk[r+"-"+yhe[s]];t[a]=o}}}return t},_he=()=>({});class xhe extends Cz{constructor(){super(...arguments),this.type="three"}readValueFromInstance(e,t){return vhe(e,t)}getBaseTargetFromProps(){}sortInstanceNodePosition(e,t){return e.id-t.id}makeTargetAnimatableFromInstance(e){var{transition:t,transitionEnd:r}=e,i=nue(e,["transition","transitionEnd"]);return oz(this,i,{}),Object.assign(Object.assign({},i),{transition:t,transitionEnd:r})}removeValueFromRenderState(){}measureInstanceViewportBox(){return $n()}scrapeMotionValuesFromProps(e,t){return p6(e,t)}build(e,t){for(const r in t)e[r]=t[r]}renderInstance(e,t){for(const r in t)mhe(e,r,t)}}const whe=(n,e)=>new xhe(e,{}),She=uE({scrapeMotionValuesFromProps:p6,createRenderState:_he}),Ahe=Object.assign({},az);function gk(n){return s5({Component:n,preloadedFeatures:Ahe,useRender:dhe,useVisualState:She,createVisualElement:whe})}const hA=new Map,Ls=new Proxy(gk,{get:(n,e)=>(!hA.has(e)&&hA.set(e,gk(e)),hA.get(e))}),QM={type:"spring",mass:5,stiffness:500,damping:50,restDelta:1e-4};function bhe(n){const{animation:e}=n,{headFollow:t,cursorFollow:r,wireframe:i}=lhe({headFollow:!1,cursorFollow:!1,wireframe:!1}),s=B.useRef(),{nodes:o,materials:a}=af("models/character.glb"),{animations:l}=hm("animations/Typing.fbx"),{animations:c}=hm("animations/Standing Idle.fbx"),{animations:u}=hm("animations/Falling Idle.fbx");l[0].name="Typing",c[0].name="Standing",u[0].name="Falling";const{actions:f}=ete([l[0],c[0],u[0]],s);return hs(d=>{if(t&&s.current.getObjectByName("Head").lookAt(d.camera.position),r){const m=new $(d.mouse.x,d.mouse.y,1);s.current.getObjectByName("Spine2").lookAt(m)}}),B.useEffect(()=>(f[e].reset().fadeIn(.5).play(),()=>{f[e].reset().fadeOut(.5)}),[e]),B.useEffect(()=>{Object.values(a).forEach(d=>{d.wireframe=i})},[i]),ae.jsx("group",{...n,ref:s,dispose:null,children:ae.jsxs("group",{children:[ae.jsx("primitive",{object:o.Hips}),ae.jsx("skinnedMesh",{frustumCulled:!1,geometry:o.Wolf3D_Body.geometry,material:a.Wolf3D_Body,skeleton:o.Wolf3D_Body.skeleton}),ae.jsx("skinnedMesh",{frustumCulled:!1,geometry:o.Wolf3D_Outfit_Bottom.geometry,material:a.Wolf3D_Outfit_Bottom,skeleton:o.Wolf3D_Outfit_Bottom.skeleton}),ae.jsx("skinnedMesh",{frustumCulled:!1,geometry:o.Wolf3D_Outfit_Footwear.geometry,material:a.Wolf3D_Outfit_Footwear,skeleton:o.Wolf3D_Outfit_Footwear.skeleton}),ae.jsx("skinnedMesh",{frustumCulled:!1,geometry:o.Wolf3D_Outfit_Top.geometry,material:a.Wolf3D_Outfit_Top,skeleton:o.Wolf3D_Outfit_Top.skeleton}),ae.jsx("skinnedMesh",{frustumCulled:!1,geometry:o.Wolf3D_Hair.geometry,material:a.Wolf3D_Hair,skeleton:o.Wolf3D_Hair.skeleton}),ae.jsx("skinnedMesh",{frustumCulled:!1,name:"EyeLeft",geometry:o.EyeLeft.geometry,material:a.Wolf3D_Eye,skeleton:o.EyeLeft.skeleton,morphTargetDictionary:o.EyeLeft.morphTargetDictionary,morphTargetInfluences:o.EyeLeft.morphTargetInfluences}),ae.jsx("skinnedMesh",{frustumCulled:!1,name:"EyeRight",geometry:o.EyeRight.geometry,material:a.Wolf3D_Eye,skeleton:o.EyeRight.skeleton,morphTargetDictionary:o.EyeRight.morphTargetDictionary,morphTargetInfluences:o.EyeRight.morphTargetInfluences}),ae.jsx("skinnedMesh",{frustumCulled:!1,name:"Wolf3D_Head",geometry:o.Wolf3D_Head.geometry,material:a.Wolf3D_Skin,skeleton:o.Wolf3D_Head.skeleton,morphTargetDictionary:o.Wolf3D_Head.morphTargetDictionary,morphTargetInfluences:o.Wolf3D_Head.morphTargetInfluences}),ae.jsx("skinnedMesh",{frustumCulled:!1,name:"Wolf3D_Teeth",geometry:o.Wolf3D_Teeth.geometry,material:a.Wolf3D_Teeth,skeleton:o.Wolf3D_Teeth.skeleton,morphTargetDictionary:o.Wolf3D_Teeth.morphTargetDictionary,morphTargetInfluences:o.Wolf3D_Teeth.morphTargetInfluences})]})})}af.preload("models/character.glb");function xa(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function m6(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}/*!
 * GSAP 3.12.2
 * https://greensock.com
 *
 * @license Copyright 2008-2023, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var as={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},uh={duration:.5,overwrite:!1,delay:0},jE,Jr,On,Vs=1e8,sn=1/Vs,qM=Math.PI*2,Mhe=qM/4,Che=0,g6=Math.sqrt,Ehe=Math.cos,The=Math.sin,br=function(e){return typeof e=="string"},zn=function(e){return typeof e=="function"},Xa=function(e){return typeof e=="number"},$E=function(e){return typeof e>"u"},ea=function(e){return typeof e=="object"},ki=function(e){return e!==!1},XE=function(){return typeof window<"u"},Sy=function(e){return zn(e)||br(e)},v6=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},Kr=Array.isArray,ZM=/(?:-?\.?\d|\.)+/gi,y6=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Pd=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,pA=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,_6=/[+-]=-?[.\d]+/,x6=/[^,'"\[\]\s]+/gi,Phe=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Cn,Bs,e2,JE,us={},e_={},w6,S6=function(e){return(e_=qu(e,us))&&Ui},KE=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},t_=function(e,t){return!t&&console.warn(e)},A6=function(e,t){return e&&(us[e]=t)&&e_&&(e_[e]=t)||us},hg=function(){return 0},Rhe={suppressEvents:!0,isStart:!0,kill:!1},Yy={suppressEvents:!0,kill:!1},Dhe={suppressEvents:!0},YE={},Zl=[],t2={},b6,qi={},mA={},vk=30,Qy=[],QE="",qE=function(e){var t=e[0],r,i;if(ea(t)||zn(t)||(e=[e]),!(r=(t._gsap||{}).harness)){for(i=Qy.length;i--&&!Qy[i].targetTest(t););r=Qy[i]}for(i=e.length;i--;)e[i]&&(e[i]._gsap||(e[i]._gsap=new J6(e[i],r)))||e.splice(i,1);return e},Bu=function(e){return e._gsap||qE(Ws(e))[0]._gsap},M6=function(e,t,r){return(r=e[t])&&zn(r)?e[t]():$E(r)&&e.getAttribute&&e.getAttribute(t)||r},Oi=function(e,t){return(e=e.split(",")).forEach(t)||e},Jn=function(e){return Math.round(e*1e5)/1e5||0},Dr=function(e){return Math.round(e*1e7)/1e7||0},Hd=function(e,t){var r=t.charAt(0),i=parseFloat(t.substr(2));return e=parseFloat(e),r==="+"?e+i:r==="-"?e-i:r==="*"?e*i:e/i},Bhe=function(e,t){for(var r=t.length,i=0;e.indexOf(t[i])<0&&++i<r;);return i<r},n_=function(){var e=Zl.length,t=Zl.slice(0),r,i;for(t2={},Zl.length=0,r=0;r<e;r++)i=t[r],i&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},C6=function(e,t,r,i){Zl.length&&!Jr&&n_(),e.render(t,r,i||Jr&&t<0&&(e._initted||e._startAt)),Zl.length&&!Jr&&n_()},E6=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(x6).length<2?t:br(e)?e.trim():e},T6=function(e){return e},Qs=function(e,t){for(var r in t)r in e||(e[r]=t[r]);return e},Ihe=function(e){return function(t,r){for(var i in r)i in t||i==="duration"&&e||i==="ease"||(t[i]=r[i])}},qu=function(e,t){for(var r in t)e[r]=t[r];return e},yk=function n(e,t){for(var r in t)r!=="__proto__"&&r!=="constructor"&&r!=="prototype"&&(e[r]=ea(t[r])?n(e[r]||(e[r]={}),t[r]):t[r]);return e},r_=function(e,t){var r={},i;for(i in e)i in t||(r[i]=e[i]);return r},Sm=function(e){var t=e.parent||Cn,r=e.keyframes?Ihe(Kr(e.keyframes)):Qs;if(ki(e.inherit))for(;t;)r(e,t.vars.defaults),t=t.parent||t._dp;return e},Lhe=function(e,t){for(var r=e.length,i=r===t.length;i&&r--&&e[r]===t[r];);return r<0},P6=function(e,t,r,i,s){r===void 0&&(r="_first"),i===void 0&&(i="_last");var o=e[i],a;if(s)for(a=t[s];o&&o[s]>a;)o=o._prev;return o?(t._next=o._next,o._next=t):(t._next=e[r],e[r]=t),t._next?t._next._prev=t:e[i]=t,t._prev=o,t.parent=t._dp=e,t},fx=function(e,t,r,i){r===void 0&&(r="_first"),i===void 0&&(i="_last");var s=t._prev,o=t._next;s?s._next=o:e[r]===t&&(e[r]=o),o?o._prev=s:e[i]===t&&(e[i]=s),t._next=t._prev=t.parent=null},pc=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Iu=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var r=e;r;)r._dirty=1,r=r.parent;return e},khe=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},n2=function(e,t,r,i){return e._startAt&&(Jr?e._startAt.revert(Yy):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,i))},Ohe=function n(e){return!e||e._ts&&n(e.parent)},_k=function(e){return e._repeat?fh(e._tTime,e=e.duration()+e._rDelay)*e:0},fh=function(e,t){var r=Math.floor(e/=t);return e&&r===e?r-1:r},i_=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},dx=function(e){return e._end=Dr(e._start+(e._tDur/Math.abs(e._ts||e._rts||sn)||0))},hx=function(e,t){var r=e._dp;return r&&r.smoothChildTiming&&e._ts&&(e._start=Dr(r._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),dx(e),r._dirty||Iu(r,e)),e},R6=function(e,t){var r;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(r=i_(e.rawTime(),t),(!t._dur||o0(0,t.totalDuration(),r)-t._tTime>sn)&&t.render(r,!0)),Iu(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(r=e;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;e._zTime=-sn}},Go=function(e,t,r,i){return t.parent&&pc(t),t._start=Dr((Xa(r)?r:r||e!==Cn?Rs(e,r,t):e._time)+t._delay),t._end=Dr(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),P6(e,t,"_first","_last",e._sort?"_start":0),r2(t)||(e._recent=t),i||R6(e,t),e._ts<0&&hx(e,e._tTime),e},D6=function(e,t){return(us.ScrollTrigger||KE("scrollTrigger",t))&&us.ScrollTrigger.create(t,e)},B6=function(e,t,r,i,s){if(eT(e,t,s),!e._initted)return 1;if(!r&&e._pt&&!Jr&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&b6!==es.frame)return Zl.push(e),e._lazy=[s,i],1},Fhe=function n(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||n(t))},r2=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},Nhe=function(e,t,r,i){var s=e.ratio,o=t<0||!t&&(!e._start&&Fhe(e)&&!(!e._initted&&r2(e))||(e._ts<0||e._dp._ts<0)&&!r2(e))?0:1,a=e._rDelay,l=0,c,u,f;if(a&&e._repeat&&(l=o0(0,e._tDur,t),u=fh(l,a),e._yoyo&&u&1&&(o=1-o),u!==fh(e._tTime,a)&&(s=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==s||Jr||i||e._zTime===sn||!t&&e._zTime){if(!e._initted&&B6(e,t,i,r,l))return;for(f=e._zTime,e._zTime=t||(r?sn:0),r||(r=t&&!f),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=l,c=e._pt;c;)c.r(o,c.d),c=c._next;t<0&&n2(e,t,r,!0),e._onUpdate&&!r&&js(e,"onUpdate"),l&&e._repeat&&!r&&e.parent&&js(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===o&&(o&&pc(e,1),!r&&!Jr&&(js(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},Uhe=function(e,t,r){var i;if(r>t)for(i=e._first;i&&i._start<=r;){if(i.data==="isPause"&&i._start>t)return i;i=i._next}else for(i=e._last;i&&i._start>=r;){if(i.data==="isPause"&&i._start<t)return i;i=i._prev}},dh=function(e,t,r,i){var s=e._repeat,o=Dr(t)||0,a=e._tTime/e._tDur;return a&&!i&&(e._time*=o/e._dur),e._dur=o,e._tDur=s?s<0?1e10:Dr(o*(s+1)+e._rDelay*s):o,a>0&&!i&&hx(e,e._tTime=e._tDur*a),e.parent&&dx(e),r||Iu(e.parent,e),e},xk=function(e){return e instanceof Ti?Iu(e):dh(e,e._dur)},zhe={_start:0,endTime:hg,totalDuration:hg},Rs=function n(e,t,r){var i=e.labels,s=e._recent||zhe,o=e.duration()>=Vs?s.endTime(!1):e._dur,a,l,c;return br(t)&&(isNaN(t)||t in i)?(l=t.charAt(0),c=t.substr(-1)==="%",a=t.indexOf("="),l==="<"||l===">"?(a>=0&&(t=t.replace(/=/,"")),(l==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(t.substr(1))||0)*(c?(a<0?s:r).totalDuration()/100:1)):a<0?(t in i||(i[t]=o),i[t]):(l=parseFloat(t.charAt(a-1)+t.substr(a+1)),c&&r&&(l=l/100*(Kr(r)?r[0]:r).totalDuration()),a>1?n(e,t.substr(0,a-1),r)+l:o+l)):t==null?o:+t},Am=function(e,t,r){var i=Xa(t[1]),s=(i?2:1)+(e<2?0:1),o=t[s],a,l;if(i&&(o.duration=t[1]),o.parent=r,e){for(a=o,l=r;l&&!("immediateRender"in a);)a=l.vars.defaults||{},l=ki(l.vars.inherit)&&l.parent;o.immediateRender=ki(a.immediateRender),e<2?o.runBackwards=1:o.startAt=t[s-1]}return new tr(t[0],o,t[s+1])},bc=function(e,t){return e||e===0?t(e):t},o0=function(e,t,r){return r<e?e:r>t?t:r},jr=function(e,t){return!br(e)||!(t=Phe.exec(e))?"":t[1]},Ghe=function(e,t,r){return bc(r,function(i){return o0(e,t,i)})},i2=[].slice,I6=function(e,t){return e&&ea(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&ea(e[0]))&&!e.nodeType&&e!==Bs},Hhe=function(e,t,r){return r===void 0&&(r=[]),e.forEach(function(i){var s;return br(i)&&!t||I6(i,1)?(s=r).push.apply(s,Ws(i)):r.push(i)})||r},Ws=function(e,t,r){return On&&!t&&On.selector?On.selector(e):br(e)&&!r&&(e2||!hh())?i2.call((t||JE).querySelectorAll(e),0):Kr(e)?Hhe(e,r):I6(e)?i2.call(e,0):e?[e]:[]},s2=function(e){return e=Ws(e)[0]||t_("Invalid scope")||{},function(t){var r=e.current||e.nativeElement||e;return Ws(t,r.querySelectorAll?r:r===e?t_("Invalid scope")||JE.createElement("div"):e)}},L6=function(e){return e.sort(function(){return .5-Math.random()})},k6=function(e){if(zn(e))return e;var t=ea(e)?e:{each:e},r=Lu(t.ease),i=t.from||0,s=parseFloat(t.base)||0,o={},a=i>0&&i<1,l=isNaN(i)||a,c=t.axis,u=i,f=i;return br(i)?u=f={center:.5,edges:.5,end:1}[i]||0:!a&&l&&(u=i[0],f=i[1]),function(d,m,g){var v=(g||t).length,y=o[v],x,_,w,A,C,E,P,b,R;if(!y){if(R=t.grid==="auto"?0:(t.grid||[1,Vs])[1],!R){for(P=-Vs;P<(P=g[R++].getBoundingClientRect().left)&&R<v;);R--}for(y=o[v]=[],x=l?Math.min(R,v)*u-.5:i%R,_=R===Vs?0:l?v*f/R-.5:i/R|0,P=0,b=Vs,E=0;E<v;E++)w=E%R-x,A=_-(E/R|0),y[E]=C=c?Math.abs(c==="y"?A:w):g6(w*w+A*A),C>P&&(P=C),C<b&&(b=C);i==="random"&&L6(y),y.max=P-b,y.min=b,y.v=v=(parseFloat(t.amount)||parseFloat(t.each)*(R>v?v-1:c?c==="y"?v/R:R:Math.max(R,v/R))||0)*(i==="edges"?-1:1),y.b=v<0?s-v:s,y.u=jr(t.amount||t.each)||0,r=r&&v<0?j6(r):r}return v=(y[d]-y.min)/y.max||0,Dr(y.b+(r?r(v):v)*y.v)+y.u}},o2=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(r){var i=Dr(Math.round(parseFloat(r)/e)*e*t);return(i-i%1)/t+(Xa(r)?0:jr(r))}},O6=function(e,t){var r=Kr(e),i,s;return!r&&ea(e)&&(i=r=e.radius||Vs,e.values?(e=Ws(e.values),(s=!Xa(e[0]))&&(i*=i)):e=o2(e.increment)),bc(t,r?zn(e)?function(o){return s=e(o),Math.abs(s-o)<=i?s:o}:function(o){for(var a=parseFloat(s?o.x:o),l=parseFloat(s?o.y:0),c=Vs,u=0,f=e.length,d,m;f--;)s?(d=e[f].x-a,m=e[f].y-l,d=d*d+m*m):d=Math.abs(e[f]-a),d<c&&(c=d,u=f);return u=!i||c<=i?e[u]:o,s||u===o||Xa(o)?u:u+jr(o)}:o2(e))},F6=function(e,t,r,i){return bc(Kr(e)?!t:r===!0?!!(r=0):!i,function(){return Kr(e)?e[~~(Math.random()*e.length)]:(r=r||1e-5)&&(i=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((e-r/2+Math.random()*(t-e+r*.99))/r)*r*i)/i})},Vhe=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(i){return t.reduce(function(s,o){return o(s)},i)}},Whe=function(e,t){return function(r){return e(parseFloat(r))+(t||jr(r))}},jhe=function(e,t,r){return U6(e,t,0,1,r)},N6=function(e,t,r){return bc(r,function(i){return e[~~t(i)]})},$he=function n(e,t,r){var i=t-e;return Kr(e)?N6(e,n(0,e.length),t):bc(r,function(s){return(i+(s-e)%i)%i+e})},Xhe=function n(e,t,r){var i=t-e,s=i*2;return Kr(e)?N6(e,n(0,e.length-1),t):bc(r,function(o){return o=(s+(o-e)%s)%s||0,e+(o>i?s-o:o)})},pg=function(e){for(var t=0,r="",i,s,o,a;~(i=e.indexOf("random(",t));)o=e.indexOf(")",i),a=e.charAt(i+7)==="[",s=e.substr(i+7,o-i-7).match(a?x6:ZM),r+=e.substr(t,i-t)+F6(a?s:+s[0],a?0:+s[1],+s[2]||1e-5),t=o+1;return r+e.substr(t,e.length-t)},U6=function(e,t,r,i,s){var o=t-e,a=i-r;return bc(s,function(l){return r+((l-e)/o*a||0)})},Jhe=function n(e,t,r,i){var s=isNaN(e+t)?0:function(m){return(1-m)*e+m*t};if(!s){var o=br(e),a={},l,c,u,f,d;if(r===!0&&(i=1)&&(r=null),o)e={p:e},t={p:t};else if(Kr(e)&&!Kr(t)){for(u=[],f=e.length,d=f-2,c=1;c<f;c++)u.push(n(e[c-1],e[c]));f--,s=function(g){g*=f;var v=Math.min(d,~~g);return u[v](g-v)},r=t}else i||(e=qu(Kr(e)?[]:{},e));if(!u){for(l in t)ZE.call(a,e,l,"get",t[l]);s=function(g){return rT(g,a)||(o?e.p:e)}}}return bc(r,s)},wk=function(e,t,r){var i=e.labels,s=Vs,o,a,l;for(o in i)a=i[o]-t,a<0==!!r&&a&&s>(a=Math.abs(a))&&(l=o,s=a);return l},js=function(e,t,r){var i=e.vars,s=i[t],o=On,a=e._ctx,l,c,u;if(s)return l=i[t+"Params"],c=i.callbackScope||e,r&&Zl.length&&n_(),a&&(On=a),u=l?s.apply(c,l):s.call(c),On=o,u},Xp=function(e){return pc(e),e.scrollTrigger&&e.scrollTrigger.kill(!!Jr),e.progress()<1&&js(e,"onInterrupt"),e},Rd,z6=[],G6=function(e){if(XE()&&e){e=!e.name&&e.default||e;var t=e.name,r=zn(e),i=t&&!r&&e.init?function(){this._props=[]}:e,s={init:hg,render:rT,add:ZE,kill:upe,modifier:cpe,rawVars:0},o={targetTest:0,get:0,getSetter:nT,aliases:{},register:0};if(hh(),e!==i){if(qi[t])return;Qs(i,Qs(r_(e,s),o)),qu(i.prototype,qu(s,r_(e,o))),qi[i.prop=t]=i,e.targetTest&&(Qy.push(i),YE[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}A6(t,i),e.register&&e.register(Ui,i,Fi)}else e&&z6.push(e)},nn=255,Jp={aqua:[0,nn,nn],lime:[0,nn,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,nn],navy:[0,0,128],white:[nn,nn,nn],olive:[128,128,0],yellow:[nn,nn,0],orange:[nn,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[nn,0,0],pink:[nn,192,203],cyan:[0,nn,nn],transparent:[nn,nn,nn,0]},gA=function(e,t,r){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(r-t)*e*6:e<.5?r:e*3<2?t+(r-t)*(2/3-e)*6:t)*nn+.5|0},H6=function(e,t,r){var i=e?Xa(e)?[e>>16,e>>8&nn,e&nn]:0:Jp.black,s,o,a,l,c,u,f,d,m,g;if(!i){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),Jp[e])i=Jp[e];else if(e.charAt(0)==="#"){if(e.length<6&&(s=e.charAt(1),o=e.charAt(2),a=e.charAt(3),e="#"+s+s+o+o+a+a+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return i=parseInt(e.substr(1,6),16),[i>>16,i>>8&nn,i&nn,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),i=[e>>16,e>>8&nn,e&nn]}else if(e.substr(0,3)==="hsl"){if(i=g=e.match(ZM),!t)l=+i[0]%360/360,c=+i[1]/100,u=+i[2]/100,o=u<=.5?u*(c+1):u+c-u*c,s=u*2-o,i.length>3&&(i[3]*=1),i[0]=gA(l+1/3,s,o),i[1]=gA(l,s,o),i[2]=gA(l-1/3,s,o);else if(~e.indexOf("="))return i=e.match(y6),r&&i.length<4&&(i[3]=1),i}else i=e.match(ZM)||Jp.transparent;i=i.map(Number)}return t&&!g&&(s=i[0]/nn,o=i[1]/nn,a=i[2]/nn,f=Math.max(s,o,a),d=Math.min(s,o,a),u=(f+d)/2,f===d?l=c=0:(m=f-d,c=u>.5?m/(2-f-d):m/(f+d),l=f===s?(o-a)/m+(o<a?6:0):f===o?(a-s)/m+2:(s-o)/m+4,l*=60),i[0]=~~(l+.5),i[1]=~~(c*100+.5),i[2]=~~(u*100+.5)),r&&i.length<4&&(i[3]=1),i},V6=function(e){var t=[],r=[],i=-1;return e.split(ec).forEach(function(s){var o=s.match(Pd)||[];t.push.apply(t,o),r.push(i+=o.length+1)}),t.c=r,t},Sk=function(e,t,r){var i="",s=(e+i).match(ec),o=t?"hsla(":"rgba(",a=0,l,c,u,f;if(!s)return e;if(s=s.map(function(d){return(d=H6(d,t,1))&&o+(t?d[0]+","+d[1]+"%,"+d[2]+"%,"+d[3]:d.join(","))+")"}),r&&(u=V6(e),l=r.c,l.join(i)!==u.c.join(i)))for(c=e.replace(ec,"1").split(Pd),f=c.length-1;a<f;a++)i+=c[a]+(~l.indexOf(a)?s.shift()||o+"0,0,0,0)":(u.length?u:s.length?s:r).shift());if(!c)for(c=e.split(ec),f=c.length-1;a<f;a++)i+=c[a]+s[a];return i+c[f]},ec=function(){var n="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in Jp)n+="|"+e+"\\b";return new RegExp(n+")","gi")}(),Khe=/hsl[a]?\(/,W6=function(e){var t=e.join(" "),r;if(ec.lastIndex=0,ec.test(t))return r=Khe.test(t),e[1]=Sk(e[1],r),e[0]=Sk(e[0],r,V6(e[1])),!0},mg,es=function(){var n=Date.now,e=500,t=33,r=n(),i=r,s=1e3/240,o=s,a=[],l,c,u,f,d,m,g=function v(y){var x=n()-i,_=y===!0,w,A,C,E;if(x>e&&(r+=x-t),i+=x,C=i-r,w=C-o,(w>0||_)&&(E=++f.frame,d=C-f.time*1e3,f.time=C=C/1e3,o+=w+(w>=s?4:s-w),A=1),_||(l=c(v)),A)for(m=0;m<a.length;m++)a[m](C,d,E,y)};return f={time:0,frame:0,tick:function(){g(!0)},deltaRatio:function(y){return d/(1e3/(y||60))},wake:function(){w6&&(!e2&&XE()&&(Bs=e2=window,JE=Bs.document||{},us.gsap=Ui,(Bs.gsapVersions||(Bs.gsapVersions=[])).push(Ui.version),S6(e_||Bs.GreenSockGlobals||!Bs.gsap&&Bs||{}),u=Bs.requestAnimationFrame,z6.forEach(G6)),l&&f.sleep(),c=u||function(y){return setTimeout(y,o-f.time*1e3+1|0)},mg=1,g(2))},sleep:function(){(u?Bs.cancelAnimationFrame:clearTimeout)(l),mg=0,c=hg},lagSmoothing:function(y,x){e=y||1/0,t=Math.min(x||33,e)},fps:function(y){s=1e3/(y||240),o=f.time*1e3+s},add:function(y,x,_){var w=x?function(A,C,E,P){y(A,C,E,P),f.remove(w)}:y;return f.remove(y),a[_?"unshift":"push"](w),hh(),w},remove:function(y,x){~(x=a.indexOf(y))&&a.splice(x,1)&&m>=x&&m--},_listeners:a},f}(),hh=function(){return!mg&&es.wake()},Ft={},Yhe=/^[\d.\-M][\d.\-,\s]/,Qhe=/["']/g,qhe=function(e){for(var t={},r=e.substr(1,e.length-3).split(":"),i=r[0],s=1,o=r.length,a,l,c;s<o;s++)l=r[s],a=s!==o-1?l.lastIndexOf(","):l.length,c=l.substr(0,a),t[i]=isNaN(c)?c.replace(Qhe,"").trim():+c,i=l.substr(a+1).trim();return t},Zhe=function(e){var t=e.indexOf("(")+1,r=e.indexOf(")"),i=e.indexOf("(",t);return e.substring(t,~i&&i<r?e.indexOf(")",r+1):r)},epe=function(e){var t=(e+"").split("("),r=Ft[t[0]];return r&&t.length>1&&r.config?r.config.apply(null,~e.indexOf("{")?[qhe(t[1])]:Zhe(e).split(",").map(E6)):Ft._CE&&Yhe.test(e)?Ft._CE("",e):r},j6=function(e){return function(t){return 1-e(1-t)}},$6=function n(e,t){for(var r=e._first,i;r;)r instanceof Ti?n(r,t):r.vars.yoyoEase&&(!r._yoyo||!r._repeat)&&r._yoyo!==t&&(r.timeline?n(r.timeline,t):(i=r._ease,r._ease=r._yEase,r._yEase=i,r._yoyo=t)),r=r._next},Lu=function(e,t){return e&&(zn(e)?e:Ft[e]||epe(e))||t},ff=function(e,t,r,i){r===void 0&&(r=function(l){return 1-t(1-l)}),i===void 0&&(i=function(l){return l<.5?t(l*2)/2:1-t((1-l)*2)/2});var s={easeIn:t,easeOut:r,easeInOut:i},o;return Oi(e,function(a){Ft[a]=us[a]=s,Ft[o=a.toLowerCase()]=r;for(var l in s)Ft[o+(l==="easeIn"?".in":l==="easeOut"?".out":".inOut")]=Ft[a+"."+l]=s[l]}),s},X6=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},vA=function n(e,t,r){var i=t>=1?t:1,s=(r||(e?.3:.45))/(t<1?t:1),o=s/qM*(Math.asin(1/i)||0),a=function(u){return u===1?1:i*Math.pow(2,-10*u)*The((u-o)*s)+1},l=e==="out"?a:e==="in"?function(c){return 1-a(1-c)}:X6(a);return s=qM/s,l.config=function(c,u){return n(e,c,u)},l},yA=function n(e,t){t===void 0&&(t=1.70158);var r=function(o){return o?--o*o*((t+1)*o+t)+1:0},i=e==="out"?r:e==="in"?function(s){return 1-r(1-s)}:X6(r);return i.config=function(s){return n(e,s)},i};Oi("Linear,Quad,Cubic,Quart,Quint,Strong",function(n,e){var t=e<5?e+1:e;ff(n+",Power"+(t-1),e?function(r){return Math.pow(r,t)}:function(r){return r},function(r){return 1-Math.pow(1-r,t)},function(r){return r<.5?Math.pow(r*2,t)/2:1-Math.pow((1-r)*2,t)/2})});Ft.Linear.easeNone=Ft.none=Ft.Linear.easeIn;ff("Elastic",vA("in"),vA("out"),vA());(function(n,e){var t=1/e,r=2*t,i=2.5*t,s=function(a){return a<t?n*a*a:a<r?n*Math.pow(a-1.5/e,2)+.75:a<i?n*(a-=2.25/e)*a+.9375:n*Math.pow(a-2.625/e,2)+.984375};ff("Bounce",function(o){return 1-s(1-o)},s)})(7.5625,2.75);ff("Expo",function(n){return n?Math.pow(2,10*(n-1)):0});ff("Circ",function(n){return-(g6(1-n*n)-1)});ff("Sine",function(n){return n===1?1:-Ehe(n*Mhe)+1});ff("Back",yA("in"),yA("out"),yA());Ft.SteppedEase=Ft.steps=us.SteppedEase={config:function(e,t){e===void 0&&(e=1);var r=1/e,i=e+(t?0:1),s=t?1:0,o=1-sn;return function(a){return((i*o0(0,o,a)|0)+s)*r}}};uh.ease=Ft["quad.out"];Oi("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(n){return QE+=n+","+n+"Params,"});var J6=function(e,t){this.id=Che++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:M6,this.set=t?t.getSetter:nT},gg=function(){function n(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,dh(this,+t.duration,1,1),this.data=t.data,On&&(this._ctx=On,On.data.push(this)),mg||es.wake()}var e=n.prototype;return e.delay=function(r){return r||r===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+r-this._delay),this._delay=r,this):this._delay},e.duration=function(r){return arguments.length?this.totalDuration(this._repeat>0?r+(r+this._rDelay)*this._repeat:r):this.totalDuration()&&this._dur},e.totalDuration=function(r){return arguments.length?(this._dirty=0,dh(this,this._repeat<0?r:(r-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(r,i){if(hh(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(hx(this,r),!s._dp||s.parent||R6(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&r<this._tDur||this._ts<0&&r>0||!this._tDur&&!r)&&Go(this._dp,this,this._start-this._delay)}return(this._tTime!==r||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===sn||!r&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=r),C6(this,r,i)),this},e.time=function(r,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),r+_k(this))%(this._dur+this._rDelay)||(r?this._dur:0),i):this._time},e.totalProgress=function(r,i){return arguments.length?this.totalTime(this.totalDuration()*r,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},e.progress=function(r,i){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-r:r)+_k(this),i):this.duration()?Math.min(1,this._time/this._dur):this.ratio},e.iteration=function(r,i){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(r-1)*s,i):this._repeat?fh(this._tTime,s)+1:1},e.timeScale=function(r){if(!arguments.length)return this._rts===-sn?0:this._rts;if(this._rts===r)return this;var i=this.parent&&this._ts?i_(this.parent._time,this):this._tTime;return this._rts=+r||0,this._ts=this._ps||r===-sn?0:this._rts,this.totalTime(o0(-Math.abs(this._delay),this._tDur,i),!0),dx(this),khe(this)},e.paused=function(r){return arguments.length?(this._ps!==r&&(this._ps=r,r?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(hh(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==sn&&(this._tTime-=sn)))),this):this._ps},e.startTime=function(r){if(arguments.length){this._start=r;var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&Go(i,this,r-this._delay),this}return this._start},e.endTime=function(r){return this._start+(ki(r)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(r){var i=this.parent||this._dp;return i?r&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?i_(i.rawTime(r),this):this._tTime:this._tTime},e.revert=function(r){r===void 0&&(r=Dhe);var i=Jr;return Jr=r,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(r),this.totalTime(-.01,r.suppressEvents)),this.data!=="nested"&&r.kill!==!1&&this.kill(),Jr=i,this},e.globalTime=function(r){for(var i=this,s=arguments.length?r:i.rawTime();i;)s=i._start+s/(i._ts||1),i=i._dp;return!this.parent&&this._sat?this._sat.vars.immediateRender?-1/0:this._sat.globalTime(r):s},e.repeat=function(r){return arguments.length?(this._repeat=r===1/0?-2:r,xk(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(r){if(arguments.length){var i=this._time;return this._rDelay=r,xk(this),i?this.time(i):this}return this._rDelay},e.yoyo=function(r){return arguments.length?(this._yoyo=r,this):this._yoyo},e.seek=function(r,i){return this.totalTime(Rs(this,r),ki(i))},e.restart=function(r,i){return this.play().totalTime(r?-this._delay:0,ki(i))},e.play=function(r,i){return r!=null&&this.seek(r,i),this.reversed(!1).paused(!1)},e.reverse=function(r,i){return r!=null&&this.seek(r||this.totalDuration(),i),this.reversed(!0).paused(!1)},e.pause=function(r,i){return r!=null&&this.seek(r,i),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(r){return arguments.length?(!!r!==this.reversed()&&this.timeScale(-this._rts||(r?-sn:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-sn,this},e.isActive=function(){var r=this.parent||this._dp,i=this._start,s;return!!(!r||this._ts&&this._initted&&r.isActive()&&(s=r.rawTime(!0))>=i&&s<this.endTime(!0)-sn)},e.eventCallback=function(r,i,s){var o=this.vars;return arguments.length>1?(i?(o[r]=i,s&&(o[r+"Params"]=s),r==="onUpdate"&&(this._onUpdate=i)):delete o[r],this):o[r]},e.then=function(r){var i=this;return new Promise(function(s){var o=zn(r)?r:T6,a=function(){var c=i.then;i.then=null,zn(o)&&(o=o(i))&&(o.then||o===i)&&(i.then=c),s(o),i.then=c};i._initted&&i.totalProgress()===1&&i._ts>=0||!i._tTime&&i._ts<0?a():i._prom=a})},e.kill=function(){Xp(this)},n}();Qs(gg.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-sn,_prom:0,_ps:!1,_rts:1});var Ti=function(n){m6(e,n);function e(r,i){var s;return r===void 0&&(r={}),s=n.call(this,r)||this,s.labels={},s.smoothChildTiming=!!r.smoothChildTiming,s.autoRemoveChildren=!!r.autoRemoveChildren,s._sort=ki(r.sortChildren),Cn&&Go(r.parent||Cn,xa(s),i),r.reversed&&s.reverse(),r.paused&&s.paused(!0),r.scrollTrigger&&D6(xa(s),r.scrollTrigger),s}var t=e.prototype;return t.to=function(i,s,o){return Am(0,arguments,this),this},t.from=function(i,s,o){return Am(1,arguments,this),this},t.fromTo=function(i,s,o,a){return Am(2,arguments,this),this},t.set=function(i,s,o){return s.duration=0,s.parent=this,Sm(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new tr(i,s,Rs(this,o),1),this},t.call=function(i,s,o){return Go(this,tr.delayedCall(0,i,s),o)},t.staggerTo=function(i,s,o,a,l,c,u){return o.duration=s,o.stagger=o.stagger||a,o.onComplete=c,o.onCompleteParams=u,o.parent=this,new tr(i,o,Rs(this,l)),this},t.staggerFrom=function(i,s,o,a,l,c,u){return o.runBackwards=1,Sm(o).immediateRender=ki(o.immediateRender),this.staggerTo(i,s,o,a,l,c,u)},t.staggerFromTo=function(i,s,o,a,l,c,u,f){return a.startAt=o,Sm(a).immediateRender=ki(a.immediateRender),this.staggerTo(i,s,a,l,c,u,f)},t.render=function(i,s,o){var a=this._time,l=this._dirty?this.totalDuration():this._tDur,c=this._dur,u=i<=0?0:Dr(i),f=this._zTime<0!=i<0&&(this._initted||!c),d,m,g,v,y,x,_,w,A,C,E,P;if(this!==Cn&&u>l&&i>=0&&(u=l),u!==this._tTime||o||f){if(a!==this._time&&c&&(u+=this._time-a,i+=this._time-a),d=u,A=this._start,w=this._ts,x=!w,f&&(c||(a=this._zTime),(i||!s)&&(this._zTime=i)),this._repeat){if(E=this._yoyo,y=c+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(y*100+i,s,o);if(d=Dr(u%y),u===l?(v=this._repeat,d=c):(v=~~(u/y),v&&v===u/y&&(d=c,v--),d>c&&(d=c)),C=fh(this._tTime,y),!a&&this._tTime&&C!==v&&this._tTime-C*y-this._dur<=0&&(C=v),E&&v&1&&(d=c-d,P=1),v!==C&&!this._lock){var b=E&&C&1,R=b===(E&&v&1);if(v<C&&(b=!b),a=b?0:u%c?c:u,this._lock=1,this.render(a||(P?0:Dr(v*y)),s,!c)._lock=0,this._tTime=u,!s&&this.parent&&js(this,"onRepeat"),this.vars.repeatRefresh&&!P&&(this.invalidate()._lock=1),a&&a!==this._time||x!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(c=this._dur,l=this._tDur,R&&(this._lock=2,a=b?c:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!P&&this.invalidate()),this._lock=0,!this._ts&&!x)return this;$6(this,P)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(_=Uhe(this,Dr(a),Dr(d)),_&&(u-=d-(d=_._start))),this._tTime=u,this._time=d,this._act=!w,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,a=0),!a&&d&&!s&&!v&&(js(this,"onStart"),this._tTime!==u))return this;if(d>=a&&i>=0)for(m=this._first;m;){if(g=m._next,(m._act||d>=m._start)&&m._ts&&_!==m){if(m.parent!==this)return this.render(i,s,o);if(m.render(m._ts>0?(d-m._start)*m._ts:(m._dirty?m.totalDuration():m._tDur)+(d-m._start)*m._ts,s,o),d!==this._time||!this._ts&&!x){_=0,g&&(u+=this._zTime=-sn);break}}m=g}else{m=this._last;for(var D=i<0?i:d;m;){if(g=m._prev,(m._act||D<=m._end)&&m._ts&&_!==m){if(m.parent!==this)return this.render(i,s,o);if(m.render(m._ts>0?(D-m._start)*m._ts:(m._dirty?m.totalDuration():m._tDur)+(D-m._start)*m._ts,s,o||Jr&&(m._initted||m._startAt)),d!==this._time||!this._ts&&!x){_=0,g&&(u+=this._zTime=D?-sn:sn);break}}m=g}}if(_&&!s&&(this.pause(),_.render(d>=a?0:-sn)._zTime=d>=a?1:-1,this._ts))return this._start=A,dx(this),this.render(i,s,o);this._onUpdate&&!s&&js(this,"onUpdate",!0),(u===l&&this._tTime>=this.totalDuration()||!u&&a)&&(A===this._start||Math.abs(w)!==Math.abs(this._ts))&&(this._lock||((i||!c)&&(u===l&&this._ts>0||!u&&this._ts<0)&&pc(this,1),!s&&!(i<0&&!a)&&(u||a||!l)&&(js(this,u===l&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(u<l&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(i,s){var o=this;if(Xa(s)||(s=Rs(this,s,i)),!(i instanceof gg)){if(Kr(i))return i.forEach(function(a){return o.add(a,s)}),this;if(br(i))return this.addLabel(i,s);if(zn(i))i=tr.delayedCall(0,i);else return this}return this!==i?Go(this,i,s):this},t.getChildren=function(i,s,o,a){i===void 0&&(i=!0),s===void 0&&(s=!0),o===void 0&&(o=!0),a===void 0&&(a=-Vs);for(var l=[],c=this._first;c;)c._start>=a&&(c instanceof tr?s&&l.push(c):(o&&l.push(c),i&&l.push.apply(l,c.getChildren(!0,s,o)))),c=c._next;return l},t.getById=function(i){for(var s=this.getChildren(1,1,1),o=s.length;o--;)if(s[o].vars.id===i)return s[o]},t.remove=function(i){return br(i)?this.removeLabel(i):zn(i)?this.killTweensOf(i):(fx(this,i),i===this._recent&&(this._recent=this._last),Iu(this))},t.totalTime=function(i,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Dr(es.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),n.prototype.totalTime.call(this,i,s),this._forcing=0,this):this._tTime},t.addLabel=function(i,s){return this.labels[i]=Rs(this,s),this},t.removeLabel=function(i){return delete this.labels[i],this},t.addPause=function(i,s,o){var a=tr.delayedCall(0,s||hg,o);return a.data="isPause",this._hasPause=1,Go(this,a,Rs(this,i))},t.removePause=function(i){var s=this._first;for(i=Rs(this,i);s;)s._start===i&&s.data==="isPause"&&pc(s),s=s._next},t.killTweensOf=function(i,s,o){for(var a=this.getTweensOf(i,o),l=a.length;l--;)Gl!==a[l]&&a[l].kill(i,s);return this},t.getTweensOf=function(i,s){for(var o=[],a=Ws(i),l=this._first,c=Xa(s),u;l;)l instanceof tr?Bhe(l._targets,a)&&(c?(!Gl||l._initted&&l._ts)&&l.globalTime(0)<=s&&l.globalTime(l.totalDuration())>s:!s||l.isActive())&&o.push(l):(u=l.getTweensOf(a,s)).length&&o.push.apply(o,u),l=l._next;return o},t.tweenTo=function(i,s){s=s||{};var o=this,a=Rs(o,i),l=s,c=l.startAt,u=l.onStart,f=l.onStartParams,d=l.immediateRender,m,g=tr.to(o,Qs({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:s.duration||Math.abs((a-(c&&"time"in c?c.time:o._time))/o.timeScale())||sn,onStart:function(){if(o.pause(),!m){var y=s.duration||Math.abs((a-(c&&"time"in c?c.time:o._time))/o.timeScale());g._dur!==y&&dh(g,y,0,1).render(g._time,!0,!0),m=1}u&&u.apply(g,f||[])}},s));return d?g.render(0):g},t.tweenFromTo=function(i,s,o){return this.tweenTo(s,Qs({startAt:{time:Rs(this,i)}},o))},t.recent=function(){return this._recent},t.nextLabel=function(i){return i===void 0&&(i=this._time),wk(this,Rs(this,i))},t.previousLabel=function(i){return i===void 0&&(i=this._time),wk(this,Rs(this,i),1)},t.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+sn)},t.shiftChildren=function(i,s,o){o===void 0&&(o=0);for(var a=this._first,l=this.labels,c;a;)a._start>=o&&(a._start+=i,a._end+=i),a=a._next;if(s)for(c in l)l[c]>=o&&(l[c]+=i);return Iu(this)},t.invalidate=function(i){var s=this._first;for(this._lock=0;s;)s.invalidate(i),s=s._next;return n.prototype.invalidate.call(this,i)},t.clear=function(i){i===void 0&&(i=!0);for(var s=this._first,o;s;)o=s._next,this.remove(s),s=o;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),Iu(this)},t.totalDuration=function(i){var s=0,o=this,a=o._last,l=Vs,c,u,f;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-i:i));if(o._dirty){for(f=o.parent;a;)c=a._prev,a._dirty&&a.totalDuration(),u=a._start,u>l&&o._sort&&a._ts&&!o._lock?(o._lock=1,Go(o,a,u-a._delay,1)._lock=0):l=u,u<0&&a._ts&&(s-=u,(!f&&!o._dp||f&&f.smoothChildTiming)&&(o._start+=u/o._ts,o._time-=u,o._tTime-=u),o.shiftChildren(-u,!1,-1/0),l=0),a._end>s&&a._ts&&(s=a._end),a=c;dh(o,o===Cn&&o._time>s?o._time:s,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(i){if(Cn._ts&&(C6(Cn,i_(i,Cn)),b6=es.frame),es.frame>=vk){vk+=as.autoSleep||120;var s=Cn._first;if((!s||!s._ts)&&as.autoSleep&&es._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||es.sleep()}}},e}(gg);Qs(Ti.prototype,{_lock:0,_hasPause:0,_forcing:0});var tpe=function(e,t,r,i,s,o,a){var l=new Fi(this._pt,e,t,0,1,e8,null,s),c=0,u=0,f,d,m,g,v,y,x,_;for(l.b=r,l.e=i,r+="",i+="",(x=~i.indexOf("random("))&&(i=pg(i)),o&&(_=[r,i],o(_,e,t),r=_[0],i=_[1]),d=r.match(pA)||[];f=pA.exec(i);)g=f[0],v=i.substring(c,f.index),m?m=(m+1)%5:v.substr(-5)==="rgba("&&(m=1),g!==d[u++]&&(y=parseFloat(d[u-1])||0,l._pt={_next:l._pt,p:v||u===1?v:",",s:y,c:g.charAt(1)==="="?Hd(y,g)-y:parseFloat(g)-y,m:m&&m<4?Math.round:0},c=pA.lastIndex);return l.c=c<i.length?i.substring(c,i.length):"",l.fp=a,(_6.test(i)||x)&&(l.e=0),this._pt=l,l},ZE=function(e,t,r,i,s,o,a,l,c,u){zn(i)&&(i=i(s||0,e,o));var f=e[t],d=r!=="get"?r:zn(f)?c?e[t.indexOf("set")||!zn(e["get"+t.substr(3)])?t:"get"+t.substr(3)](c):e[t]():f,m=zn(f)?c?ope:q6:tT,g;if(br(i)&&(~i.indexOf("random(")&&(i=pg(i)),i.charAt(1)==="="&&(g=Hd(d,i)+(jr(d)||0),(g||g===0)&&(i=g))),!u||d!==i||a2)return!isNaN(d*i)&&i!==""?(g=new Fi(this._pt,e,t,+d||0,i-(d||0),typeof f=="boolean"?lpe:Z6,0,m),c&&(g.fp=c),a&&g.modifier(a,this,e),this._pt=g):(!f&&!(t in e)&&KE(t,i),tpe.call(this,e,t,d,i,m,l||as.stringFilter,c))},npe=function(e,t,r,i,s){if(zn(e)&&(e=bm(e,s,t,r,i)),!ea(e)||e.style&&e.nodeType||Kr(e)||v6(e))return br(e)?bm(e,s,t,r,i):e;var o={},a;for(a in e)o[a]=bm(e[a],s,t,r,i);return o},K6=function(e,t,r,i,s,o){var a,l,c,u;if(qi[e]&&(a=new qi[e]).init(s,a.rawVars?t[e]:npe(t[e],i,s,o,r),r,i,o)!==!1&&(r._pt=l=new Fi(r._pt,s,e,0,1,a.render,a,0,a.priority),r!==Rd))for(c=r._ptLookup[r._targets.indexOf(s)],u=a._props.length;u--;)c[a._props[u]]=l;return a},Gl,a2,eT=function n(e,t,r){var i=e.vars,s=i.ease,o=i.startAt,a=i.immediateRender,l=i.lazy,c=i.onUpdate,u=i.onUpdateParams,f=i.callbackScope,d=i.runBackwards,m=i.yoyoEase,g=i.keyframes,v=i.autoRevert,y=e._dur,x=e._startAt,_=e._targets,w=e.parent,A=w&&w.data==="nested"?w.vars.targets:_,C=e._overwrite==="auto"&&!jE,E=e.timeline,P,b,R,D,L,N,z,k,V,W,Y,O,U;if(E&&(!g||!s)&&(s="none"),e._ease=Lu(s,uh.ease),e._yEase=m?j6(Lu(m===!0?s:m,uh.ease)):0,m&&e._yoyo&&!e._repeat&&(m=e._yEase,e._yEase=e._ease,e._ease=m),e._from=!E&&!!i.runBackwards,!E||g&&!i.stagger){if(k=_[0]?Bu(_[0]).harness:0,O=k&&i[k.prop],P=r_(i,YE),x&&(x._zTime<0&&x.progress(1),t<0&&d&&a&&!v?x.render(-1,!0):x.revert(d&&y?Yy:Rhe),x._lazy=0),o){if(pc(e._startAt=tr.set(_,Qs({data:"isStart",overwrite:!1,parent:w,immediateRender:!0,lazy:!x&&ki(l),startAt:null,delay:0,onUpdate:c,onUpdateParams:u,callbackScope:f,stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(Jr||!a&&!v)&&e._startAt.revert(Yy),a&&y&&t<=0&&r<=0){t&&(e._zTime=t);return}}else if(d&&y&&!x){if(t&&(a=!1),R=Qs({overwrite:!1,data:"isFromStart",lazy:a&&!x&&ki(l),immediateRender:a,stagger:0,parent:w},P),O&&(R[k.prop]=O),pc(e._startAt=tr.set(_,R)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(Jr?e._startAt.revert(Yy):e._startAt.render(-1,!0)),e._zTime=t,!a)n(e._startAt,sn,sn);else if(!t)return}for(e._pt=e._ptCache=0,l=y&&ki(l)||l&&!y,b=0;b<_.length;b++){if(L=_[b],z=L._gsap||qE(_)[b]._gsap,e._ptLookup[b]=W={},t2[z.id]&&Zl.length&&n_(),Y=A===_?b:A.indexOf(L),k&&(V=new k).init(L,O||P,e,Y,A)!==!1&&(e._pt=D=new Fi(e._pt,L,V.name,0,1,V.render,V,0,V.priority),V._props.forEach(function(H){W[H]=D}),V.priority&&(N=1)),!k||O)for(R in P)qi[R]&&(V=K6(R,P,e,Y,L,A))?V.priority&&(N=1):W[R]=D=ZE.call(e,L,R,"get",P[R],Y,A,0,i.stringFilter);e._op&&e._op[b]&&e.kill(L,e._op[b]),C&&e._pt&&(Gl=e,Cn.killTweensOf(L,W,e.globalTime(t)),U=!e.parent,Gl=0),e._pt&&l&&(t2[z.id]=1)}N&&t8(e),e._onInit&&e._onInit(e)}e._onUpdate=c,e._initted=(!e._op||e._pt)&&!U,g&&t<=0&&E.render(Vs,!0,!0)},rpe=function(e,t,r,i,s,o,a){var l=(e._pt&&e._ptCache||(e._ptCache={}))[t],c,u,f,d;if(!l)for(l=e._ptCache[t]=[],f=e._ptLookup,d=e._targets.length;d--;){if(c=f[d][t],c&&c.d&&c.d._pt)for(c=c.d._pt;c&&c.p!==t&&c.fp!==t;)c=c._next;if(!c)return a2=1,e.vars[t]="+=0",eT(e,a),a2=0,1;l.push(c)}for(d=l.length;d--;)u=l[d],c=u._pt||u,c.s=(i||i===0)&&!s?i:c.s+(i||0)+o*c.c,c.c=r-c.s,u.e&&(u.e=Jn(r)+jr(u.e)),u.b&&(u.b=c.s+jr(u.b))},ipe=function(e,t){var r=e[0]?Bu(e[0]).harness:0,i=r&&r.aliases,s,o,a,l;if(!i)return t;s=qu({},t);for(o in i)if(o in s)for(l=i[o].split(","),a=l.length;a--;)s[l[a]]=s[o];return s},spe=function(e,t,r,i){var s=t.ease||i||"power1.inOut",o,a;if(Kr(t))a=r[e]||(r[e]=[]),t.forEach(function(l,c){return a.push({t:c/(t.length-1)*100,v:l,e:s})});else for(o in t)a=r[o]||(r[o]=[]),o==="ease"||a.push({t:parseFloat(e),v:t[o],e:s})},bm=function(e,t,r,i,s){return zn(e)?e.call(t,r,i,s):br(e)&&~e.indexOf("random(")?pg(e):e},Y6=QE+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",Q6={};Oi(Y6+",id,stagger,delay,duration,paused,scrollTrigger",function(n){return Q6[n]=1});var tr=function(n){m6(e,n);function e(r,i,s,o){var a;typeof i=="number"&&(s.duration=i,i=s,s=null),a=n.call(this,o?i:Sm(i))||this;var l=a.vars,c=l.duration,u=l.delay,f=l.immediateRender,d=l.stagger,m=l.overwrite,g=l.keyframes,v=l.defaults,y=l.scrollTrigger,x=l.yoyoEase,_=i.parent||Cn,w=(Kr(r)||v6(r)?Xa(r[0]):"length"in i)?[r]:Ws(r),A,C,E,P,b,R,D,L;if(a._targets=w.length?qE(w):t_("GSAP target "+r+" not found. https://greensock.com",!as.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=m,g||d||Sy(c)||Sy(u)){if(i=a.vars,A=a.timeline=new Ti({data:"nested",defaults:v||{},targets:_&&_.data==="nested"?_.vars.targets:w}),A.kill(),A.parent=A._dp=xa(a),A._start=0,d||Sy(c)||Sy(u)){if(P=w.length,D=d&&k6(d),ea(d))for(b in d)~Y6.indexOf(b)&&(L||(L={}),L[b]=d[b]);for(C=0;C<P;C++)E=r_(i,Q6),E.stagger=0,x&&(E.yoyoEase=x),L&&qu(E,L),R=w[C],E.duration=+bm(c,xa(a),C,R,w),E.delay=(+bm(u,xa(a),C,R,w)||0)-a._delay,!d&&P===1&&E.delay&&(a._delay=u=E.delay,a._start+=u,E.delay=0),A.to(R,E,D?D(C,R,w):0),A._ease=Ft.none;A.duration()?c=u=0:a.timeline=0}else if(g){Sm(Qs(A.vars.defaults,{ease:"none"})),A._ease=Lu(g.ease||i.ease||"none");var N=0,z,k,V;if(Kr(g))g.forEach(function(W){return A.to(w,W,">")}),A.duration();else{E={};for(b in g)b==="ease"||b==="easeEach"||spe(b,g[b],E,g.easeEach);for(b in E)for(z=E[b].sort(function(W,Y){return W.t-Y.t}),N=0,C=0;C<z.length;C++)k=z[C],V={ease:k.e,duration:(k.t-(C?z[C-1].t:0))/100*c},V[b]=k.v,A.to(w,V,N),N+=V.duration;A.duration()<c&&A.to({},{duration:c-A.duration()})}}c||a.duration(c=A.duration())}else a.timeline=0;return m===!0&&!jE&&(Gl=xa(a),Cn.killTweensOf(w),Gl=0),Go(_,xa(a),s),i.reversed&&a.reverse(),i.paused&&a.paused(!0),(f||!c&&!g&&a._start===Dr(_._time)&&ki(f)&&Ohe(xa(a))&&_.data!=="nested")&&(a._tTime=-sn,a.render(Math.max(0,-u)||0)),y&&D6(xa(a),y),a}var t=e.prototype;return t.render=function(i,s,o){var a=this._time,l=this._tDur,c=this._dur,u=i<0,f=i>l-sn&&!u?l:i<sn?0:i,d,m,g,v,y,x,_,w,A;if(!c)Nhe(this,i,s,o);else if(f!==this._tTime||!i||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==u){if(d=f,w=this.timeline,this._repeat){if(v=c+this._rDelay,this._repeat<-1&&u)return this.totalTime(v*100+i,s,o);if(d=Dr(f%v),f===l?(g=this._repeat,d=c):(g=~~(f/v),g&&g===f/v&&(d=c,g--),d>c&&(d=c)),x=this._yoyo&&g&1,x&&(A=this._yEase,d=c-d),y=fh(this._tTime,v),d===a&&!o&&this._initted)return this._tTime=f,this;g!==y&&(w&&this._yEase&&$6(w,x),this.vars.repeatRefresh&&!x&&!this._lock&&(this._lock=o=1,this.render(Dr(v*g),!0).invalidate()._lock=0))}if(!this._initted){if(B6(this,u?i:d,o,s,f))return this._tTime=0,this;if(a!==this._time)return this;if(c!==this._dur)return this.render(i,s,o)}if(this._tTime=f,this._time=d,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=_=(A||this._ease)(d/c),this._from&&(this.ratio=_=1-_),d&&!a&&!s&&!g&&(js(this,"onStart"),this._tTime!==f))return this;for(m=this._pt;m;)m.r(_,m.d),m=m._next;w&&w.render(i<0?i:!d&&x?-sn:w._dur*w._ease(d/this._dur),s,o)||this._startAt&&(this._zTime=i),this._onUpdate&&!s&&(u&&n2(this,i,s,o),js(this,"onUpdate")),this._repeat&&g!==y&&this.vars.onRepeat&&!s&&this.parent&&js(this,"onRepeat"),(f===this._tDur||!f)&&this._tTime===f&&(u&&!this._onUpdate&&n2(this,i,!0,!0),(i||!c)&&(f===this._tDur&&this._ts>0||!f&&this._ts<0)&&pc(this,1),!s&&!(u&&!a)&&(f||a||x)&&(js(this,f===l?"onComplete":"onReverseComplete",!0),this._prom&&!(f<l&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(i){return(!i||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(i),n.prototype.invalidate.call(this,i)},t.resetTo=function(i,s,o,a){mg||es.wake(),this._ts||this.play();var l=Math.min(this._dur,(this._dp._time-this._start)*this._ts),c;return this._initted||eT(this,l),c=this._ease(l/this._dur),rpe(this,i,s,o,a,c,l)?this.resetTo(i,s,o,a):(hx(this,0),this.parent||P6(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(i,s){if(s===void 0&&(s="all"),!i&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?Xp(this):this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(i,s,Gl&&Gl.vars.overwrite!==!0)._first||Xp(this),this.parent&&o!==this.timeline.totalDuration()&&dh(this,this._dur*this.timeline._tDur/o,0,1),this}var a=this._targets,l=i?Ws(i):a,c=this._ptLookup,u=this._pt,f,d,m,g,v,y,x;if((!s||s==="all")&&Lhe(a,l))return s==="all"&&(this._pt=0),Xp(this);for(f=this._op=this._op||[],s!=="all"&&(br(s)&&(v={},Oi(s,function(_){return v[_]=1}),s=v),s=ipe(a,s)),x=a.length;x--;)if(~l.indexOf(a[x])){d=c[x],s==="all"?(f[x]=s,g=d,m={}):(m=f[x]=f[x]||{},g=s);for(v in g)y=d&&d[v],y&&((!("kill"in y.d)||y.d.kill(v)===!0)&&fx(this,y,"_pt"),delete d[v]),m!=="all"&&(m[v]=1)}return this._initted&&!this._pt&&u&&Xp(this),this},e.to=function(i,s){return new e(i,s,arguments[2])},e.from=function(i,s){return Am(1,arguments)},e.delayedCall=function(i,s,o,a){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:s,onReverseComplete:s,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:a})},e.fromTo=function(i,s,o){return Am(2,arguments)},e.set=function(i,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(i,s)},e.killTweensOf=function(i,s,o){return Cn.killTweensOf(i,s,o)},e}(gg);Qs(tr.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});Oi("staggerTo,staggerFrom,staggerFromTo",function(n){tr[n]=function(){var e=new Ti,t=i2.call(arguments,0);return t.splice(n==="staggerFromTo"?5:4,0,0),e[n].apply(e,t)}});var tT=function(e,t,r){return e[t]=r},q6=function(e,t,r){return e[t](r)},ope=function(e,t,r,i){return e[t](i.fp,r)},ape=function(e,t,r){return e.setAttribute(t,r)},nT=function(e,t){return zn(e[t])?q6:$E(e[t])&&e.setAttribute?ape:tT},Z6=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},lpe=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},e8=function(e,t){var r=t._pt,i="";if(!e&&t.b)i=t.b;else if(e===1&&t.e)i=t.e;else{for(;r;)i=r.p+(r.m?r.m(r.s+r.c*e):Math.round((r.s+r.c*e)*1e4)/1e4)+i,r=r._next;i+=t.c}t.set(t.t,t.p,i,t)},rT=function(e,t){for(var r=t._pt;r;)r.r(e,r.d),r=r._next},cpe=function(e,t,r,i){for(var s=this._pt,o;s;)o=s._next,s.p===i&&s.modifier(e,t,r),s=o},upe=function(e){for(var t=this._pt,r,i;t;)i=t._next,t.p===e&&!t.op||t.op===e?fx(this,t,"_pt"):t.dep||(r=1),t=i;return!r},fpe=function(e,t,r,i){i.mSet(e,t,i.m.call(i.tween,r,i.mt),i)},t8=function(e){for(var t=e._pt,r,i,s,o;t;){for(r=t._next,i=s;i&&i.pr>t.pr;)i=i._next;(t._prev=i?i._prev:o)?t._prev._next=t:s=t,(t._next=i)?i._prev=t:o=t,t=r}e._pt=s},Fi=function(){function n(t,r,i,s,o,a,l,c,u){this.t=r,this.s=s,this.c=o,this.p=i,this.r=a||Z6,this.d=l||this,this.set=c||tT,this.pr=u||0,this._next=t,t&&(t._prev=this)}var e=n.prototype;return e.modifier=function(r,i,s){this.mSet=this.mSet||this.set,this.set=fpe,this.m=r,this.mt=s,this.tween=i},n}();Oi(QE+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(n){return YE[n]=1});us.TweenMax=us.TweenLite=tr;us.TimelineLite=us.TimelineMax=Ti;Cn=new Ti({sortChildren:!1,defaults:uh,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});as.stringFilter=W6;var ku=[],qy={},dpe=[],Ak=0,hpe=0,_A=function(e){return(qy[e]||dpe).map(function(t){return t()})},l2=function(){var e=Date.now(),t=[];e-Ak>2&&(_A("matchMediaInit"),ku.forEach(function(r){var i=r.queries,s=r.conditions,o,a,l,c;for(a in i)o=Bs.matchMedia(i[a]).matches,o&&(l=1),o!==s[a]&&(s[a]=o,c=1);c&&(r.revert(),l&&t.push(r))}),_A("matchMediaRevert"),t.forEach(function(r){return r.onMatch(r)}),Ak=e,_A("matchMedia"))},n8=function(){function n(t,r){this.selector=r&&s2(r),this.data=[],this._r=[],this.isReverted=!1,this.id=hpe++,t&&this.add(t)}var e=n.prototype;return e.add=function(r,i,s){zn(r)&&(s=i,i=r,r=zn);var o=this,a=function(){var c=On,u=o.selector,f;return c&&c!==o&&c.data.push(o),s&&(o.selector=s2(s)),On=o,f=i.apply(o,arguments),zn(f)&&o._r.push(f),On=c,o.selector=u,o.isReverted=!1,f};return o.last=a,r===zn?a(o):r?o[r]=a:a},e.ignore=function(r){var i=On;On=null,r(this),On=i},e.getTweens=function(){var r=[];return this.data.forEach(function(i){return i instanceof n?r.push.apply(r,i.getTweens()):i instanceof tr&&!(i.parent&&i.parent.data==="nested")&&r.push(i)}),r},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(r,i){var s=this;if(r){var o=this.getTweens();this.data.forEach(function(l){l.data==="isFlip"&&(l.revert(),l.getChildren(!0,!0,!1).forEach(function(c){return o.splice(o.indexOf(c),1)}))}),o.map(function(l){return{g:l.globalTime(0),t:l}}).sort(function(l,c){return c.g-l.g||-1/0}).forEach(function(l){return l.t.revert(r)}),this.data.forEach(function(l){return!(l instanceof tr)&&l.revert&&l.revert(r)}),this._r.forEach(function(l){return l(r,s)}),this.isReverted=!0}else this.data.forEach(function(l){return l.kill&&l.kill()});if(this.clear(),i)for(var a=ku.length;a--;)ku[a].id===this.id&&ku.splice(a,1)},e.revert=function(r){this.kill(r||{})},n}(),ppe=function(){function n(t){this.contexts=[],this.scope=t}var e=n.prototype;return e.add=function(r,i,s){ea(r)||(r={matches:r});var o=new n8(0,s||this.scope),a=o.conditions={},l,c,u;On&&!o.selector&&(o.selector=On.selector),this.contexts.push(o),i=o.add("onMatch",i),o.queries=r;for(c in r)c==="all"?u=1:(l=Bs.matchMedia(r[c]),l&&(ku.indexOf(o)<0&&ku.push(o),(a[c]=l.matches)&&(u=1),l.addListener?l.addListener(l2):l.addEventListener("change",l2)));return u&&i(o),this},e.revert=function(r){this.kill(r||{})},e.kill=function(r){this.contexts.forEach(function(i){return i.kill(r,!0)})},n}(),s_={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t.forEach(function(i){return G6(i)})},timeline:function(e){return new Ti(e)},getTweensOf:function(e,t){return Cn.getTweensOf(e,t)},getProperty:function(e,t,r,i){br(e)&&(e=Ws(e)[0]);var s=Bu(e||{}).get,o=r?T6:E6;return r==="native"&&(r=""),e&&(t?o((qi[t]&&qi[t].get||s)(e,t,r,i)):function(a,l,c){return o((qi[a]&&qi[a].get||s)(e,a,l,c))})},quickSetter:function(e,t,r){if(e=Ws(e),e.length>1){var i=e.map(function(u){return Ui.quickSetter(u,t,r)}),s=i.length;return function(u){for(var f=s;f--;)i[f](u)}}e=e[0]||{};var o=qi[t],a=Bu(e),l=a.harness&&(a.harness.aliases||{})[t]||t,c=o?function(u){var f=new o;Rd._pt=0,f.init(e,r?u+r:u,Rd,0,[e]),f.render(1,f),Rd._pt&&rT(1,Rd)}:a.set(e,l);return o?c:function(u){return c(e,l,r?u+r:u,a,1)}},quickTo:function(e,t,r){var i,s=Ui.to(e,qu((i={},i[t]="+=0.1",i.paused=!0,i),r||{})),o=function(l,c,u){return s.resetTo(t,l,c,u)};return o.tween=s,o},isTweening:function(e){return Cn.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Lu(e.ease,uh.ease)),yk(uh,e||{})},config:function(e){return yk(as,e||{})},registerEffect:function(e){var t=e.name,r=e.effect,i=e.plugins,s=e.defaults,o=e.extendTimeline;(i||"").split(",").forEach(function(a){return a&&!qi[a]&&!us[a]&&t_(t+" effect requires "+a+" plugin.")}),mA[t]=function(a,l,c){return r(Ws(a),Qs(l||{},s),c)},o&&(Ti.prototype[t]=function(a,l,c){return this.add(mA[t](a,ea(l)?l:(c=l)&&{},this),c)})},registerEase:function(e,t){Ft[e]=Lu(t)},parseEase:function(e,t){return arguments.length?Lu(e,t):Ft},getById:function(e){return Cn.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var r=new Ti(e),i,s;for(r.smoothChildTiming=ki(e.smoothChildTiming),Cn.remove(r),r._dp=0,r._time=r._tTime=Cn._time,i=Cn._first;i;)s=i._next,(t||!(!i._dur&&i instanceof tr&&i.vars.onComplete===i._targets[0]))&&Go(r,i,i._start-i._delay),i=s;return Go(Cn,r,0),r},context:function(e,t){return e?new n8(e,t):On},matchMedia:function(e){return new ppe(e)},matchMediaRefresh:function(){return ku.forEach(function(e){var t=e.conditions,r,i;for(i in t)t[i]&&(t[i]=!1,r=1);r&&e.revert()})||l2()},addEventListener:function(e,t){var r=qy[e]||(qy[e]=[]);~r.indexOf(t)||r.push(t)},removeEventListener:function(e,t){var r=qy[e],i=r&&r.indexOf(t);i>=0&&r.splice(i,1)},utils:{wrap:$he,wrapYoyo:Xhe,distribute:k6,random:F6,snap:O6,normalize:jhe,getUnit:jr,clamp:Ghe,splitColor:H6,toArray:Ws,selector:s2,mapRange:U6,pipe:Vhe,unitize:Whe,interpolate:Jhe,shuffle:L6},install:S6,effects:mA,ticker:es,updateRoot:Ti.updateRoot,plugins:qi,globalTimeline:Cn,core:{PropTween:Fi,globals:A6,Tween:tr,Timeline:Ti,Animation:gg,getCache:Bu,_removeLinkedListItem:fx,reverting:function(){return Jr},context:function(e){return e&&On&&(On.data.push(e),e._ctx=On),On},suppressOverwrites:function(e){return jE=e}}};Oi("to,from,fromTo,delayedCall,set,killTweensOf",function(n){return s_[n]=tr[n]});es.add(Ti.updateRoot);Rd=s_.to({},{duration:0});var mpe=function(e,t){for(var r=e._pt;r&&r.p!==t&&r.op!==t&&r.fp!==t;)r=r._next;return r},gpe=function(e,t){var r=e._targets,i,s,o;for(i in t)for(s=r.length;s--;)o=e._ptLookup[s][i],o&&(o=o.d)&&(o._pt&&(o=mpe(o,i)),o&&o.modifier&&o.modifier(t[i],e,r[s],i))},xA=function(e,t){return{name:e,rawVars:1,init:function(i,s,o){o._onInit=function(a){var l,c;if(br(s)&&(l={},Oi(s,function(u){return l[u]=1}),s=l),t){l={};for(c in s)l[c]=t(s[c]);s=l}gpe(a,s)}}}},Ui=s_.registerPlugin({name:"attr",init:function(e,t,r,i,s){var o,a,l;this.tween=r;for(o in t)l=e.getAttribute(o)||"",a=this.add(e,"setAttribute",(l||0)+"",t[o],i,s,0,0,o),a.op=o,a.b=l,this._props.push(o)},render:function(e,t){for(var r=t._pt;r;)Jr?r.set(r.t,r.p,r.b,r):r.r(e,r.d),r=r._next}},{name:"endArray",init:function(e,t){for(var r=t.length;r--;)this.add(e,r,e[r]||0,t[r],0,0,0,0,0,1)}},xA("roundProps",o2),xA("modifiers"),xA("snap",O6))||s_;tr.version=Ti.version=Ui.version="3.12.2";w6=1;XE()&&hh();Ft.Power0;Ft.Power1;Ft.Power2;Ft.Power3;Ft.Power4;Ft.Linear;Ft.Quad;Ft.Cubic;Ft.Quart;Ft.Quint;Ft.Strong;Ft.Elastic;Ft.Back;Ft.SteppedEase;Ft.Bounce;Ft.Sine;Ft.Expo;Ft.Circ;/*!
 * CSSPlugin 3.12.2
 * https://greensock.com
 *
 * Copyright 2008-2023, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var bk,Hl,Vd,iT,xu,Mk,sT,vpe=function(){return typeof window<"u"},Ja={},ou=180/Math.PI,Wd=Math.PI/180,rd=Math.atan2,Ck=1e8,oT=/([A-Z])/g,ype=/(left|right|width|margin|padding|x)/i,_pe=/[\s,\(]\S/,Ho={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},c2=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},xpe=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},wpe=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},Spe=function(e,t){var r=t.s+t.c*e;t.set(t.t,t.p,~~(r+(r<0?-.5:.5))+t.u,t)},r8=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},i8=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},Ape=function(e,t,r){return e.style[t]=r},bpe=function(e,t,r){return e.style.setProperty(t,r)},Mpe=function(e,t,r){return e._gsap[t]=r},Cpe=function(e,t,r){return e._gsap.scaleX=e._gsap.scaleY=r},Epe=function(e,t,r,i,s){var o=e._gsap;o.scaleX=o.scaleY=r,o.renderTransform(s,o)},Tpe=function(e,t,r,i,s){var o=e._gsap;o[t]=r,o.renderTransform(s,o)},Tn="transform",xo=Tn+"Origin",Ppe=function n(e,t){var r=this,i=this.target,s=i.style;if(e in Ja&&s){if(this.tfm=this.tfm||{},e!=="transform")e=Ho[e]||e,~e.indexOf(",")?e.split(",").forEach(function(o){return r.tfm[o]=Aa(i,o)}):this.tfm[e]=i._gsap.x?i._gsap[e]:Aa(i,e);else return Ho.transform.split(",").forEach(function(o){return n.call(r,o,t)});if(this.props.indexOf(Tn)>=0)return;i._gsap.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(xo,t,"")),e=Tn}(s||t)&&this.props.push(e,t,s[e])},s8=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},Rpe=function(){var e=this.props,t=this.target,r=t.style,i=t._gsap,s,o;for(s=0;s<e.length;s+=3)e[s+1]?t[e[s]]=e[s+2]:e[s+2]?r[e[s]]=e[s+2]:r.removeProperty(e[s].substr(0,2)==="--"?e[s]:e[s].replace(oT,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)i[o]=this.tfm[o];i.svg&&(i.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),s=sT(),(!s||!s.isStart)&&!r[Tn]&&(s8(r),i.uncache=1)}},o8=function(e,t){var r={target:e,props:[],revert:Rpe,save:Ppe};return e._gsap||Ui.core.getCache(e),t&&t.split(",").forEach(function(i){return r.save(i)}),r},a8,u2=function(e,t){var r=Hl.createElementNS?Hl.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Hl.createElement(e);return r.style?r:Hl.createElement(e)},Jo=function n(e,t,r){var i=getComputedStyle(e);return i[t]||i.getPropertyValue(t.replace(oT,"-$1").toLowerCase())||i.getPropertyValue(t)||!r&&n(e,ph(t)||t,1)||""},Ek="O,Moz,ms,Ms,Webkit".split(","),ph=function(e,t,r){var i=t||xu,s=i.style,o=5;if(e in s&&!r)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(Ek[o]+e in s););return o<0?null:(o===3?"ms":o>=0?Ek[o]:"")+e},f2=function(){vpe()&&window.document&&(bk=window,Hl=bk.document,Vd=Hl.documentElement,xu=u2("div")||{style:{}},u2("div"),Tn=ph(Tn),xo=Tn+"Origin",xu.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",a8=!!ph("perspective"),sT=Ui.core.reverting,iT=1)},wA=function n(e){var t=u2("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=this.parentNode,i=this.nextSibling,s=this.style.cssText,o;if(Vd.appendChild(t),t.appendChild(this),this.style.display="block",e)try{o=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=n}catch{}else this._gsapBBox&&(o=this._gsapBBox());return r&&(i?r.insertBefore(this,i):r.appendChild(this)),Vd.removeChild(t),this.style.cssText=s,o},Tk=function(e,t){for(var r=t.length;r--;)if(e.hasAttribute(t[r]))return e.getAttribute(t[r])},l8=function(e){var t;try{t=e.getBBox()}catch{t=wA.call(e,!0)}return t&&(t.width||t.height)||e.getBBox===wA||(t=wA.call(e,!0)),t&&!t.width&&!t.x&&!t.y?{x:+Tk(e,["x","cx","x1"])||0,y:+Tk(e,["y","cy","y1"])||0,width:0,height:0}:t},c8=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&l8(e))},vg=function(e,t){if(t){var r=e.style;t in Ja&&t!==xo&&(t=Tn),r.removeProperty?((t.substr(0,2)==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),r.removeProperty(t.replace(oT,"-$1").toLowerCase())):r.removeAttribute(t)}},Vl=function(e,t,r,i,s,o){var a=new Fi(e._pt,t,r,0,1,o?i8:r8);return e._pt=a,a.b=i,a.e=s,e._props.push(r),a},Pk={deg:1,rad:1,turn:1},Dpe={grid:1,flex:1},mc=function n(e,t,r,i){var s=parseFloat(r)||0,o=(r+"").trim().substr((s+"").length)||"px",a=xu.style,l=ype.test(t),c=e.tagName.toLowerCase()==="svg",u=(c?"client":"offset")+(l?"Width":"Height"),f=100,d=i==="px",m=i==="%",g,v,y,x;return i===o||!s||Pk[i]||Pk[o]?s:(o!=="px"&&!d&&(s=n(e,t,r,"px")),x=e.getCTM&&c8(e),(m||o==="%")&&(Ja[t]||~t.indexOf("adius"))?(g=x?e.getBBox()[l?"width":"height"]:e[u],Jn(m?s/g*f:s/100*g)):(a[l?"width":"height"]=f+(d?o:i),v=~t.indexOf("adius")||i==="em"&&e.appendChild&&!c?e:e.parentNode,x&&(v=(e.ownerSVGElement||{}).parentNode),(!v||v===Hl||!v.appendChild)&&(v=Hl.body),y=v._gsap,y&&m&&y.width&&l&&y.time===es.time&&!y.uncache?Jn(s/y.width*f):((m||o==="%")&&!Dpe[Jo(v,"display")]&&(a.position=Jo(e,"position")),v===e&&(a.position="static"),v.appendChild(xu),g=xu[u],v.removeChild(xu),a.position="absolute",l&&m&&(y=Bu(v),y.time=es.time,y.width=v[u]),Jn(d?g*s/f:g&&s?f/g*s:0))))},Aa=function(e,t,r,i){var s;return iT||f2(),t in Ho&&t!=="transform"&&(t=Ho[t],~t.indexOf(",")&&(t=t.split(",")[0])),Ja[t]&&t!=="transform"?(s=_g(e,i),s=t!=="transformOrigin"?s[t]:s.svg?s.origin:a_(Jo(e,xo))+" "+s.zOrigin+"px"):(s=e.style[t],(!s||s==="auto"||i||~(s+"").indexOf("calc("))&&(s=o_[t]&&o_[t](e,t,r)||Jo(e,t)||M6(e,t)||(t==="opacity"?1:0))),r&&!~(s+"").trim().indexOf(" ")?mc(e,t,s,r)+r:s},Bpe=function(e,t,r,i){if(!r||r==="none"){var s=ph(t,e,1),o=s&&Jo(e,s,1);o&&o!==r?(t=s,r=o):t==="borderColor"&&(r=Jo(e,"borderTopColor"))}var a=new Fi(this._pt,e.style,t,0,1,e8),l=0,c=0,u,f,d,m,g,v,y,x,_,w,A,C;if(a.b=r,a.e=i,r+="",i+="",i==="auto"&&(e.style[t]=i,i=Jo(e,t)||i,e.style[t]=r),u=[r,i],W6(u),r=u[0],i=u[1],d=r.match(Pd)||[],C=i.match(Pd)||[],C.length){for(;f=Pd.exec(i);)y=f[0],_=i.substring(l,f.index),g?g=(g+1)%5:(_.substr(-5)==="rgba("||_.substr(-5)==="hsla(")&&(g=1),y!==(v=d[c++]||"")&&(m=parseFloat(v)||0,A=v.substr((m+"").length),y.charAt(1)==="="&&(y=Hd(m,y)+A),x=parseFloat(y),w=y.substr((x+"").length),l=Pd.lastIndex-w.length,w||(w=w||as.units[t]||A,l===i.length&&(i+=w,a.e+=w)),A!==w&&(m=mc(e,t,v,w)||0),a._pt={_next:a._pt,p:_||c===1?_:",",s:m,c:x-m,m:g&&g<4||t==="zIndex"?Math.round:0});a.c=l<i.length?i.substring(l,i.length):""}else a.r=t==="display"&&i==="none"?i8:r8;return _6.test(i)&&(a.e=0),this._pt=a,a},Rk={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Ipe=function(e){var t=e.split(" "),r=t[0],i=t[1]||"50%";return(r==="top"||r==="bottom"||i==="left"||i==="right")&&(e=r,r=i,i=e),t[0]=Rk[r]||r,t[1]=Rk[i]||i,t.join(" ")},Lpe=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var r=t.t,i=r.style,s=t.u,o=r._gsap,a,l,c;if(s==="all"||s===!0)i.cssText="",l=1;else for(s=s.split(","),c=s.length;--c>-1;)a=s[c],Ja[a]&&(l=1,a=a==="transformOrigin"?xo:Tn),vg(r,a);l&&(vg(r,Tn),o&&(o.svg&&r.removeAttribute("transform"),_g(r,1),o.uncache=1,s8(i)))}},o_={clearProps:function(e,t,r,i,s){if(s.data!=="isFromStart"){var o=e._pt=new Fi(e._pt,t,r,0,0,Lpe);return o.u=i,o.pr=-10,o.tween=s,e._props.push(r),1}}},yg=[1,0,0,1,0,0],u8={},f8=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},Dk=function(e){var t=Jo(e,Tn);return f8(t)?yg:t.substr(7).match(y6).map(Jn)},aT=function(e,t){var r=e._gsap||Bu(e),i=e.style,s=Dk(e),o,a,l,c;return r.svg&&e.getAttribute("transform")?(l=e.transform.baseVal.consolidate().matrix,s=[l.a,l.b,l.c,l.d,l.e,l.f],s.join(",")==="1,0,0,1,0,0"?yg:s):(s===yg&&!e.offsetParent&&e!==Vd&&!r.svg&&(l=i.display,i.display="block",o=e.parentNode,(!o||!e.offsetParent)&&(c=1,a=e.nextElementSibling,Vd.appendChild(e)),s=Dk(e),l?i.display=l:vg(e,"display"),c&&(a?o.insertBefore(e,a):o?o.appendChild(e):Vd.removeChild(e))),t&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},d2=function(e,t,r,i,s,o){var a=e._gsap,l=s||aT(e,!0),c=a.xOrigin||0,u=a.yOrigin||0,f=a.xOffset||0,d=a.yOffset||0,m=l[0],g=l[1],v=l[2],y=l[3],x=l[4],_=l[5],w=t.split(" "),A=parseFloat(w[0])||0,C=parseFloat(w[1])||0,E,P,b,R;r?l!==yg&&(P=m*y-g*v)&&(b=A*(y/P)+C*(-v/P)+(v*_-y*x)/P,R=A*(-g/P)+C*(m/P)-(m*_-g*x)/P,A=b,C=R):(E=l8(e),A=E.x+(~w[0].indexOf("%")?A/100*E.width:A),C=E.y+(~(w[1]||w[0]).indexOf("%")?C/100*E.height:C)),i||i!==!1&&a.smooth?(x=A-c,_=C-u,a.xOffset=f+(x*m+_*v)-x,a.yOffset=d+(x*g+_*y)-_):a.xOffset=a.yOffset=0,a.xOrigin=A,a.yOrigin=C,a.smooth=!!i,a.origin=t,a.originIsAbsolute=!!r,e.style[xo]="0px 0px",o&&(Vl(o,a,"xOrigin",c,A),Vl(o,a,"yOrigin",u,C),Vl(o,a,"xOffset",f,a.xOffset),Vl(o,a,"yOffset",d,a.yOffset)),e.setAttribute("data-svg-origin",A+" "+C)},_g=function(e,t){var r=e._gsap||new J6(e);if("x"in r&&!t&&!r.uncache)return r;var i=e.style,s=r.scaleX<0,o="px",a="deg",l=getComputedStyle(e),c=Jo(e,xo)||"0",u,f,d,m,g,v,y,x,_,w,A,C,E,P,b,R,D,L,N,z,k,V,W,Y,O,U,H,G,X,Z,re,ie;return u=f=d=v=y=x=_=w=A=0,m=g=1,r.svg=!!(e.getCTM&&c8(e)),l.translate&&((l.translate!=="none"||l.scale!=="none"||l.rotate!=="none")&&(i[Tn]=(l.translate!=="none"?"translate3d("+(l.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(l.rotate!=="none"?"rotate("+l.rotate+") ":"")+(l.scale!=="none"?"scale("+l.scale.split(" ").join(",")+") ":"")+(l[Tn]!=="none"?l[Tn]:"")),i.scale=i.rotate=i.translate="none"),P=aT(e,r.svg),r.svg&&(r.uncache?(O=e.getBBox(),c=r.xOrigin-O.x+"px "+(r.yOrigin-O.y)+"px",Y=""):Y=!t&&e.getAttribute("data-svg-origin"),d2(e,Y||c,!!Y||r.originIsAbsolute,r.smooth!==!1,P)),C=r.xOrigin||0,E=r.yOrigin||0,P!==yg&&(L=P[0],N=P[1],z=P[2],k=P[3],u=V=P[4],f=W=P[5],P.length===6?(m=Math.sqrt(L*L+N*N),g=Math.sqrt(k*k+z*z),v=L||N?rd(N,L)*ou:0,_=z||k?rd(z,k)*ou+v:0,_&&(g*=Math.abs(Math.cos(_*Wd))),r.svg&&(u-=C-(C*L+E*z),f-=E-(C*N+E*k))):(ie=P[6],Z=P[7],H=P[8],G=P[9],X=P[10],re=P[11],u=P[12],f=P[13],d=P[14],b=rd(ie,X),y=b*ou,b&&(R=Math.cos(-b),D=Math.sin(-b),Y=V*R+H*D,O=W*R+G*D,U=ie*R+X*D,H=V*-D+H*R,G=W*-D+G*R,X=ie*-D+X*R,re=Z*-D+re*R,V=Y,W=O,ie=U),b=rd(-z,X),x=b*ou,b&&(R=Math.cos(-b),D=Math.sin(-b),Y=L*R-H*D,O=N*R-G*D,U=z*R-X*D,re=k*D+re*R,L=Y,N=O,z=U),b=rd(N,L),v=b*ou,b&&(R=Math.cos(b),D=Math.sin(b),Y=L*R+N*D,O=V*R+W*D,N=N*R-L*D,W=W*R-V*D,L=Y,V=O),y&&Math.abs(y)+Math.abs(v)>359.9&&(y=v=0,x=180-x),m=Jn(Math.sqrt(L*L+N*N+z*z)),g=Jn(Math.sqrt(W*W+ie*ie)),b=rd(V,W),_=Math.abs(b)>2e-4?b*ou:0,A=re?1/(re<0?-re:re):0),r.svg&&(Y=e.getAttribute("transform"),r.forceCSS=e.setAttribute("transform","")||!f8(Jo(e,Tn)),Y&&e.setAttribute("transform",Y))),Math.abs(_)>90&&Math.abs(_)<270&&(s?(m*=-1,_+=v<=0?180:-180,v+=v<=0?180:-180):(g*=-1,_+=_<=0?180:-180)),t=t||r.uncache,r.x=u-((r.xPercent=u&&(!t&&r.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-u)?-50:0)))?e.offsetWidth*r.xPercent/100:0)+o,r.y=f-((r.yPercent=f&&(!t&&r.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-f)?-50:0)))?e.offsetHeight*r.yPercent/100:0)+o,r.z=d+o,r.scaleX=Jn(m),r.scaleY=Jn(g),r.rotation=Jn(v)+a,r.rotationX=Jn(y)+a,r.rotationY=Jn(x)+a,r.skewX=_+a,r.skewY=w+a,r.transformPerspective=A+o,(r.zOrigin=parseFloat(c.split(" ")[2])||0)&&(i[xo]=a_(c)),r.xOffset=r.yOffset=0,r.force3D=as.force3D,r.renderTransform=r.svg?Ope:a8?d8:kpe,r.uncache=0,r},a_=function(e){return(e=e.split(" "))[0]+" "+e[1]},SA=function(e,t,r){var i=jr(t);return Jn(parseFloat(t)+parseFloat(mc(e,"x",r+"px",i)))+i},kpe=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,d8(e,t)},Zc="0deg",Np="0px",eu=") ",d8=function(e,t){var r=t||this,i=r.xPercent,s=r.yPercent,o=r.x,a=r.y,l=r.z,c=r.rotation,u=r.rotationY,f=r.rotationX,d=r.skewX,m=r.skewY,g=r.scaleX,v=r.scaleY,y=r.transformPerspective,x=r.force3D,_=r.target,w=r.zOrigin,A="",C=x==="auto"&&e&&e!==1||x===!0;if(w&&(f!==Zc||u!==Zc)){var E=parseFloat(u)*Wd,P=Math.sin(E),b=Math.cos(E),R;E=parseFloat(f)*Wd,R=Math.cos(E),o=SA(_,o,P*R*-w),a=SA(_,a,-Math.sin(E)*-w),l=SA(_,l,b*R*-w+w)}y!==Np&&(A+="perspective("+y+eu),(i||s)&&(A+="translate("+i+"%, "+s+"%) "),(C||o!==Np||a!==Np||l!==Np)&&(A+=l!==Np||C?"translate3d("+o+", "+a+", "+l+") ":"translate("+o+", "+a+eu),c!==Zc&&(A+="rotate("+c+eu),u!==Zc&&(A+="rotateY("+u+eu),f!==Zc&&(A+="rotateX("+f+eu),(d!==Zc||m!==Zc)&&(A+="skew("+d+", "+m+eu),(g!==1||v!==1)&&(A+="scale("+g+", "+v+eu),_.style[Tn]=A||"translate(0, 0)"},Ope=function(e,t){var r=t||this,i=r.xPercent,s=r.yPercent,o=r.x,a=r.y,l=r.rotation,c=r.skewX,u=r.skewY,f=r.scaleX,d=r.scaleY,m=r.target,g=r.xOrigin,v=r.yOrigin,y=r.xOffset,x=r.yOffset,_=r.forceCSS,w=parseFloat(o),A=parseFloat(a),C,E,P,b,R;l=parseFloat(l),c=parseFloat(c),u=parseFloat(u),u&&(u=parseFloat(u),c+=u,l+=u),l||c?(l*=Wd,c*=Wd,C=Math.cos(l)*f,E=Math.sin(l)*f,P=Math.sin(l-c)*-d,b=Math.cos(l-c)*d,c&&(u*=Wd,R=Math.tan(c-u),R=Math.sqrt(1+R*R),P*=R,b*=R,u&&(R=Math.tan(u),R=Math.sqrt(1+R*R),C*=R,E*=R)),C=Jn(C),E=Jn(E),P=Jn(P),b=Jn(b)):(C=f,b=d,E=P=0),(w&&!~(o+"").indexOf("px")||A&&!~(a+"").indexOf("px"))&&(w=mc(m,"x",o,"px"),A=mc(m,"y",a,"px")),(g||v||y||x)&&(w=Jn(w+g-(g*C+v*P)+y),A=Jn(A+v-(g*E+v*b)+x)),(i||s)&&(R=m.getBBox(),w=Jn(w+i/100*R.width),A=Jn(A+s/100*R.height)),R="matrix("+C+","+E+","+P+","+b+","+w+","+A+")",m.setAttribute("transform",R),_&&(m.style[Tn]=R)},Fpe=function(e,t,r,i,s){var o=360,a=br(s),l=parseFloat(s)*(a&&~s.indexOf("rad")?ou:1),c=l-i,u=i+c+"deg",f,d;return a&&(f=s.split("_")[1],f==="short"&&(c%=o,c!==c%(o/2)&&(c+=c<0?o:-o)),f==="cw"&&c<0?c=(c+o*Ck)%o-~~(c/o)*o:f==="ccw"&&c>0&&(c=(c-o*Ck)%o-~~(c/o)*o)),e._pt=d=new Fi(e._pt,t,r,i,c,xpe),d.e=u,d.u="deg",e._props.push(r),d},Bk=function(e,t){for(var r in t)e[r]=t[r];return e},Npe=function(e,t,r){var i=Bk({},r._gsap),s="perspective,force3D,transformOrigin,svgOrigin",o=r.style,a,l,c,u,f,d,m,g;i.svg?(c=r.getAttribute("transform"),r.setAttribute("transform",""),o[Tn]=t,a=_g(r,1),vg(r,Tn),r.setAttribute("transform",c)):(c=getComputedStyle(r)[Tn],o[Tn]=t,a=_g(r,1),o[Tn]=c);for(l in Ja)c=i[l],u=a[l],c!==u&&s.indexOf(l)<0&&(m=jr(c),g=jr(u),f=m!==g?mc(r,l,c,g):parseFloat(c),d=parseFloat(u),e._pt=new Fi(e._pt,a,l,f,d-f,c2),e._pt.u=g||0,e._props.push(l));Bk(a,i)};Oi("padding,margin,Width,Radius",function(n,e){var t="Top",r="Right",i="Bottom",s="Left",o=(e<3?[t,r,i,s]:[t+s,t+r,i+r,i+s]).map(function(a){return e<2?n+a:"border"+a+n});o_[e>1?"border"+n:n]=function(a,l,c,u,f){var d,m;if(arguments.length<4)return d=o.map(function(g){return Aa(a,g,c)}),m=d.join(" "),m.split(d[0]).length===5?d[0]:m;d=(u+"").split(" "),m={},o.forEach(function(g,v){return m[g]=d[v]=d[v]||d[(v-1)/2|0]}),a.init(l,m,f)}});var h8={name:"css",register:f2,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,r,i,s){var o=this._props,a=e.style,l=r.vars.startAt,c,u,f,d,m,g,v,y,x,_,w,A,C,E,P,b;iT||f2(),this.styles=this.styles||o8(e),b=this.styles.props,this.tween=r;for(v in t)if(v!=="autoRound"&&(u=t[v],!(qi[v]&&K6(v,t,r,i,e,s)))){if(m=typeof u,g=o_[v],m==="function"&&(u=u.call(r,i,e,s),m=typeof u),m==="string"&&~u.indexOf("random(")&&(u=pg(u)),g)g(this,e,v,u,r)&&(P=1);else if(v.substr(0,2)==="--")c=(getComputedStyle(e).getPropertyValue(v)+"").trim(),u+="",ec.lastIndex=0,ec.test(c)||(y=jr(c),x=jr(u)),x?y!==x&&(c=mc(e,v,c,x)+x):y&&(u+=y),this.add(a,"setProperty",c,u,i,s,0,0,v),o.push(v),b.push(v,0,a[v]);else if(m!=="undefined"){if(l&&v in l?(c=typeof l[v]=="function"?l[v].call(r,i,e,s):l[v],br(c)&&~c.indexOf("random(")&&(c=pg(c)),jr(c+"")||(c+=as.units[v]||jr(Aa(e,v))||""),(c+"").charAt(1)==="="&&(c=Aa(e,v))):c=Aa(e,v),d=parseFloat(c),_=m==="string"&&u.charAt(1)==="="&&u.substr(0,2),_&&(u=u.substr(2)),f=parseFloat(u),v in Ho&&(v==="autoAlpha"&&(d===1&&Aa(e,"visibility")==="hidden"&&f&&(d=0),b.push("visibility",0,a.visibility),Vl(this,a,"visibility",d?"inherit":"hidden",f?"inherit":"hidden",!f)),v!=="scale"&&v!=="transform"&&(v=Ho[v],~v.indexOf(",")&&(v=v.split(",")[0]))),w=v in Ja,w){if(this.styles.save(v),A||(C=e._gsap,C.renderTransform&&!t.parseTransform||_g(e,t.parseTransform),E=t.smoothOrigin!==!1&&C.smooth,A=this._pt=new Fi(this._pt,a,Tn,0,1,C.renderTransform,C,0,-1),A.dep=1),v==="scale")this._pt=new Fi(this._pt,C,"scaleY",C.scaleY,(_?Hd(C.scaleY,_+f):f)-C.scaleY||0,c2),this._pt.u=0,o.push("scaleY",v),v+="X";else if(v==="transformOrigin"){b.push(xo,0,a[xo]),u=Ipe(u),C.svg?d2(e,u,0,E,0,this):(x=parseFloat(u.split(" ")[2])||0,x!==C.zOrigin&&Vl(this,C,"zOrigin",C.zOrigin,x),Vl(this,a,v,a_(c),a_(u)));continue}else if(v==="svgOrigin"){d2(e,u,1,E,0,this);continue}else if(v in u8){Fpe(this,C,v,d,_?Hd(d,_+u):u);continue}else if(v==="smoothOrigin"){Vl(this,C,"smooth",C.smooth,u);continue}else if(v==="force3D"){C[v]=u;continue}else if(v==="transform"){Npe(this,u,e);continue}}else v in a||(v=ph(v)||v);if(w||(f||f===0)&&(d||d===0)&&!_pe.test(u)&&v in a)y=(c+"").substr((d+"").length),f||(f=0),x=jr(u)||(v in as.units?as.units[v]:y),y!==x&&(d=mc(e,v,c,x)),this._pt=new Fi(this._pt,w?C:a,v,d,(_?Hd(d,_+f):f)-d,!w&&(x==="px"||v==="zIndex")&&t.autoRound!==!1?Spe:c2),this._pt.u=x||0,y!==x&&x!=="%"&&(this._pt.b=c,this._pt.r=wpe);else if(v in a)Bpe.call(this,e,v,c,_?_+u:u);else if(v in e)this.add(e,v,c||e[v],_?_+u:u,i,s);else if(v!=="parseTransform"){KE(v,u);continue}w||(v in a?b.push(v,0,a[v]):b.push(v,1,c||e[v])),o.push(v)}}P&&t8(this)},render:function(e,t){if(t.tween._time||!sT())for(var r=t._pt;r;)r.r(e,r.d),r=r._next;else t.styles.revert()},get:Aa,aliases:Ho,getSetter:function(e,t,r){var i=Ho[t];return i&&i.indexOf(",")<0&&(t=i),t in Ja&&t!==xo&&(e._gsap.x||Aa(e,"x"))?r&&Mk===r?t==="scale"?Cpe:Mpe:(Mk=r||{})&&(t==="scale"?Epe:Tpe):e.style&&!$E(e.style[t])?Ape:~t.indexOf("-")?bpe:nT(e,t)},core:{_removeProperty:vg,_getMatrix:aT}};Ui.utils.checkPrefix=ph;Ui.core.getStyleSaver=o8;(function(n,e,t,r){var i=Oi(n+","+e+","+t,function(s){Ja[s]=1});Oi(e,function(s){as.units[s]="deg",u8[s]=1}),Ho[i[13]]=n+","+e,Oi(r,function(s){var o=s.split(":");Ho[o[1]]=i[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");Oi("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(n){as.units[n]="px"});Ui.registerPlugin(h8);var lT=Ui.registerPlugin(h8)||Ui;lT.core.Tween;const Upe=()=>{const n=B.useRef(),e=B.useRef({color:"#b9bcff"}),t=jg(),r=B.useRef();return hs(()=>{r.current.progress(t.scroll.current),n.current.color=new He(e.current.color)}),B.useEffect(()=>{r.current=lT.timeline(),r.current.to(e.current,{color:"#212121"}),r.current.to(e.current,{color:"#7a7ca5"}),r.current.to(e.current,{color:"#9b96dd"})},[]),ae.jsx("group",{children:ae.jsx(ote,{scale:[30,30,30],children:ae.jsx("meshBasicMaterial",{ref:n,side:mi,toneMapped:!1})})})};function zpe(n){const{section:e}=n,{nodes:t,materials:r}=af("models/scene.gltf"),i=K_("textures/baked.jpg"),s=Zee("textures/vscode.mp4");i.flipY=!1,i.encoding=vn;const o=new ac({map:i,transparent:!0,opacity:1}),a=new ac({map:i,transparent:!0,opacity:.42}),l=og(0),c=og(0);return B.useEffect(()=>{ag(l,e===0?1:0),ag(c,e===0?.42:0)},[e]),hs(()=>{o.opacity=l.get(),a.opacity=c.get()}),ae.jsxs("group",{...n,dispose:null,children:[ae.jsx("mesh",{name:"Screen",geometry:t.Screen.geometry,position:[.45,.94,-1.72],rotation:[Math.PI,-1.1,Math.PI],children:ae.jsx("meshBasicMaterial",{map:s,toneMapped:!1})}),ae.jsxs("group",{name:"Desk",position:[-.07,0,-1.52],rotation:[0,-Math.PI/2,0],children:[ae.jsx("mesh",{name:"Plane001_Plane002_BlackWood001",geometry:t.Plane001_Plane002_BlackWood001.geometry,material:o}),ae.jsx("mesh",{name:"Plane001_Plane002_BlackWood001_1",geometry:t.Plane001_Plane002_BlackWood001_1.geometry,material:o}),ae.jsx("mesh",{name:"Plane001_Plane002_BlackWood001_2",geometry:t.Plane001_Plane002_BlackWood001_2.geometry,material:o}),ae.jsx("mesh",{name:"Plane001_Plane002_BlackWood001_3",geometry:t.Plane001_Plane002_BlackWood001_3.geometry,material:o}),ae.jsx("mesh",{name:"Plane001_Plane002_BlackWood001_4",geometry:t.Plane001_Plane002_BlackWood001_4.geometry,material:o})]}),ae.jsxs("group",{name:"SM_ShelfSM_Shelf1",position:[-.87,1.69,-2.04],children:[ae.jsx("mesh",{name:"SM_ShelfSM_Shelf1_1",geometry:t.SM_ShelfSM_Shelf1_1.geometry,material:o}),ae.jsx("mesh",{name:"SM_ShelfSM_Shelf1_1_1",geometry:t.SM_ShelfSM_Shelf1_1_1.geometry,material:o})]}),ae.jsxs(Ls.group,{scale:[0,0,0],animate:{scale:e===0?1:0},name:"LavaLamp",position:[-1.3,2.07,-1.99],children:[ae.jsx("mesh",{name:"Node-Mesh001",geometry:t["Node-Mesh001"].geometry,material:o}),ae.jsx("mesh",{name:"Node-Mesh001_1",geometry:t["Node-Mesh001_1"].geometry,material:o}),ae.jsx("mesh",{name:"Node-Mesh001_2",geometry:t["Node-Mesh001_2"].geometry,material:o})]}),ae.jsx(Ls.mesh,{scale:[0,0,0],animate:{scale:e===0?1:0},name:"WawaRug",geometry:t.WawaRug.geometry,material:o,position:[-.28,.01,.76]}),ae.jsxs(Ls.group,{scale:[0,0,0],animate:{scale:e===0?1:0},name:"salameche",position:[-.61,2.04,-1.96],rotation:[-Math.PI,.73,-Math.PI],children:[ae.jsx("mesh",{name:"mesh434900071",geometry:t.mesh434900071.geometry,material:o}),ae.jsx("mesh",{name:"mesh434900071_1",geometry:t.mesh434900071_1.geometry,material:o}),ae.jsx("mesh",{name:"mesh434900071_2",geometry:t.mesh434900071_2.geometry,material:o}),ae.jsx("mesh",{name:"mesh434900071_3",geometry:t.mesh434900071_3.geometry,material:o}),ae.jsx("mesh",{name:"mesh434900071_4",geometry:t.mesh434900071_4.geometry,material:o}),ae.jsx("mesh",{name:"mesh434900071_5",geometry:t.mesh434900071_5.geometry,material:o})]}),ae.jsxs("group",{name:"keyboard",position:[.21,.98,-1.21],rotation:[0,-.22,0],scale:.63,children:[ae.jsx("mesh",{name:"mesh425587018",geometry:t.mesh425587018.geometry,material:o}),ae.jsx("mesh",{name:"mesh425587018_1",geometry:t.mesh425587018_1.geometry,material:o}),ae.jsx("mesh",{name:"mesh425587018_2",geometry:t.mesh425587018_2.geometry,material:o}),ae.jsx("mesh",{name:"mesh425587018_3",geometry:t.mesh425587018_3.geometry,material:o})]}),ae.jsxs(Ls.group,{scale:[0,0,0],animate:{scale:e===0?1:0},name:"iMac",position:[.45,.94,-1.72],rotation:[Math.PI,-1.1,Math.PI],children:[ae.jsx("mesh",{name:"iMac_1_1",geometry:t.iMac_1_1.geometry,material:o}),ae.jsx("mesh",{name:"iMac_1_2",geometry:t.iMac_1_2.geometry,material:o})]}),ae.jsx("mesh",{name:"Comp_Mouse",geometry:t.Comp_Mouse.geometry,material:o,position:[-.01,0,.08]}),ae.jsxs(Ls.group,{scale:[0,0,0],animate:{scale:e===0?1:0},name:"plant",position:[-.78,1.07,-1.61],children:[ae.jsx("mesh",{name:"mesh24448074",geometry:t.mesh24448074.geometry,material:o}),ae.jsx("mesh",{name:"mesh24448074_1",geometry:t.mesh24448074_1.geometry,material:o}),ae.jsx("mesh",{name:"mesh24448074_2",geometry:t.mesh24448074_2.geometry,material:o})]}),ae.jsxs(Ls.group,{scale:[0,0,0],animate:{scale:e===0?1:0},name:"Houseplant_7",position:[-2.02,-.04,-1.53],rotation:[-Math.PI/2,0,0],children:[ae.jsx("mesh",{name:"Houseplant_7_1",geometry:t.Houseplant_7_1.geometry,material:o}),ae.jsx("mesh",{name:"Houseplant_7_2",geometry:t.Houseplant_7_2.geometry,material:o}),ae.jsx("mesh",{name:"Houseplant_7_3",geometry:t.Houseplant_7_3.geometry,material:o})]}),ae.jsxs(Ls.group,{scale:[0,0,0],animate:{scale:e===0?1:0},name:"palm_tree_01",position:[2.13,-.08,-1.06],rotation:[-Math.PI,.67,-Math.PI],children:[ae.jsx("mesh",{name:"palm_tree_01-Mesh",geometry:t["palm_tree_01-Mesh"].geometry,material:o}),ae.jsx("mesh",{name:"palm_tree_01-Mesh_1",geometry:t["palm_tree_01-Mesh_1"].geometry,material:o}),ae.jsx("mesh",{name:"palm_tree_01-Mesh_2",geometry:t["palm_tree_01-Mesh_2"].geometry,material:o})]}),ae.jsxs(Ls.group,{scale:[0,0,0],animate:{scale:e===0?1:0},name:"Chair",position:[.09,0,-.66],rotation:[0,-.35,0],children:[ae.jsx("mesh",{name:"Node-Mesh",geometry:t["Node-Mesh"].geometry,material:o}),ae.jsx("mesh",{name:"Node-Mesh_1",geometry:t["Node-Mesh_1"].geometry,material:o})]}),ae.jsx("mesh",{name:"Plane001",geometry:t.Plane001.geometry,material:o}),ae.jsx("mesh",{name:"Plane001_1",geometry:t.Plane001_1.geometry,material:o}),ae.jsx("mesh",{name:"Plane001_2",geometry:t.Plane001_2.geometry,material:o}),ae.jsx("mesh",{name:"Plane001_3",geometry:t.Plane001_3.geometry,material:a})]})}af.preload("models/scene.gltf");let Gpe=0;function Hpe(n,e){const t=`atom${++Gpe}`,r={toString:()=>t};return typeof n=="function"?r.read=n:(r.init=n,r.read=function(i){return i(this)},r.write=function(i,s,o){return s(this,typeof o=="function"?o(i(this)):o)}),e&&(r.write=e),r}const Ik=n=>"init"in n,Lk=n=>!!n.write,l_=new WeakMap,Vpe=(n,e)=>{l_.set(n,e),n.catch(()=>{}).finally(()=>l_.delete(n))},kk=(n,e)=>{const t=l_.get(n);t&&(l_.delete(n),t(e))},Ok=(n,e)=>{n.status="fulfilled",n.value=e},Fk=(n,e)=>{n.status="rejected",n.reason=e},Wpe=n=>typeof(n==null?void 0:n.then)=="function",Up=(n,e)=>!!n&&"v"in n&&"v"in e&&Object.is(n.v,e.v),Nk=(n,e)=>!!n&&"e"in n&&"e"in e&&Object.is(n.e,e.e),id=n=>!!n&&"v"in n&&n.v instanceof Promise,jpe=(n,e)=>"v"in n&&"v"in e&&n.v.orig&&n.v.orig===e.v.orig,Ay=n=>{if("e"in n)throw n.e;return n.v},$pe=()=>{const n=new WeakMap,e=new WeakMap,t=new Map;let r,i;const s=b=>n.get(b),o=(b,R)=>{const D=n.get(b);if(n.set(b,R),t.has(b)||t.set(b,D),id(D)){const L="v"in R?R.v instanceof Promise?R.v:Promise.resolve(R.v):Promise.reject(R.e);D.v!==L&&kk(D.v,L)}},a=(b,R,D)=>{const L=new Map;let N=!1;D.forEach((z,k)=>{!z&&k===b&&(z=R),z&&(L.set(k,z),R.d.get(k)!==z&&(N=!0))}),(N||R.d.size!==L.size)&&(R.d=L)},l=(b,R,D)=>{const L=s(b),N={d:(L==null?void 0:L.d)||new Map,v:R};if(D&&a(b,N,D),Up(L,N)&&L.d===N.d)return L;if(id(L)&&id(N)&&jpe(L,N)){if(L.d===N.d)return L;N.v=L.v}return o(b,N),N},c=(b,R,D,L)=>{if(Wpe(R)){let N;const z=()=>{const V=s(b);if(!id(V)||V.v!==k)return;const W=l(b,k,D);e.has(b)&&V.d!==W.d&&C(b,W,V.d)},k=new Promise((V,W)=>{let Y=!1;R.then(O=>{Y||(Y=!0,Ok(k,O),V(O),z())},O=>{Y||(Y=!0,Fk(k,O),W(O),z())}),N=O=>{Y||(Y=!0,O.then(U=>Ok(k,U),U=>Fk(k,U)),V(O))}});return k.orig=R,k.status="pending",Vpe(k,V=>{V&&N(V),L==null||L()}),l(b,k,D)}return l(b,R,D)},u=(b,R,D)=>{const L=s(b),N={d:(L==null?void 0:L.d)||new Map,e:R};return D&&a(b,N,D),Nk(L,N)&&L.d===N.d?L:(o(b,N),N)},f=(b,R)=>{const D=s(b);if(!R&&D&&(e.has(b)||Array.from(D.d).every(([Y,O])=>{if(Y===b)return!0;const U=f(Y);return U===O||Up(U,O)})))return D;const L=new Map;let N=!0;const z=Y=>{if(Y===b){const U=s(Y);if(U)return L.set(Y,U),Ay(U);if(Ik(Y))return L.set(Y,void 0),Y.init;throw new Error("no atom init")}const O=f(Y);return L.set(Y,O),Ay(O)};let k,V;const W={get signal(){return k||(k=new AbortController),k.signal},get setSelf(){return!V&&Lk(b)&&(V=(...Y)=>{if(!N)return _(b,...Y)}),V}};try{const Y=b.read(z,W);return c(b,Y,L,()=>k==null?void 0:k.abort())}catch(Y){return u(b,Y,L)}finally{N=!1}},d=b=>Ay(f(b)),m=b=>{let R=e.get(b);return R||(R=w(b)),R},g=(b,R)=>!R.l.size&&(!R.t.size||R.t.size===1&&R.t.has(b)),v=b=>{const R=e.get(b);R&&g(b,R)&&A(b)},y=b=>{const R=new Map,D=new WeakMap,L=k=>{var V;const W=new Set((V=e.get(k))==null?void 0:V.t);return t.forEach((Y,O)=>{var U;(U=s(O))!=null&&U.d.has(k)&&W.add(O)}),W},N=k=>{L(k).forEach(V=>{V!==k&&(R.set(V,(R.get(V)||new Set).add(k)),D.set(V,(D.get(V)||0)+1),N(V))})};N(b);const z=k=>{L(k).forEach(V=>{var W;if(V!==k){let Y=D.get(V);if(Y&&D.set(V,--Y),!Y){let O=!!((W=R.get(V))!=null&&W.size);if(O){const U=s(V),H=f(V,!0);O=!Up(U,H)}O||R.forEach(U=>U.delete(V))}z(V)}})};z(b)},x=(b,...R)=>{let D=!0;const L=k=>Ay(f(k)),N=(k,...V)=>{let W;if(k===b){if(!Ik(k))throw new Error("atom not writable");const Y=s(k),O=c(k,V[0]);Up(Y,O)||y(k)}else W=x(k,...V);if(!D){const Y=E()}return W},z=b.write(L,N,...R);return D=!1,z},_=(b,...R)=>{const D=x(b,...R),L=E();return D},w=(b,R,D)=>{var L;const N=D||[];(L=s(b))==null||L.d.forEach((k,V)=>{const W=e.get(V);W?W.t.add(b):V!==b&&w(V,b,N)}),f(b);const z={t:new Set(R&&[R]),l:new Set};if(e.set(b,z),Lk(b)&&b.onMount){const{onMount:k}=b;N.push(()=>{const V=k((...W)=>_(b,...W));V&&(z.u=V)})}return D||N.forEach(k=>k()),z},A=b=>{var R;const D=(R=e.get(b))==null?void 0:R.u;D&&D(),e.delete(b);const L=s(b);L&&(id(L)&&kk(L.v),L.d.forEach((N,z)=>{if(z!==b){const k=e.get(z);k&&(k.t.delete(b),g(z,k)&&A(z))}}))},C=(b,R,D)=>{const L=new Set(R.d.keys());D==null||D.forEach((N,z)=>{if(L.has(z)){L.delete(z);return}const k=e.get(z);k&&(k.t.delete(b),g(z,k)&&A(z))}),L.forEach(N=>{const z=e.get(N);z?z.t.add(b):e.has(b)&&w(N,b)})},E=()=>{let b;for(;t.size;){const R=Array.from(t);t.clear(),R.forEach(([D,L])=>{const N=s(D);if(N){const z=e.get(D);z&&N.d!==(L==null?void 0:L.d)&&C(D,N,L==null?void 0:L.d),z&&!(!id(L)&&(Up(L,N)||Nk(L,N)))&&z.l.forEach(k=>k())}})}};return{get:d,set:_,sub:(b,R)=>{const D=m(b),L=E(),N=D.l;return N.add(R),()=>{N.delete(R),v(b)}}}};let AA;const Xpe=()=>(AA||(AA=$pe()),AA),Jpe=B.createContext(void 0),p8=n=>{const e=B.useContext(Jpe);return(n==null?void 0:n.store)||e||Xpe()},Kpe=n=>typeof(n==null?void 0:n.then)=="function",Ype=ee.use||(n=>{if(n.status==="pending")throw n;if(n.status==="fulfilled")return n.value;throw n.status==="rejected"?n.reason:(n.status="pending",n.then(e=>{n.status="fulfilled",n.value=e},e=>{n.status="rejected",n.reason=e}),n)});function Qpe(n,e){const t=p8(e),[[r,i,s],o]=B.useReducer(c=>{const u=t.get(n);return Object.is(c[0],u)&&c[1]===t&&c[2]===n?c:[u,t,n]},void 0,()=>[t.get(n),t,n]);let a=r;(i!==t||s!==n)&&(o(),a=t.get(n));const l=e==null?void 0:e.delay;return B.useEffect(()=>{const c=t.sub(n,()=>{if(typeof l=="number"){setTimeout(o,l);return}o()});return o(),c},[t,n,l]),B.useDebugValue(a),Kpe(a)?Ype(a):a}function qpe(n,e){const t=p8(e);return B.useCallback((...i)=>t.set(n,...i),[t,n])}function m8(n,e){return[Qpe(n,e),qpe(n,e)]}const Mm=[{title:"Wawatmos",url:"https://r3f-wawatmos-final.vercel.app/",image:"projects/wawatmos.jpg",description:"Recreating the Atmos Awwwards website with React Three Fiber"},{title:"Portfolio Baking",url:"https://www.youtube.com/watch?v=YkHqpqJgLKw",image:"projects/baking.jpg",description:"Learn how to bake a 3D model with Blender and use it in r3f"},{title:"3D Avatar",url:"https://www.youtube.com/watch?v=pGMKIyALcK0",image:"projects/avatar.jpg",description:"Learn how to use ReadyPlayerMe to create a 3D avatar"},{title:"Kanagame",url:"https://www.youtube.com/watch?v=zwNF1-lsia8",image:"projects/kanagame.jpg",description:"Use React Three Fiber to create a 3D game"},{title:"Loader",url:"https://www.youtube.com/watch?v=L12wIvuZTOY",image:"projects/loader.jpg",description:"Create a loading screen for your r3f projects"}],Zpe=n=>{const{project:e,highlighted:t}=n,r=B.useRef(),i=og(.4);return B.useEffect(()=>{ag(i,t?.7:.4)},[t]),hs(()=>{r.current.material.opacity=i.get()}),ae.jsxs("group",{...n,children:[ae.jsxs("mesh",{"position-z":-.001,onClick:()=>window.open(e.url,"_blank"),ref:r,children:[ae.jsx("planeGeometry",{args:[2.2,2]}),ae.jsx("meshBasicMaterial",{color:"black",transparent:!0,opacity:.4})]}),ae.jsx(qee,{scale:[2,1.2,1],url:e.image,toneMapped:!1,"position-y":.3}),ae.jsx(jB,{maxWidth:2,anchorX:"left",anchorY:"top",fontSize:.2,position:[-1,-.4,0],children:e.title.toUpperCase()}),ae.jsx(jB,{maxWidth:2,anchorX:"left",anchorY:"top",fontSize:.1,position:[-1,-.6,0],children:e.description})]})},g8=Hpe(Math.floor(Mm.length/2)),eme=()=>{const{viewport:n}=Sc(),[e]=m8(g8);return ae.jsx("group",{"position-y":-n.height*2+1,children:Mm.map((t,r)=>ae.jsx(Ls.group,{position:[r*2.5,0,-3],animate:{x:0+(r-e)*2.5,y:e===r?0:-.1,z:e===r?-2:-3,rotateX:e===r?0:-Math.PI/3,rotateZ:e===r?0:-.1*Math.PI},children:ae.jsx(Zpe,{project:t,highlighted:r===e})},"project_"+r))})},tme=n=>{const{menuOpened:e}=n,{viewport:t}=Sc(),r=jg(),[i,s]=B.useState(0),o=og(),a=og();B.useEffect(()=>{ag(o,e?-5:0,{...QM}),ag(a,e?5:0,{...QM})},[e]);const l=B.useRef(),[c,u]=B.useState("Typing");return B.useEffect(()=>{u("Falling"),setTimeout(()=>{u(i===0?"Typing":"Standing")},600)},[i]),hs(f=>{let d=Math.floor(r.scroll.current*r.pages);d>3&&(d=3),d!==i&&s(d),f.camera.position.x=o.get(),f.camera.lookAt(a.get(),0,0)}),ae.jsxs(ae.Fragment,{children:[ae.jsx(Upe,{}),ae.jsx(Ls.group,{position:[1.9072935059634513,.14400000000000002,2.681801948466054],rotation:[-3.141592653589793,1.2053981633974482,3.141592653589793],animate:""+i,transition:{duration:.6},variants:{0:{scaleX:.9,scaleY:.9,scaleZ:.9},1:{y:-t.height+.5,x:0,z:7,rotateX:0,rotateY:0,rotateZ:0},2:{x:-2,y:-t.height*2+.5,z:0,rotateX:0,rotateY:Math.PI/2,rotateZ:0},3:{y:-t.height*3+1,x:.3,z:8.5,rotateX:0,rotateY:-Math.PI/4,rotateZ:0}},children:ae.jsx(bhe,{animation:c})}),ae.jsx("ambientLight",{intensity:1}),ae.jsxs(Ls.group,{position:[1.5,2,3],scale:[.9,.9,.9],"rotation-y":-Math.PI/4,animate:{y:i===0?0:-1},children:[ae.jsx(zpe,{section:i}),ae.jsx("group",{ref:l,name:"CharacterSpot",position:[.07,.16,-.57],rotation:[-Math.PI,.42,-Math.PI]})]}),ae.jsxs(Ls.group,{position:[0,-1.5,-10],animate:{z:i===1?0:-10,y:i===1?-t.height:-1.5},children:[ae.jsx("directionalLight",{position:[-5,3,5],intensity:.4}),ae.jsx(zS,{children:ae.jsxs("mesh",{position:[1,-3,-15],scale:[2,2,2],children:[ae.jsx("sphereGeometry",{}),ae.jsx(XB,{opacity:.8,transparent:!0,distort:.4,speed:4,color:"red"})]})}),ae.jsx(zS,{children:ae.jsxs("mesh",{scale:[3,3,3],position:[3,1,-18],children:[ae.jsx("sphereGeometry",{}),ae.jsx(XB,{opacity:.8,transparent:!0,distort:1,speed:5,color:"yellow"})]})}),ae.jsx(zS,{children:ae.jsxs("mesh",{scale:[1.4,1.4,1.4],position:[-3,-1,-11],children:[ae.jsx("boxGeometry",{}),ae.jsx(ite,{opacity:.8,transparent:!0,factor:1,speed:5,color:"blue"})]})})]}),ae.jsx(eme,{})]})},px=n=>{const{children:e}=n;return ae.jsx(kl.section,{className:`
  h-screen w-screen p-8 max-w-screen-2xl mx-auto
  flex flex-col items-start justify-center
  `,initial:{opacity:0,y:50},whileInView:{opacity:1,y:0,transition:{duration:1,delay:.6}},children:e})},nme=n=>{const{setSection:e}=n;return ae.jsxs("div",{className:"flex flex-col items-center w-screen",children:[ae.jsx(rme,{setSection:e}),ae.jsx(ome,{}),ae.jsx(ame,{}),ae.jsx(lme,{})]})},rme=n=>{const{setSection:e}=n;return ae.jsxs(px,{children:[ae.jsxs("h1",{className:"text-6xl font-extrabold leading-snug",children:["Hi, I'm",ae.jsx("br",{}),ae.jsx("span",{className:"bg-white px-1 italic",children:"Wawa Sensei"})]}),ae.jsxs(kl.p,{className:"text-lg text-gray-600 mt-4",initial:{opacity:0,y:25},whileInView:{opacity:1,y:0},transition:{duration:1,delay:1.5},children:["I make YouTube videos to help developers",ae.jsx("br",{}),"learn how to build 3D apps"]}),ae.jsx(kl.button,{onClick:()=>e(3),className:`bg-indigo-600 text-white py-4 px-8 
      rounded-lg font-bold text-lg mt-16`,initial:{opacity:0,y:25},whileInView:{opacity:1,y:0},transition:{duration:1,delay:2},children:"Contact me"})]})},ime=[{title:"Threejs / React Three Fiber",level:80},{title:"React / React Native",level:90},{title:"Nodejs",level:90},{title:"Typescript",level:60},{title:"3D Modeling",level:40}],sme=[{title:" French",level:100},{title:" English",level:80},{title:" Japanese",level:20}],ome=()=>ae.jsx(px,{children:ae.jsxs(kl.div,{whileInView:"visible",children:[ae.jsx("h2",{className:"text-5xl font-bold text-white",children:"Skills"}),ae.jsx("div",{className:" mt-8 space-y-4",children:ime.map((n,e)=>ae.jsxs("div",{className:"w-64",children:[ae.jsx(kl.h3,{className:"text-xl font-bold text-gray-100",initial:{opacity:0},variants:{visible:{opacity:1,transition:{duration:1,delay:1+e*.2}}},children:n.title}),ae.jsx("div",{className:"h-2 w-full bg-gray-200 rounded-full mt-2",children:ae.jsx(kl.div,{className:"h-full bg-indigo-500 rounded-full ",style:{width:`${n.level}%`},initial:{scaleX:0,originX:0},variants:{visible:{scaleX:1,transition:{duration:1,delay:1+e*.2}}}})})]},e))}),ae.jsxs("div",{children:[ae.jsx("h2",{className:"text-5xl font-bold mt-10 text-white",children:"Languages"}),ae.jsx("div",{className:" mt-8 space-y-4",children:sme.map((n,e)=>ae.jsxs("div",{className:"w-64",children:[ae.jsx(kl.h3,{className:"text-xl font-bold text-gray-100",initial:{opacity:0},variants:{visible:{opacity:1,transition:{duration:1,delay:2+e*.2}}},children:n.title}),ae.jsx("div",{className:"h-2 w-full bg-gray-200 rounded-full mt-2",children:ae.jsx(kl.div,{className:"h-full bg-indigo-500 rounded-full ",style:{width:`${n.level}%`},initial:{scaleX:0,originX:0},variants:{visible:{scaleX:1,transition:{duration:1,delay:2+e*.2}}}})})]},e))})]})]})}),ame=()=>{const[n,e]=m8(g8),t=()=>{e((n+1)%Mm.length)},r=()=>{e((n-1+Mm.length)%Mm.length)};return ae.jsx(px,{children:ae.jsxs("div",{className:"flex w-full h-full gap-8 items-center justify-center",children:[ae.jsx("button",{className:"hover:text-indigo-600 transition-colors",onClick:r,children:" Previous"}),ae.jsx("h2",{className:"text-5xl font-bold",children:"Projects"}),ae.jsx("button",{className:"hover:text-indigo-600 transition-colors",onClick:t,children:"Next "})]})})},lme=()=>ae.jsxs(px,{children:[ae.jsx("h2",{className:"text-5xl font-bold",children:"Contact me"}),ae.jsx("div",{className:"mt-8 p-8 rounded-md bg-white w-96 max-w-full",children:ae.jsxs("form",{children:[ae.jsx("label",{for:"name",className:"font-medium text-gray-900 block mb-1",children:"Name"}),ae.jsx("input",{type:"text",name:"name",id:"name",className:"block w-full rounded-md border-0 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 p-3"}),ae.jsx("label",{for:"email",className:"font-medium text-gray-900 block mb-1 mt-8",children:"Email"}),ae.jsx("input",{type:"email",name:"email",id:"email",className:"block w-full rounded-md border-0 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 p-3"}),ae.jsx("label",{for:"email",className:"font-medium text-gray-900 block mb-1 mt-8",children:"Message"}),ae.jsx("textarea",{name:"message",id:"message",className:"h-32 block w-full rounded-md border-0 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 p-3"}),ae.jsx("button",{className:"bg-indigo-600 text-white py-4 px-8 rounded-lg font-bold text-lg mt-16 ",children:"Submit"})]})})]}),cme=n=>{const{onSectionChange:e,menuOpened:t,setMenuOpened:r}=n;return ae.jsxs(ae.Fragment,{children:[ae.jsxs("button",{onClick:()=>r(!t),className:"z-20 fixed top-12 right-12 p-3 bg-indigo-600 w-11 h-11 rounded-md",children:[ae.jsx("div",{className:`bg-white h-0.5 rounded-md w-full transition-all ${t?"rotate-45  translate-y-0.5":""}`}),ae.jsx("div",{className:`bg-white h-0.5 rounded-md w-full my-1 ${t?"hidden":""}`}),ae.jsx("div",{className:`bg-white h-0.5 rounded-md w-full transition-all ${t?"-rotate-45":""}`})]}),ae.jsx("div",{className:`z-10 fixed top-0 right-0 bottom-0 bg-white transition-all overflow-hidden flex flex-col
      ${t?"w-80":"w-0"}`,children:ae.jsxs("div",{className:"flex-1 flex items-start justify-center flex-col gap-6 p-8",children:[ae.jsx(by,{label:"About",onClick:()=>e(0)}),ae.jsx(by,{label:"Skills",onClick:()=>e(1)}),ae.jsx(by,{label:"Projects",onClick:()=>e(2)}),ae.jsx(by,{label:"Contact",onClick:()=>e(3)})]})})]})},by=n=>{const{label:e,onClick:t}=n;return ae.jsx("button",{onClick:t,className:"text-2xl font-bold cursor-pointer hover:text-indigo-600 transition-colors",children:e})},ume=n=>{const{section:e,onSectionChange:t}=n,r=jg(),i=B.useRef(0),s=B.useRef(!1);return r.fill.classList.add("top-0"),r.fill.classList.add("absolute"),B.useEffect(()=>{lT.to(r.el,{duration:1,scrollTop:e*r.el.clientHeight,onStart:()=>{s.current=!0},onComplete:()=>{s.current=!1}})},[e]),hs(()=>{if(s.current){i.current=r.scroll.current;return}const o=Math.floor(r.scroll.current*r.pages);r.scroll.current>i.current&&o===0&&t(1),r.scroll.current<i.current&&r.scroll.current<1/(r.pages-1)&&t(0),i.current=r.scroll.current}),null};function fme(){const[n,e]=B.useState(0),[t,r]=B.useState(!1);return B.useEffect(()=>{r(!1)},[n]),ae.jsxs(ae.Fragment,{children:[ae.jsxs(sse,{transition:{...QM},children:[ae.jsxs(hQ,{shadows:!0,camera:{position:[0,3,10],fov:42},children:[ae.jsx("color",{attach:"background",args:["#e6e7ff"]}),ae.jsxs(VQ,{pages:4,damping:.1,children:[ae.jsx(ume,{section:n,onSectionChange:e}),ae.jsx(fB,{children:ae.jsx(tme,{section:n,menuOpened:t})}),ae.jsx(fB,{html:!0,children:ae.jsx(nme,{setSection:e})})]})]}),ae.jsx(cme,{onSectionChange:e,menuOpened:t,setMenuOpened:r}),ae.jsx(che,{})]}),ae.jsx(d6,{hidden:!0})]})}bA.createRoot(document.getElementById("root")).render(ae.jsx(ee.StrictMode,{children:ae.jsx(fme,{})}));
